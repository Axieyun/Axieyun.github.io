<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>灰色系统</title>
      <link href="posts/5f9d.html"/>
      <url>posts/5f9d.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>linux之chmod</title>
      <link href="posts/458a.html"/>
      <url>posts/458a.html</url>
      
        <content type="html"><![CDATA[<h3 id="chmod"><a href="#chmod" class="headerlink" title="chmod"></a>chmod</h3><pre class=" language-shell"><code class="language-shell">chomd 文件身份+操作符+权限符号 文件路径或者文件夹（目录）路径</code></pre><h4 id="文件的身份"><a href="#文件的身份" class="headerlink" title="文件的身份"></a>文件的身份</h4><ul><li>u：user 文件所有者</li><li>g：group 文件所属群组</li><li>o：other 其他拥有者</li><li>a：all全部身份</li></ul><h4 id="操作符的三种类"><a href="#操作符的三种类" class="headerlink" title="操作符的三种类"></a>操作符的三种类</h4><ul><li><p>+：增加</p></li><li><p>-：减少</p></li><li><p>=：设定</p></li></ul><h4 id="权限符号"><a href="#权限符号" class="headerlink" title="权限符号"></a>权限符号</h4><ul><li>r：read可读</li><li>w：write可写</li><li>x：execute可执行</li></ul><h4 id="修改文件权限"><a href="#修改文件权限" class="headerlink" title="修改文件权限"></a>修改文件权限</h4><ul><li>给当前路径文件test.html增加其它用户可读权限</li></ul><pre class=" language-shell"><code class="language-shell">sudo chmod o+r ./test.html</code></pre><ul><li>给当前路径文件test.html增加所属组的用户可执行权限</li></ul><pre class=" language-shell"><code class="language-shell">sudo chmod g+x ./test.html</code></pre><ul><li>设置当前路径文件test.html所属用户拥有者的可读可写可执行权限</li></ul><pre class=" language-shell"><code class="language-shell">sudo chmod u=rwx ./tset.html</code></pre><h4 id="修改文件夹（目录）权限"><a href="#修改文件夹（目录）权限" class="headerlink" title="修改文件夹（目录）权限"></a>修改文件夹（目录）权限</h4><ul><li>给当前路径的文件夹（目录）test增加其它用户可读权限</li></ul><pre class=" language-shell"><code class="language-shell">sudo chmod -R o+r ./test</code></pre><ul><li>给当前路径的文件夹（目录）test增加所属组的用户可执行权限</li></ul><pre class=" language-shell"><code class="language-shell">sudo chmod -R g+x ./test</code></pre><ul><li>设置当前路径的文件夹（目录）test所属用户拥有者的可读可写可执行权限</li></ul><pre class=" language-shell"><code class="language-shell">sudo chmod -R u=rwx ./tset</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>matlab之struct数组排序</title>
      <link href="posts/1899.html"/>
      <url>posts/1899.html</url>
      
        <content type="html"><![CDATA[<h3 id="分配内存"><a href="#分配内存" class="headerlink" title="分配内存"></a>分配内存</h3><pre class=" language-matlab"><code class="language-matlab">person <span class="token operator">=</span> struct<span class="token punctuation">{</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'sex'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">;</span>persons <span class="token operator">=</span> <span class="token function">repmat</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">% 分配内存，30*40的结构体矩阵</span></code></pre><pre class=" language-matlab"><code class="language-matlab">clear<span class="token punctuation">;</span>clc<span class="token punctuation">;</span>close all<span class="token punctuation">;</span><span class="token comment" spellcheck="true">%%</span>x<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">7.15</span> <span class="token number">8.25</span> <span class="token number">3.20</span> <span class="token number">10.30</span> <span class="token number">6.68</span> <span class="token number">12.03</span> <span class="token number">16.85</span> <span class="token number">17.51</span> <span class="token number">9.30</span><span class="token punctuation">]</span><span class="token punctuation">;</span>y<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">11.10</span> <span class="token number">15.00</span> <span class="token number">6.00</span> <span class="token number">16.25</span> <span class="token number">9.90</span> <span class="token number">18.25</span> <span class="token number">20.80</span> <span class="token number">24.15</span> <span class="token number">15.50</span><span class="token punctuation">]</span><span class="token punctuation">;</span>n<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">568</span> <span class="token number">1205</span> <span class="token number">753</span> <span class="token number">580</span> <span class="token number">395</span> <span class="token number">2104</span> <span class="token number">1538</span> <span class="token number">810</span> <span class="token number">694</span><span class="token punctuation">]</span><span class="token operator">'</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">%{</span><span class="token comment" spellcheck="true">% S=(y-x)*n</span><span class="token comment" spellcheck="true">% y - x</span><span class="token comment" spellcheck="true">%}</span>name <span class="token operator">=</span>  <span class="token punctuation">[</span>"x1"<span class="token punctuation">,</span> "x2"<span class="token punctuation">,</span> "x3"<span class="token punctuation">,</span> "x4"<span class="token punctuation">,</span> "x5"<span class="token punctuation">,</span> "x6"<span class="token punctuation">,</span> "x7"<span class="token punctuation">,</span> "x8"<span class="token punctuation">,</span> "x9"<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token number">i</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">:</span><span class="token number">9</span>    <span class="token function">st</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">%货号</span>    <span class="token function">st</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token function">x</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">% 该商品的进价</span>    <span class="token function">st</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token function">y</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">% 该商品的售价</span>    <span class="token function">st</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token punctuation">.</span>n <span class="token operator">=</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">% 该商品的销量</span>    <span class="token function">st</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token punctuation">.</span>ny <span class="token operator">=</span> <span class="token function">y</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">% 每种商品的收入</span>    <span class="token function">st</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token punctuation">.</span>nx <span class="token operator">=</span> <span class="token function">x</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">% 每种商品的成本 </span>    <span class="token function">st</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token punctuation">.</span>s <span class="token operator">=</span> <span class="token function">st</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token punctuation">.</span>ny <span class="token operator">-</span> <span class="token function">st</span><span class="token punctuation">(</span><span class="token number">i</span><span class="token punctuation">)</span><span class="token punctuation">.</span>nx<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">% 每种商品的利益</span><span class="token keyword">end</span><span class="token comment" spellcheck="true">%{</span>结构体排序，安装key <span class="token operator">=</span> st<span class="token punctuation">.</span>s排序 其value，返回index（排序后对应的索引）ss为返回的排序好的对应的value<span class="token comment" spellcheck="true">%}</span><span class="token punctuation">[</span>ss<span class="token punctuation">,</span> index<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">[</span>st<span class="token punctuation">.</span>s<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>ss<span class="token comment" spellcheck="true">%index</span><span class="token comment" spellcheck="true">%最小利润</span><span class="token function">fprintf</span><span class="token punctuation">(</span>"最小利润货号：<span class="token comment" spellcheck="true">%s\n", st(index(1)).name);</span><span class="token function">fprintf</span><span class="token punctuation">(</span>"最小利润：<span class="token comment" spellcheck="true">%d\n", st(index(1)).s);</span><span class="token comment" spellcheck="true">%最大利润</span><span class="token function">fprintf</span><span class="token punctuation">(</span>"最大利润货号：<span class="token comment" spellcheck="true">%s\n", st(index(9)).name);</span><span class="token function">fprintf</span><span class="token punctuation">(</span>"最大利润：<span class="token comment" spellcheck="true">%d\n", st(index(9)).s);</span>    <span class="token punctuation">[</span>ss<span class="token punctuation">,</span> index<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">[</span>st<span class="token punctuation">.</span>ny<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">%index</span><span class="token comment" spellcheck="true">%最小收入</span><span class="token function">fprintf</span><span class="token punctuation">(</span>"最小收入货号：<span class="token comment" spellcheck="true">%s\n", st(index(1)).name);</span><span class="token function">fprintf</span><span class="token punctuation">(</span>"最小收入：<span class="token comment" spellcheck="true">%d\n", st(index(1)).ny);</span><span class="token comment" spellcheck="true">%最大收入</span><span class="token function">fprintf</span><span class="token punctuation">(</span>"最大收入货号：<span class="token comment" spellcheck="true">%s\n", st(index(9)).name);</span><span class="token function">fprintf</span><span class="token punctuation">(</span>"最大收入：<span class="token comment" spellcheck="true">%d\n", st(index(9)).ny);</span>ny <span class="token operator">=</span> y<span class="token operator">*</span>n<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">%收入</span>s <span class="token operator">=</span> <span class="token punctuation">(</span>y <span class="token operator">-</span> x<span class="token punctuation">)</span><span class="token operator">*</span>n<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">%利益</span><span class="token function">fprintf</span><span class="token punctuation">(</span>"收入：<span class="token comment" spellcheck="true">%d\n", ny);</span><span class="token function">fprintf</span><span class="token punctuation">(</span>"利润：<span class="token comment" spellcheck="true">%d\n", s);</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> matlab </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>记录一次在多版本python的系统中指定python版本</title>
      <link href="posts/8122.html"/>
      <url>posts/8122.html</url>
      
        <content type="html"><![CDATA[<p><em>在编译cocos2d-x-3.17.2需要2.7版本的python，电脑同时包含多个python版本，我们需要指定python本版来进行编译。</em></p><p><em>因为在电脑中，会根据python的环境变量出现顺序执行</em></p><p><strong>操作前的准备工作</strong></p><ul><li>在dos命令窗口中执行以下命令</li></ul><pre class=" language-dos"><code class="language-dos">where python</code></pre><ul><li>出现多个版本python（默认python环境变量配置好了）</li></ul><pre class=" language-tex"><code class="language-tex">F:\python3.8.10\python.exeF:\py2.7.6\python.exeF:\anaconda3\python.exeC:\Users\Axieyun\AppData\Local\Microsoft\WindowsApps\python.exe</code></pre><p><em>所以我们运行python的时候都是运行python3.8.10版本的</em></p><h3 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h3><h4 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h4><ul><li>进入python3.8.10的安装路径，把<strong>python.exe</strong>重命名为<strong>python3.exe</strong></li></ul><h4 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h4><ul><li>修改python的环境变量的出现顺序。</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 日志 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linux的apt命令</title>
      <link href="posts/19be.html"/>
      <url>posts/19be.html</url>
      
        <content type="html"><![CDATA[<h3 id="apt与apt-get之间的区别"><a href="#apt与apt-get之间的区别" class="headerlink" title="apt与apt-get之间的区别"></a>apt与apt-get之间的区别</h3><pre class=" language-tex"><code class="language-tex">通过 apt 命令，用户可以在同一地方集中得到所有必要的工具，apt 的主要目的是提供一种以「让终端用户满意」的方式来处理 Linux 软件包的有效方式。apt 具有更精减但足够的命令选项，而且参数选项的组织方式更为有效。除此之外，它默认启用的几个特性对最终用户也非常有帮助。例如，可以在使用 apt 命令安装或删除程序时看到进度条。apt 还会在更新存储库数据库时提示用户可升级的软件包个数。如果你使用 apt 的其它命令选项，也可以实现与使用 apt-get 时相同的操作。</code></pre><h4 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h4><ul><li>虽然 apt 与 apt-get 有一些类似的命令选项，但它并不能完全向下兼容 apt-get 命令。</li><li>也就是说，可以用 apt 替换部分 apt-get 系列命令，但不是全部。</li></ul><h3 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h3><table><thead><tr><th align="center">apt命令</th><th align="center">取代的命令</th><th align="center">命令的功能</th></tr></thead><tbody><tr><td align="center">apt install</td><td align="center">apt-get install</td><td align="center">安装软件包</td></tr><tr><td align="center">apt remove</td><td align="center">apt-get remove</td><td align="center">移除软件包</td></tr><tr><td align="center">apt purge</td><td align="center">apt-get purge</td><td align="center">移除软件包及配置文件</td></tr><tr><td align="center">apt update</td><td align="center">apt-get update</td><td align="center">刷新存储库索引</td></tr><tr><td align="center">apt upgrade</td><td align="center">apt-get upgrade</td><td align="center">升级所有可升级的软件包</td></tr><tr><td align="center">apt autoremove</td><td align="center">apt-get autoremove</td><td align="center">自动删除不需要的包</td></tr><tr><td align="center">apt full-upgrade</td><td align="center">apt-get dist-upgrade</td><td align="center">在升级软件包时自动处理依赖关系</td></tr><tr><td align="center">apt search</td><td align="center">apt-cache search</td><td align="center">搜索应用程序</td></tr><tr><td align="center">apt show</td><td align="center">apt-cache show</td><td align="center">显示安装细节</td></tr><tr><td align="center">apt list</td><td align="center"></td><td align="center">列出包含条件的包（已安装，可升级等）</td></tr><tr><td align="center">apt edit-sources</td><td align="center"></td><td align="center">编辑源列表</td></tr></tbody></table>]]></content>
      
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linux的apt源配置</title>
      <link href="posts/b2a1.html"/>
      <url>posts/b2a1.html</url>
      
        <content type="html"><![CDATA[<h4 id="查看源类型"><a href="#查看源类型" class="headerlink" title="查看源类型"></a>查看源类型</h4><ul><li><p>命令</p><pre class=" language-bash"><code class="language-bash">lsb_release -a</code></pre></li><li><p>显示</p><pre class=" language-tex"><code class="language-tex">No LSB modules are available.Distributor ID: UbuntuDescription:    Ubuntu 20.04.3 LTSRelease:        20.04Codename:       focal</code></pre></li></ul><h4 id="切换apt源"><a href="#切换apt源" class="headerlink" title="切换apt源"></a>切换apt源</h4><ul><li>打开文件/etc/apt/sources.list</li></ul><pre class=" language-bash"><code class="language-bash"><span class="token function">sudo</span> vim /etc/apt/sources.list</code></pre><ul><li>切换 清华源</li></ul><pre class=" language-vim"><code class="language-vim">#清华源deb https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token operator">.</span>tuna<span class="token operator">.</span>tsinghua<span class="token operator">.</span>edu<span class="token operator">.</span><span class="token keyword">cn</span><span class="token operator">/</span>ubuntu<span class="token operator">/</span> focal main restricted universe multiverse# deb<span class="token operator">-</span>src https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token operator">.</span>tuna<span class="token operator">.</span>tsinghua<span class="token operator">.</span>edu<span class="token operator">.</span><span class="token keyword">cn</span><span class="token operator">/</span>ubuntu<span class="token operator">/</span> focal main restricted universe multiversedeb https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token operator">.</span>tuna<span class="token operator">.</span>tsinghua<span class="token operator">.</span>edu<span class="token operator">.</span><span class="token keyword">cn</span><span class="token operator">/</span>ubuntu<span class="token operator">/</span> focal<span class="token operator">-</span>updates main restricted universe multiverse# deb<span class="token operator">-</span>src https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token operator">.</span>tuna<span class="token operator">.</span>tsinghua<span class="token operator">.</span>edu<span class="token operator">.</span><span class="token keyword">cn</span><span class="token operator">/</span>ubuntu<span class="token operator">/</span> focal<span class="token operator">-</span>updates main restricted universe multiversedeb https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token operator">.</span>tuna<span class="token operator">.</span>tsinghua<span class="token operator">.</span>edu<span class="token operator">.</span><span class="token keyword">cn</span><span class="token operator">/</span>ubuntu<span class="token operator">/</span> focal<span class="token operator">-</span>backports main restricted universe multiverse# deb<span class="token operator">-</span>src https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token operator">.</span>tuna<span class="token operator">.</span>tsinghua<span class="token operator">.</span>edu<span class="token operator">.</span><span class="token keyword">cn</span><span class="token operator">/</span>ubuntu<span class="token operator">/</span> focal<span class="token operator">-</span>backports main restricted universe multiversedeb https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token operator">.</span>tuna<span class="token operator">.</span>tsinghua<span class="token operator">.</span>edu<span class="token operator">.</span><span class="token keyword">cn</span><span class="token operator">/</span>ubuntu<span class="token operator">/</span> focal<span class="token operator">-</span>security main restricted universe multiverse# deb<span class="token operator">-</span>src https<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>mirrors<span class="token operator">.</span>tuna<span class="token operator">.</span>tsinghua<span class="token operator">.</span>edu<span class="token operator">.</span><span class="token keyword">cn</span><span class="token operator">/</span>ubuntu<span class="token operator">/</span> focal<span class="token operator">-</span>security main restricted universe multiverse</code></pre><ul><li>最后执行 刷新 存储库索引<pre class=" language-bash"><code class="language-bash"><span class="token function">sudo</span> apt update</code></pre></li></ul><h4 id="学习"><a href="#学习" class="headerlink" title="学习"></a>学习</h4><pre class=" language-tex"><code class="language-tex">ubuntu各个版本的源如下：Ubuntu 12.04 (LTS)代号为precise。Ubuntu 14.04 (LTS)代号为trusty。Ubuntu 15.04 代号为vivid。Ubuntu 15.10 代号为wily。Ubuntu 16.04 (LTS)代号为xenial。Ubuntu 18.04 (LTS)代号为bionic。Ubuntu 20.04 (LTS)代号为focal。</code></pre><p><em>参考</em><br><a href="https://blog.csdn.net/woshiheweigui/article/details/115557020?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164715562716780271932529%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&amp;request_id=164715562716780271932529&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-5-115557020.pc_search_insert_es_download&amp;utm_term=E:+Unable+to+correct+problems,+you+have+held+broken+packages.&amp;spm=1018.2226.3001.4187">链接</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linux内核源码下载</title>
      <link href="posts/7e3f.html"/>
      <url>posts/7e3f.html</url>
      
        <content type="html"><![CDATA[<h4 id="1、查看内核版本"><a href="#1、查看内核版本" class="headerlink" title="1、查看内核版本"></a>1、查看内核版本</h4><pre class=" language-bash"><code class="language-bash">apt-cache search linux-source</code></pre><p><strong>显示如下</strong></p><pre class=" language-tex"><code class="language-tex">linux-source - Linux kernel source with Ubuntu patcheslinux-source-5.4.0 - Linux kernel source for version 5.4.0 with Ubuntu patcheslinux-gkeop-source-5.4.0 - Linux kernel source for version 5.4.0 with Ubuntu patches</code></pre><h4 id="我的版本"><a href="#我的版本" class="headerlink" title="我的版本"></a>我的版本</h4><ul><li>5.4.0</li></ul><h4 id="下载内核源码"><a href="#下载内核源码" class="headerlink" title="下载内核源码"></a>下载内核源码</h4><ul><li><p>1、命令</p><pre class=" language-bash"><code class="language-bash"><span class="token function">sudo</span> apt <span class="token function">install</span> linux-source-5.4.0</code></pre></li><li><p>2、解压<br>下载内容放在目录/usr/src下</p><pre class=" language-bash"><code class="language-bash"><span class="token function">cd</span> /usr/src<span class="token function">sudo</span> <span class="token function">tar</span> -xjvf linux-source-5.4.0.tar.bz2</code></pre></li></ul><h4 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h4><ul><li>不需要在 /usr/src/linux-source-5.4.0目录<pre class=" language-bash"><code class="language-bash"><span class="token function">sudo</span> ctags -R /usr/src/linux-source-5.4.0</code></pre></li></ul><ul><li>在/usr/src/linux-source-5.4.0目录<pre class=" language-bash"><code class="language-bash"><span class="token function">sudo</span> ctags -R*</code></pre></li></ul><p><em>源码获取完毕</em></p>]]></content>
      
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>zsh插件</title>
      <link href="posts/8569.html"/>
      <url>posts/8569.html</url>
      
        <content type="html"><![CDATA[<h4 id="Zsh命令自动补全插件-zsh-autosuggestions"><a href="#Zsh命令自动补全插件-zsh-autosuggestions" class="headerlink" title="Zsh命令自动补全插件 zsh-autosuggestions"></a>Zsh命令自动补全插件 zsh-autosuggestions</h4><ul><li><p>1、安装命令</p></li><li><p>github的gitee的两个挑一个</p><pre class=" language-bash"><code class="language-bash"><span class="token function">git</span> clone https://github.com/zsh-users/zsh-autosuggestions <span class="token variable">$ZSH_CUSTOM</span>/plugins/zsh-autosuggestions</code></pre><pre class=" language-shell"><code class="language-shell">git clone https://gitee.com/phpxxo/zsh-autosuggestions.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions</code></pre></li><li><p>2、配置</p></li><li><ul><li>1、打开文件</li></ul></li></ul><pre class=" language-bash"><code class="language-bash">vim ~/.zshrc</code></pre><ul><li><ul><li>2、在~/.zshrc文件中找到plugins数组，加入zsh-autosuggestions</li></ul></li></ul><h4 id="Zsh命令语法高亮插件-zsh-syntax-highlighting"><a href="#Zsh命令语法高亮插件-zsh-syntax-highlighting" class="headerlink" title="Zsh命令语法高亮插件 zsh-syntax-highlighting"></a>Zsh命令语法高亮插件 zsh-syntax-highlighting</h4><ul><li>1、命令<pre class=" language-bash"><code class="language-bash"><span class="token function">git</span> clone https://github.com/zsh-users/zsh-syntax-highlighting.git <span class="token variable">$ZSH_CUSTOM</span>/plugins/zsh-syntax-highlighting</code></pre></li><li>2、配置</li><li><ul><li>1、打开文件<pre class=" language-bash"><code class="language-bash">vim ~/.zshrc</code></pre></li></ul></li><li><ul><li>2、在~/.zshrc文件中找到plugins数组，在 zsh-autosuggestions 后面加入zsh-syntax-highlighting（必须是后面）</li></ul></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ANSIC标准的预定义宏</title>
      <link href="posts/6e49.html"/>
      <url>posts/6e49.html</url>
      
        <content type="html"><![CDATA[<pre class=" language-c"><code class="language-c">ANSI  C 有几个标准的预定义宏，为：<span class="token constant">__FILE__</span> ： 当前源代码的文件名。<span class="token constant">__LINE__</span>： 当前源代码的行号。<span class="token constant">__DATE__</span>：当前的编译日期。<span class="token constant">__TIME__</span>：当前的编译时间。</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> C </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python网络编码问题</title>
      <link href="posts/6834.html"/>
      <url>posts/6834.html</url>
      
        <content type="html"><![CDATA[<h4 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h4><pre class=" language-tex"><code class="language-tex">最近在win 和 linux进行网络编程时，win利用python编写图形化客户端，Linux编写server。遇到问题：网络字节流的传输在python中，字节流与字符编码，以及老是遇到无效解码位置</code></pre><h3 id="学习"><a href="#学习" class="headerlink" title="学习"></a>学习</h3><ul><li><p>在最新的Python 3版本中，字符串是以Unicode编码的，也就是说，Python的字符串支持多语言。</p></li><li><p>对于单个字符的编码，Python提供了ord()函数获取字符的整数表示，chr()函数把编码转换为对应的字符：</p></li></ul><pre class=" language-tex"><code class="language-tex">>>> ord('a')97>>> ord('中')20013>>> chr(97)'a'>>> chr(20013)'中'</code></pre><ul><li>由于Python的字符串类型是str，在内存中以Unicode表示，一个字符对应若干个字节。</li><li>如果要在网络上传输，或者保存到磁盘上，就需要把str变为以字节为单位的bytes。</li><li>Python对bytes类型的数据用带b前缀的单引号或双引号表示：b’abc’</li></ul><h4 id="理论"><a href="#理论" class="headerlink" title="理论"></a>理论</h4><pre class=" language-tex"><code class="language-tex">Unicode编码使得在一个文本中，各个国家的文字都可以清楚的表示出来这点ASCII是无法做到的）。（内存中表示）utf-8 是秉承一种节约磁盘空间或者网络带宽，它常用与在传输中，或者是存储于磁盘中的一种编码。（硬盘或者需要传输的时候表示）</code></pre><h4 id="encode"><a href="#encode" class="headerlink" title="encode()"></a>encode()</h4><ul><li>以Unicode表示的str通过encode()方法可以编码为指定的bytes</li></ul><pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token string">'abc'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>b<span class="token string">'abc'</span><span class="token operator">>></span><span class="token operator">></span> <span class="token string">'abc'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'ascii'</span><span class="token punctuation">)</span>b<span class="token string">'abc'</span>纯英文的str可以用ASCII编码为bytes，内容是一样的，含有中文的str可以用UTF<span class="token number">-8</span>编码为bytes。含有中文的str无法用ASCII编码，因为中文编码的范围超过了ASCII编码的范围，Python会报错。在bytes中，无法显示为ASCII字符的字节，用\x<span class="token comment" spellcheck="true">##显示。</span><span class="token operator">>></span><span class="token operator">></span> <span class="token string">'中'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf8'</span><span class="token punctuation">)</span>b<span class="token string">'\xe4\xb8\xad'</span><span class="token operator">>></span><span class="token operator">></span> <span class="token string">'中'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span>          <span class="token comment" spellcheck="true">#python3 默认就是utf-8</span>b<span class="token string">'\xe4\xb8\xad'</span><span class="token operator">>></span><span class="token operator">></span> <span class="token string">'中'</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'ascii'</span><span class="token punctuation">)</span>Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>  File <span class="token string">"&lt;stdin>"</span><span class="token punctuation">,</span> line <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">></span>UnicodeEncodeError<span class="token punctuation">:</span> <span class="token string">'ascii'</span> codec can<span class="token string">'t encode character '</span>\u4e2d' <span class="token keyword">in</span>position <span class="token number">0</span><span class="token punctuation">:</span> ordinal <span class="token operator">not</span> <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">128</span><span class="token punctuation">)</span></code></pre><h4 id="decode"><a href="#decode" class="headerlink" title="decode()"></a>decode()</h4><ul><li>如果我们从网络或磁盘上读取了字节流，那么读到的数据就是bytes。要把bytes变为str，就需要用decode()方法</li></ul><pre class=" language-python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> b<span class="token string">'\xe4\xb8\xad'</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token string">'中'</span><span class="token operator">>></span><span class="token operator">></span> b<span class="token string">'\xe4\xb8\xad'</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token comment" spellcheck="true">#python3 默认就是utf-8   </span><span class="token string">'中'</span>如果bytes中包含无法解码的字节，decode<span class="token punctuation">(</span><span class="token punctuation">)</span>方法会报错：<span class="token operator">>></span><span class="token operator">></span>  b<span class="token string">'\xe4\xb8\xad\xff'</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span>  File <span class="token string">"&lt;stdin>"</span><span class="token punctuation">,</span> line <span class="token number">1</span>    b<span class="token string">'\xe4\xb8\xad\xff'</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token operator">^</span>IndentationError<span class="token punctuation">:</span> unexpected indent如果bytes中只有一小部分无效的字节，可以传入errors<span class="token operator">=</span><span class="token string">'ignore'</span>忽略错误的字节：<span class="token operator">>></span><span class="token operator">></span>b<span class="token string">'\xe4\xb8\xad\xff'</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'utf8'</span><span class="token punctuation">,</span>errors<span class="token operator">=</span><span class="token string">'ignore'</span><span class="token punctuation">)</span></code></pre><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><ul><li>在操作字符串时，我们经常遇到str和bytes的互相转换。为了避免乱码问题，应当始终坚持使用UTF-8编码对str和bytes进行转换。</li></ul><h4 id="问题1"><a href="#问题1" class="headerlink" title="问题1"></a>问题1</h4><pre class=" language-tex"><code class="language-tex">UnicodeDecodeError: 'utf-8' codec can't decode byte 0xc8 in position 0: invalid continuation byte</code></pre><ul><li>该情况是由于出现了无法进行转换的 二进制数据造成的</li></ul><p><strong>解决</strong></p><ul><li>采用decode(‘utf8’,errors=’ignore’)进行解码</li><li>出现异常报错是由于设置了decode()方法的第二个参数errors为严格（strict）形式造成的，因为默认就是这个参数，将其更改为ignore等即可。</li></ul><h4 id="参考博客"><a href="#参考博客" class="headerlink" title="参考博客"></a>参考博客</h4><pre class=" language-tex"><code class="language-tex">https://blog.csdn.net/cxs123678/article/details/80040360?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164698628316781685370527%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&request_id=164698628316781685370527&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-3-80040360.pc_search_insert_es_download&utm_term=%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E7%BC%96%E7%A0%81&spm=1018.2226.3001.4187</code></pre><pre class=" language-tex"><code class="language-tex">https://blog.csdn.net/qq_18888869/article/details/82625343?ops_request_misc=&request_id=&biz_id=102&utm_term=%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8BUnicodeDecodeError:%20%27utf-8&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-1-82625343.nonecase&spm=1018.2226.3001.4187</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 网络编程 </tag>
            
            <tag> python </tag>
            
            <tag> 编码 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>记录一次DNS错误异常，导致浏览器使用不了网络</title>
      <link href="posts/9815.html"/>
      <url>posts/9815.html</url>
      
        <content type="html"><![CDATA[<pre class=" language-tex"><code class="language-tex">2022年3月8日下午6点上完毛概课，出去吃饭回来发现，电脑DNS异常，导致电脑浏览器网页打不开，具体原因未知。</code></pre><h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><ul><li><p>修改本机电脑DNS</p></li><li><ul><li>阿里云公共DNS地址：223.5.5.5和223.6.6.6</li></ul></li><li><ul><li>百度公共DNS地址：180.76.76.76</li></ul></li><li><ul><li>谷歌DNS地址：8.8.8.8和8.8.4.4</li></ul></li></ul><ul><li>刷新DNS缓存，dos命令</li></ul><pre class=" language-dos"><code class="language-dos">ipconfig /flushdns</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 日志 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>链式前向星</title>
      <link href="posts/c791.html"/>
      <url>posts/c791.html</url>
      
        <content type="html"><![CDATA[<h3 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h3><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">//链式前向星</span><span class="token comment" spellcheck="true">//定义全局初始化为0</span><span class="token keyword">int</span> cnt_edge<span class="token punctuation">,</span> head<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">,</span> next<span class="token punctuation">[</span>MAX_M<span class="token punctuation">]</span><span class="token punctuation">,</span> to<span class="token punctuation">[</span>MAX_M<span class="token punctuation">]</span><span class="token punctuation">,</span> w<span class="token punctuation">[</span>MAX_M<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 加边 </span><span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">add_edge</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">,</span> <span class="token keyword">int</span> c<span class="token punctuation">)</span> <span class="token punctuation">{</span>     to<span class="token punctuation">[</span><span class="token operator">++</span>cnt_edge<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">;</span>    w<span class="token punctuation">[</span>cnt_edge<span class="token punctuation">]</span> <span class="token operator">=</span> c<span class="token punctuation">;</span>    next<span class="token punctuation">[</span>cnt_edge<span class="token punctuation">]</span> <span class="token operator">=</span> head<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">;</span>    head<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">=</span> cnt_edge<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="访问每个节点连接的边"><a href="#访问每个节点连接的边" class="headerlink" title="访问每个节点连接的边"></a>访问每个节点连接的边</h3><pre class=" language-c"><code class="language-c"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> u <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> u <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>u<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//枚举节点编号</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> head<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token punctuation">;</span> i <span class="token operator">=</span> next<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//枚举该点边的编号</span>        to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//获得这条边执行的节点</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="解释"><a href="#解释" class="headerlink" title="解释"></a>解释</h3><ul><li>int cnt_edge; //边的编号 </li><li>to[++cnt_edge] = b; //记录这条边的指向节点 </li><li>w[cnt_edge] = c; //这条边的权值</li><li>nxt[cnt_edge] = head[a]; //以a为起点的上一条边</li><li>head[a] = cnt_edge; //以a为起点的最好一条边的编号</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 图论 </tag>
            
            <tag> 基础数据结构 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>力扣167、两数之和II-输入有序数组</title>
      <link href="posts/1b16.html"/>
      <url>posts/1b16.html</url>
      
        <content type="html"><![CDATA[<h3 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h3><p>给你一个下标从 1 开始的整数数组&nbsp;numbers ，该数组已按 非递减顺序排列&nbsp; ，请你从数组中找出满足相加之和等于目标数&nbsp;target 的两个数。如果设这两个数分别是 numbers[index1] 和 numbers[index2] ，则 1 &lt;= index1 &lt; index2 &lt;= numbers.length 。</p><p>以长度为 2 的整数数组 [index1, index2] 的形式返回这两个整数的下标 index1 和 index2。</p><p>你可以假设每个输入 只对应唯一的答案 ，而且你 不可以 重复使用相同的元素。</p><p>你所设计的解决方案必须只使用常量级的额外空间。</p><pre class=" language-tex"><code class="language-tex">&nbsp;示例 1：输入：numbers = [2,7,11,15], target = 9输出：[1,2]解释：2 与 7 之和等于目标数 9 。因此 index1 = 1, index2 = 2 。返回 [1, 2] 。</code></pre><pre class=" language-tex"><code class="language-tex">示例 2：输入：numbers = [2,3,4], target = 6输出：[1,3]解释：2 与 4 之和等于目标数 6 。因此 index1 = 1, index2 = 3 。返回 [1, 3] 。</code></pre><pre class=" language-tex"><code class="language-tex">示例 3：输入：numbers = [-1,0], target = -1输出：[1,2]解释：-1 与 0 之和等于目标数 -1 。因此 index1 = 1, index2 = 2 。返回 [1, 2] 。</code></pre><p><strong>提示：</strong></p><ul><li>2 &lt;= numbers.length &lt;= 3 * 1e4</li><li>-1000 &lt;= numbers[i] &lt;= 1000</li><li>numbers 按 非递减顺序 排列</li><li>-1000 &lt;= target &lt;= 1000</li><li>仅存在一个有效答案</li></ul><h3 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h3><ul><li><p>方法一：</p></li><li><ul><li>二分查找，时间复杂度O(nlgn)</li></ul></li><li><ul><li>从头到尾枚举，从枚举当前元素的下一位进行二分查找</li></ul></li><li><p>方法二：</p></li><li><ul><li>双指针，时间复杂度O(n)</li></ul></li></ul><h3 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h3><p><strong>二分查找</strong></p><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/** * Note: The returned array must be malloced, assume caller calls free(). */</span><span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">*</span>numbers<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span> l<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span> r<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> left <span class="token operator">=</span> l<span class="token punctuation">,</span> right <span class="token operator">=</span> r<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>left <span class="token operator">&lt;=</span> right<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>right <span class="token operator">-</span> left<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> left<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>numbers<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">==</span> target<span class="token punctuation">)</span> <span class="token keyword">return</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>numbers<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">></span> target<span class="token punctuation">)</span> right <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">else</span> left <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token function">twoSum</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">*</span>numbers<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span> numbersSize<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span> target<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>returnSize<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> <span class="token operator">*</span>ret <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">*</span>returnSize <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numbersSize <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>        ret<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>numbers<span class="token punctuation">,</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> numbersSize <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> target <span class="token operator">-</span> numbers<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>ret<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            ret<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> ret<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    ret<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> numbersSize <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>    ret<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> numbersSize<span class="token punctuation">;</span>    <span class="token keyword">return</span> ret<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>双指针</strong></p><p><em>版本1</em></p><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> <span class="token operator">*</span><span class="token function">twoSum</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">*</span>numbers<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span> numbersSize<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span> target<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>returnSize<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> <span class="token operator">*</span>ret <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">*</span>returnSize <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> numbersSize <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> j<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>numbers<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">></span> target <span class="token operator">-</span> numbers<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">--</span>j<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>numbers<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> target <span class="token operator">-</span> numbers<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>                ret<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>        ret<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> ret<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> ret<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><em>版本二</em></p><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> <span class="token operator">*</span><span class="token function">twoSum</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">*</span>numbers<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span> numbersSize<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span> target<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>returnSize<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> <span class="token operator">*</span>ret <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">*</span>returnSize <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> numbersSize <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> j<span class="token punctuation">;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>numbers<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">></span> target <span class="token operator">-</span> numbers<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">--</span>j<span class="token punctuation">;</span>        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>numbers<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> target <span class="token operator">-</span> numbers<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">++</span>i<span class="token punctuation">;</span>        <span class="token keyword">else</span> <span class="token punctuation">{</span>            ret<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>            ret<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> ret<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> ret<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>来源：力扣（LeetCode）<br>链接：<a href="https://leetcode-cn.com/problems/two-sum-ii-input-array-is-sorted">https://leetcode-cn.com/problems/two-sum-ii-input-array-is-sorted</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> 力扣题解 </tag>
            
            <tag> 二分查找 </tag>
            
            <tag> 双指针 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>力扣540、有序数组中的单一元素</title>
      <link href="posts/df39.html"/>
      <url>posts/df39.html</url>
      
        <content type="html"><![CDATA[<h3 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h3><p>给你一个仅由整数组成的有序数组，其中每个元素都会出现两次，唯有一个数只会出现一次。</p><p>请你找出并返回只出现一次的那个数。</p><p>你设计的解决方案必须满足 O(log n) 时间复杂度和 O(1) 空间复杂度。</p><p>&nbsp;</p><pre class=" language-tex"><code class="language-tex">示例 1:输入: nums = [1,1,2,3,3,4,4,8,8]输出: 2示例 2:输入: nums =  [3,3,7,7,10,11,11]输出: 10&nbsp;</code></pre><p>提示:</p><ul><li>1 &lt;= nums.length &lt;= 1e5</li><li>0 &lt;= nums[i]&nbsp;&lt;= 1e5</li></ul><h3 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h3><ul><li>只能二分了</li><li>只有一个不同的数字，那么该数字前后都有偶数个数</li><li>对于数组下标从0开始，那么该数的下标只能为偶数</li></ul><ul><li><p>有两种二z的方法</p></li><li><ul><li>1、二分偶数下标</li></ul></li><li><ul><li><ul><li>和下面一样</li></ul></li></ul></li><li><ul><li>2、二分全局数组，</li></ul></li><li><ul><li><ul><li>1、对于偶数下标mid的数，只需比较下标mid + 1的数字与其是否相同</li></ul></li></ul></li><li><ul><li><ul><li>相同说明答案下标&gt;=mid + 2</li></ul></li></ul></li><li><ul><li><ul><li>否则r = mid</li></ul></li></ul></li><li><ul><li><ul><li>2、对于奇数下标，该数只能与其前面那个数构成一对</li></ul></li></ul></li></ul><h3 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h3><p><strong>1</strong></p><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">singleNonDuplicate</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> numsSize<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>numsSize <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> l <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> r <span class="token operator">=</span> numsSize <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>l <span class="token operator">&lt;</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> ind <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>r <span class="token operator">-</span> l<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> l<span class="token punctuation">;</span>        ind <span class="token operator">-</span><span class="token operator">=</span> ind <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//变成偶数</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>ind<span class="token punctuation">]</span> <span class="token operator">==</span> nums<span class="token punctuation">[</span>ind <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            l <span class="token operator">=</span> ind <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> r <span class="token operator">=</span> ind<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> nums<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>2</strong></p><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">singleNonDuplicate</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> numsSize<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>numsSize <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> l <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> r <span class="token operator">=</span> numsSize <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>l <span class="token operator">&lt;</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>r <span class="token operator">-</span> l<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> l<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">==</span> nums<span class="token punctuation">[</span>mid <span class="token operator">^</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> l <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">else</span> r <span class="token operator">=</span> mid<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//利用位运算替换下面注释的代码</span>        <span class="token comment" spellcheck="true">// if (mid &amp; 1) {</span>        <span class="token comment" spellcheck="true">//     if (nums[mid] == nums[mid - 1]) l = mid + 1;</span>        <span class="token comment" spellcheck="true">//     else r = mid;</span>        <span class="token comment" spellcheck="true">// } else {</span>        <span class="token comment" spellcheck="true">//     if (nums[mid] != nums[mid + 1]) r = mid;</span>        <span class="token comment" spellcheck="true">//     else l = mid + 1;</span>        <span class="token comment" spellcheck="true">// }</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> nums<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>来源：力扣（LeetCode）<br>链接：<a href="https://leetcode-cn.com/problems/single-element-in-a-sorted-array">https://leetcode-cn.com/problems/single-element-in-a-sorted-array</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> 力扣题解 </tag>
            
            <tag> 二分查找 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>力扣139、单词拆分</title>
      <link href="posts/a8ca.html"/>
      <url>posts/a8ca.html</url>
      
        <content type="html"><![CDATA[<h3 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h3><p>给你一个字符串 s 和一个字符串列表 wordDict 作为字典。请你判断是否可以利用字典中出现的单词拼接出 s 。</p><p>注意：不要求字典中出现的单词全部都使用，并且字典中的单词可以重复使用。</p><p>&nbsp;</p><pre class=" language-tex"><code class="language-tex">示例 1：输入: s = "leetcode", wordDict = ["leet", "code"]输出: true解释: 返回 true 因为 "leetcode" 可以由 "leet" 和 "code" 拼接成。</code></pre><pre class=" language-tex"><code class="language-tex">示例 2：输入: s = "applepenapple", wordDict = ["apple", "pen"]输出: true解释: 返回 true 因为 "applepenapple" 可以由 "apple" "pen" "apple" 拼接成。&nbsp;    注意，你可以重复使用字典中的单词。</code></pre><pre class=" language-tex"><code class="language-tex">示例 3：输入: s = "catsandog", wordDict = ["cats", "dog", "sand", "and", "cat"]输出: false</code></pre><p>提示：</p><ul><li>1 &lt;= s.length &lt;= 300</li><li>1 &lt;= wordDict.length &lt;= 1000</li><li>1 &lt;= wordDict[i].length &lt;= 20</li><li>s 和 wordDict[i] 仅有小写英文字母组成</li><li>wordDict 中的所有字符串 互不相同</li></ul><h3 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h3><ul><li>dfs</li><li>搜索字典，判断字典中的字符串是否是文本串s的前缀子串</li><li>是的话，继续搜索，判断文本串后面的子串是否能被字典的串拼接（重复上面步骤）</li><li>dfs边界：</li><li><ul><li>1、搜索到文本串s的结尾，返回真</li></ul></li><li><ul><li>2、记忆化搜索，剪枝，缓冲搜索状态</li></ul></li></ul><h3 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h3><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">//判断单词是否是文本串s的前缀串</span>bool <span class="token function">isWord</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>s<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>word<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span> len_w<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>len_w <span class="token operator">></span> <span class="token function">strlen</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token operator">*</span><span class="token punctuation">(</span>word <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">(</span>word <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">^</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">(</span>s <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> true<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">short</span> record<span class="token punctuation">[</span><span class="token number">301</span><span class="token punctuation">]</span><span class="token punctuation">;</span>bool <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>s<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span> sstart<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span>wordDict<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span> wordDictSize<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">*</span><span class="token punctuation">(</span>s <span class="token operator">+</span> sstart<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'\0'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> true<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//递归边界</span>    <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token operator">*</span><span class="token punctuation">(</span>record <span class="token operator">+</span> sstart<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//剪枝，成功或者失败过</span>        <span class="token keyword">return</span> <span class="token operator">*</span><span class="token punctuation">(</span>record <span class="token operator">+</span> sstart<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> word_idx <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> word_idx <span class="token operator">&lt;</span> wordDictSize<span class="token punctuation">;</span> <span class="token operator">++</span>word_idx<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> len_w <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span> <span class="token operator">*</span><span class="token punctuation">(</span>wordDict <span class="token operator">+</span> word_idx<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">isWord</span><span class="token punctuation">(</span>s <span class="token operator">+</span> sstart<span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">(</span>wordDict <span class="token operator">+</span> word_idx<span class="token punctuation">)</span><span class="token punctuation">,</span> len_w<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//该字符串是s子串</span>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">dfs</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> sstart <span class="token operator">+</span> len_w<span class="token punctuation">,</span> wordDict<span class="token punctuation">,</span> wordDictSize<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//它后面的串也是s的子串</span>                <span class="token operator">*</span><span class="token punctuation">(</span>record <span class="token operator">+</span> sstart<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// 成功的标志</span>                <span class="token keyword">return</span> true<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token operator">*</span><span class="token punctuation">(</span>record <span class="token operator">+</span> sstart<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//失败也是一种标志</span>    <span class="token keyword">return</span> false<span class="token punctuation">;</span><span class="token punctuation">}</span>bool <span class="token function">wordBreak</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token operator">*</span> wordDict<span class="token punctuation">,</span> <span class="token keyword">int</span> wordDictSize<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token function">memset</span><span class="token punctuation">(</span>record<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">short</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">301</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 初始化，没讲过世面</span>    <span class="token keyword">return</span> <span class="token function">dfs</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> wordDict<span class="token punctuation">,</span> wordDictSize<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> dfs </tag>
            
            <tag> 力扣题解 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>力扣189、轮转数组</title>
      <link href="posts/fffc.html"/>
      <url>posts/fffc.html</url>
      
        <content type="html"><![CDATA[<h3 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h3><p>给你一个数组，将数组中的元素向右轮转 k&nbsp;个位置，其中&nbsp;k&nbsp;是非负数。</p><p>&nbsp;</p><pre class=" language-tex"><code class="language-tex">示例 1:输入: nums = [1,2,3,4,5,6,7], k = 3输出: [5,6,7,1,2,3,4]解释:向右轮转 1 步: [7,1,2,3,4,5,6]向右轮转 2 步: [6,7,1,2,3,4,5]向右轮转 3 步: [5,6,7,1,2,3,4]</code></pre><pre class=" language-tex"><code class="language-tex">示例&nbsp;2:输入：nums = [-1,-100,3,99], k = 2输出：[3,99,-1,-100]解释: 向右轮转 1 步: [99,-1,-100,3]向右轮转 2 步: [3,99,-1,-100]</code></pre><p>提示：</p><ul><li>1 &lt;= nums.length &lt;= 105</li><li>-2^31 &lt;= nums[i] &lt;= 2^31 - 1</li><li>0 &lt;= k &lt;= 105</li></ul><h3 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h3><ul><li>显而易见，k居然周期性，k大于数组长度时就重复翻转了。</li><li>通过观察，可以发现轮转k个位置，就是把后面k个数放到前面来</li><li>我们可以翻转整个数组，然后翻转前面k个数，再翻转后面剩余的数。</li></ul><h3 id="题解1"><a href="#题解1" class="headerlink" title="题解1"></a>题解1</h3><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">define</span> swap(a, b) \    (a) ^= (b), (b) ^= (a), (a) ^= (b)</span><span class="token keyword">void</span> <span class="token function">reverseArray</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>arr<span class="token punctuation">,</span> <span class="token keyword">int</span> start<span class="token punctuation">,</span> <span class="token keyword">int</span> end<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> l <span class="token operator">=</span> start<span class="token punctuation">,</span> r <span class="token operator">=</span> end<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>l <span class="token operator">&lt;</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">swap</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token operator">++</span>l<span class="token punctuation">;</span>        <span class="token operator">--</span>r<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">rotate</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> numsSize<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span><span class="token punctuation">{</span>    k <span class="token operator">%</span><span class="token operator">=</span> numsSize<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>k <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">reverseArray</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> numsSize <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">reverseArray</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> k <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">reverseArray</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> k<span class="token punctuation">,</span> numsSize <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="题解二"><a href="#题解二" class="headerlink" title="题解二"></a>题解二</h3><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">gcd</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> b <span class="token operator">?</span> <span class="token function">gcd</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> a <span class="token operator">%</span> b<span class="token punctuation">)</span> <span class="token punctuation">:</span> a<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token macro property">#<span class="token directive keyword">define</span> swap(a, b) \    (a) ^= (b), (b) ^= (a), (a) ^= (b)</span><span class="token keyword">void</span> <span class="token function">rotate</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> numsSize<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span><span class="token punctuation">{</span>    k <span class="token operator">%</span><span class="token operator">=</span> numsSize<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>k <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token keyword">int</span> gc <span class="token operator">=</span> <span class="token function">gcd</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> numsSize<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> gc<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> pi <span class="token operator">=</span> i<span class="token punctuation">;</span>        <span class="token keyword">int</span> p <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">do</span> <span class="token punctuation">{</span>            <span class="token keyword">int</span> ne <span class="token operator">=</span> <span class="token punctuation">(</span>pi <span class="token operator">+</span> k<span class="token punctuation">)</span> <span class="token operator">%</span> numsSize<span class="token punctuation">;</span>            <span class="token function">swap</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>ne<span class="token punctuation">]</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span>            pi <span class="token operator">=</span> ne<span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">!=</span> pi<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 力扣题解 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>力扣6011、完成比赛的最少时间</title>
      <link href="posts/7a1d.html"/>
      <url>posts/7a1d.html</url>
      
        <content type="html"><![CDATA[<h3 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h3><p>给你一个下标从 0&nbsp;开始的二维整数数组&nbsp;tires&nbsp;，其中&nbsp;tires[i] = [fi, ri]&nbsp;表示第&nbsp;i&nbsp;种轮胎如果连续使用，第&nbsp;x&nbsp;圈需要耗时&nbsp;fi * ri(x-1)&nbsp;秒。</p><p>比方说，如果&nbsp;fi = 3&nbsp;且&nbsp;ri = 2&nbsp;，且一直使用这种类型的同一条轮胎，那么该轮胎完成第&nbsp;1&nbsp;圈赛道耗时 3&nbsp;秒，完成第 2&nbsp;圈耗时&nbsp;3 * 2 = 6&nbsp;秒，完成第 3&nbsp;圈耗时&nbsp;3 * 22 = 12&nbsp;秒，依次类推。<br>同时给你一个整数&nbsp;changeTime&nbsp;和一个整数&nbsp;numLaps&nbsp;。</p><p>比赛总共包含&nbsp;numLaps&nbsp;圈，你可以选择 任意&nbsp;一种轮胎开始比赛。每一种轮胎都有 无数条&nbsp;。每一圈后，你可以选择耗费 changeTime&nbsp;秒 换成&nbsp;任意一种轮胎（也可以换成当前种类的新轮胎）。</p><p>请你返回完成比赛需要耗费的 最少&nbsp;时间。</p><p>&nbsp;</p><pre class=" language-tex"><code class="language-tex">示例 1：输入：tires = [[2,3],[3,4]], changeTime = 5, numLaps = 4输出：21解释：第 1 圈：使用轮胎 0 ，耗时 2 秒。第 2 圈：继续使用轮胎 0 ，耗时 2 * 3 = 6 秒。第 3 圈：耗费 5 秒换一条新的轮胎 0 ，然后耗时 2 秒完成这一圈。第 4 圈：继续使用轮胎 0 ，耗时 2 * 3 = 6 秒。总耗时 = 2 + 6 + 5 + 2 + 6 = 21 秒。完成比赛的最少时间为 21 秒。</code></pre><pre class=" language-tex"><code class="language-tex">示例 2：输入：tires = [[1,10],[2,2],[3,4]], changeTime = 6, numLaps = 5输出：25解释：第 1 圈：使用轮胎 1 ，耗时 2 秒。第 2 圈：继续使用轮胎 1 ，耗时 2 * 2 = 4 秒。第 3 圈：耗时 6 秒换一条新的轮胎 1 ，然后耗时 2 秒完成这一圈。第 4 圈：继续使用轮胎 1 ，耗时 2 * 2 = 4 秒。第 5 圈：耗时 6 秒换成轮胎 0 ，然后耗时 1 秒完成这一圈。总耗时 = 2 + 4 + 6 + 2 + 4 + 6 + 1 = 25 秒。完成比赛的最少时间为 25 秒。&nbsp;</code></pre><p>提示：</p><ul><li>1 &lt;= tires.length &lt;= 100000</li><li>tires[i].length == 2</li><li>1 &lt;= fi, changeTime &lt;= 1e5</li><li>2 &lt;= ri &lt;= 1e5</li><li>1 &lt;= numLaps &lt;= 1000</li></ul><h3 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h3><ul><li>轮胎 比做 物品，圈数 比做 背包容量</li><li>轮胎数量无限制，换一次轮胎和轮胎连续使用消耗的时间 比作 体积</li><li>求出连续跑N圈消耗的最少时间，每个轮胎可能在跑第i圈达到时间最优。</li><li>假定使用每种轮胎前都要换轮胎</li><li><pre class=" language-tex"><code class="language-tex">定义dp[i]表示第i圈消耗的最少时间定义mintimes[i]表示一种轮胎跑第i圈时间最优，也就是时间最短</code></pre></li></ul><h4 id="动态转移方程"><a href="#动态转移方程" class="headerlink" title="动态转移方程"></a>动态转移方程</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">// 跑到第i圈，第 i 圈 前面的 j圈是从第i - j + 1圈换轮胎重新跑到第i圈</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i <span class="token operator">-</span> j<span class="token punctuation">]</span> <span class="token operator">+</span> mintimes<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h3><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">define</span> N 18</span><span class="token comment" spellcheck="true">// 一个轮胎最多连续跑N圈就得换轮胎，N由数据大小可以算出</span><span class="token macro property">#<span class="token directive keyword">define</span> min(a, b) \    ((a) > (b) ? (b) : (a))</span><span class="token keyword">int</span> <span class="token function">minimumFinishTime</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token operator">*</span> tires<span class="token punctuation">,</span> <span class="token keyword">int</span> tiresSize<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> tiresColSize<span class="token punctuation">,</span> <span class="token keyword">int</span> changeTime<span class="token punctuation">,</span> <span class="token keyword">int</span> numLaps<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> mintimes<span class="token punctuation">[</span>N <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//一种轮子跑i圈 的 最少时间</span>    <span class="token function">memset</span><span class="token punctuation">(</span>mintimes<span class="token punctuation">,</span> <span class="token number">0x3f</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>N<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> tiresSize<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//枚举轮子</span>        <span class="token keyword">long</span> <span class="token keyword">long</span> f <span class="token operator">=</span> tires<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> r <span class="token operator">=</span> tires<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> fr <span class="token operator">=</span> f <span class="token operator">+</span> changeTime<span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> sum <span class="token operator">=</span> fr<span class="token punctuation">;</span> fr <span class="token operator">></span> f<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//啥情况退出循环，</span>            mintimes<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>mintimes<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> sum<span class="token punctuation">)</span><span class="token punctuation">;</span>            f <span class="token operator">*</span><span class="token operator">=</span> r<span class="token punctuation">;</span>            sum <span class="token operator">+</span><span class="token operator">=</span> f<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> dp<span class="token punctuation">[</span>numLaps <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token function">memset</span><span class="token punctuation">(</span>dp<span class="token punctuation">,</span> <span class="token number">0x3f</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>numLaps <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> numLaps<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> <span class="token function">min</span><span class="token punctuation">(</span>N<span class="token punctuation">,</span> numLaps<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> i<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token punctuation">{</span>            dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i <span class="token operator">-</span> j<span class="token punctuation">]</span> <span class="token operator">+</span> mintimes<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> dp<span class="token punctuation">[</span>numLaps<span class="token punctuation">]</span> <span class="token operator">-</span> changeTime<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//开始多换了一次轮胎</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 力扣题解 </tag>
            
            <tag> 完全背包 </tag>
            
            <tag> 动态规划 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>力扣6009、使两字符串互为字母异位词的最少步骤数</title>
      <link href="posts/e097.html"/>
      <url>posts/e097.html</url>
      
        <content type="html"><![CDATA[<p><em>早上没睡醒，题目没看清，看出构造两个字符串每个位置的字符都互不相同，啊啊啊，我好恨啊</em></p><h3 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h3><p>给你两个字符串 s 和 t 。在一步操作中，你可以给 s 或者 t 追加 任一字符 。</p><p>返回使 s 和 t 互为 字母异位词 所需的最少步骤数。</p><p>字母异位词 指字母相同但是顺序不同（或者相同）的字符串。</p><p>&nbsp;</p><pre class=" language-tex"><code class="language-tex">示例 1：输入：s = "leetcode", t = "coats"输出：7解释：- 执行 2 步操作，将 "as" 追加到 s = "leetcode" 中，得到 s = "leetcodeas" 。- 执行 5 步操作，将 "leede" 追加到 t = "coats" 中，得到 t = "coatsleede" 。"leetcodeas" 和 "coatsleede" 互为字母异位词。总共用去 2 + 5 = 7 步。可以证明，无法用少于 7 步操作使这两个字符串互为字母异位词。</code></pre><pre class=" language-tex"><code class="language-tex">示例 2：输入：s = "night", t = "thing"输出：0解释：给出的字符串已经互为字母异位词。因此，不需要任何进一步操作。</code></pre><p>提示：</p><ul><li>1 &lt;= s.length, t.length &lt;= 2 * 105</li><li>s 和 t 由小写英文字符组成</li></ul><h3 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h3><ul><li>遍历两个字符串，哈希记录各个字符的次数</li><li>假定 &lt; 0 表示字符串s需要加字符，&gt;0 表示字符串t需要加字符</li><li>只需统计哈希数组的各个字符出现次数的绝对值</li></ul><h3 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h3><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">minSteps</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span> t<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> cnts<span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token function">memset</span><span class="token punctuation">(</span>cnts<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">26</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">|</span> t<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token comment" spellcheck="true">/*s[i] | t[j]*/</span><span class="token punctuation">;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token string">'\0'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token operator">++</span>cnts<span class="token punctuation">[</span>s<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>t<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token string">'\0'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token operator">--</span>cnts<span class="token punctuation">[</span>t<span class="token punctuation">[</span>j<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> t <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> t <span class="token operator">&lt;</span> <span class="token number">26</span><span class="token punctuation">;</span> <span class="token operator">++</span>t<span class="token punctuation">)</span> <span class="token punctuation">{</span>        ans <span class="token operator">+</span><span class="token operator">=</span> <span class="token function">abs</span><span class="token punctuation">(</span>cnts<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> ans<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 力扣题解 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>力扣6010、完成旅途的最少时间</title>
      <link href="posts/6ec2.html"/>
      <url>posts/6ec2.html</url>
      
        <content type="html"><![CDATA[<h3 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h3><p>给你一个数组 time ，其中 time[i] 表示第 i 辆公交车完成 一趟旅途 所需要花费的时间。</p><p>每辆公交车可以 连续 完成多趟旅途，也就是说，一辆公交车当前旅途完成后，可以 立马开始 下一趟旅途。每辆公交车 独立 运行，也就是说可以同时有多辆公交车在运行且互不影响。</p><p>给你一个整数 totalTrips ，表示所有公交车 总共 需要完成的旅途数目。请你返回完成 至少 totalTrips 趟旅途需要花费的 最少 时间。</p><p><strong>示例 1：</strong></p><pre class=" language-tex"><code class="language-tex">输入：time = [1,2,3], totalTrips = 5输出：3解释：- 时刻 t = 1 ，每辆公交车完成的旅途数分别为 [1,0,0] 。  已完成的总旅途数为 1 + 0 + 0 = 1 。- 时刻 t = 2 ，每辆公交车完成的旅途数分别为 [2,1,0] 。  已完成的总旅途数为 2 + 1 + 0 = 3 。- 时刻 t = 3 ，每辆公交车完成的旅途数分别为 [3,1,1] 。  已完成的总旅途数为 3 + 1 + 1 = 5 。所以总共完成至少 5 趟旅途的最少时间为 3 。</code></pre><pre class=" language-tex"><code class="language-tex">示例 2：输入：time = [2], totalTrips = 1输出：2解释：只有一辆公交车，它将在时刻 t = 2 完成第一趟旅途。所以完成 1 趟旅途的最少时间为 2 。 </code></pre><p><strong>提示：</strong></p><ul><li>1 &lt;= time.length &lt;= 105</li><li>1 &lt;= time[i], totalTrips &lt;= 107</li></ul><h3 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h3><p><em>默认默认三遍我是傻逼，好久没刷题了，没写出来，二分答案，啊啊啊</em></p><ul><li>二分答案，枚举答案，确定上下界，0 0 0 0 0 0 0 0 0 0 0 1 1 1 11 1 1 类型的二分，求第一个1.</li></ul><h3 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h3><pre class=" language-c"><code class="language-c">class Solution <span class="token punctuation">{</span>public<span class="token punctuation">:</span>        <span class="token keyword">long</span> <span class="token keyword">long</span> <span class="token function">minimumTime</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> time<span class="token punctuation">,</span> <span class="token keyword">int</span> totalTrips<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">typedef</span> <span class="token keyword">long</span> <span class="token keyword">long</span> ll<span class="token punctuation">;</span>        <span class="token function">sort</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> time<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ll l <span class="token operator">=</span> time<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token punctuation">(</span>ll<span class="token punctuation">)</span>totalTrips <span class="token operator">*</span> <span class="token punctuation">(</span>ll<span class="token punctuation">)</span>time<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>l <span class="token operator">&lt;</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>            ll mid <span class="token operator">=</span> <span class="token punctuation">(</span>l <span class="token operator">+</span> r<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>            ll cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> time<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>time<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> mid<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>                cnt <span class="token operator">+</span><span class="token operator">=</span> mid <span class="token operator">/</span> time<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>cnt <span class="token operator">>=</span> totalTrips<span class="token punctuation">)</span> r <span class="token operator">=</span> mid<span class="token punctuation">;</span>            <span class="token keyword">else</span> l <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> l<span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 力扣题解 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>力扣2182、构造限制重复的字符串</title>
      <link href="posts/7c7a.html"/>
      <url>posts/7c7a.html</url>
      
        <content type="html"><![CDATA[<h3 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h3><p>给你一个字符串 s 和一个整数 repeatLimit ，用 s 中的字符构造一个新字符串 repeatLimitedString ，使任何字母 连续 出现的次数都不超过 repeatLimit 次。你不必使用 s 中的全部字符。</p><p>返回 字典序最大的 repeatLimitedString 。</p><p>如果在字符串 a 和 b 不同的第一个位置，字符串 a 中的字母在字母表中出现时间比字符串 b 对应的字母晚，则认为字符串 a 比字符串 b 字典序更大 。如果字符串中前 min(a.length, b.length) 个字符都相同，那么较长的字符串字典序更大。</p><h3 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h3><ul><li>遍历整个字符串，统计各个字符出现的次数，最后倒序遍历字符串</li><li>动态减少 最大的字符的数量 和 第二大的字符的数量</li><li>如果最大的字符的数量 大于 repeatLimit，那么我们加一个第二大字符</li></ul><h3 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h3><p><strong>c++版本</strong></p><pre class=" language-c"><code class="language-c">class Solution <span class="token punctuation">{</span>public<span class="token punctuation">:</span>    <span class="token keyword">int</span> vis<span class="token punctuation">[</span><span class="token number">26</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>        string <span class="token function">repeatLimitedString</span><span class="token punctuation">(</span><span class="token keyword">const</span> string s<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span> repeatLimit<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">""</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token operator">++</span>vis<span class="token punctuation">[</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">int</span> t<span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token number">25</span><span class="token punctuation">;</span>        string ret <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token keyword">while</span> <span class="token punctuation">(</span>r <span class="token operator">>=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> vis<span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">--</span>r<span class="token punctuation">;</span>            t <span class="token operator">=</span> repeatLimit<span class="token punctuation">;</span>                        <span class="token keyword">if</span> <span class="token punctuation">(</span>vis<span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">></span> t<span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> t<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> ret <span class="token operator">+</span><span class="token operator">=</span> r <span class="token operator">+</span> <span class="token string">'a'</span><span class="token punctuation">;</span>                vis<span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">-</span><span class="token operator">=</span> t<span class="token punctuation">;</span>                n <span class="token operator">-</span><span class="token operator">=</span> t<span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token keyword">int</span> l <span class="token operator">=</span> r <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//寻找第二大字符</span>                <span class="token keyword">while</span> <span class="token punctuation">(</span>l <span class="token operator">>=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> vis<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">--</span>l<span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> vis<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//没有第二大字符了，直接退出循环，否则最后加进去的都是最大字符，导致连续字符大于repeatLimit</span>                <span class="token operator">--</span>vis<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token operator">--</span>n<span class="token punctuation">;</span>                ret <span class="token operator">+</span><span class="token operator">=</span> l <span class="token operator">+</span> <span class="token string">'a'</span><span class="token punctuation">;</span>                            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// &lt;=</span>                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> vis<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">,</span> <span class="token operator">--</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>                    ret <span class="token operator">+</span><span class="token operator">=</span> r <span class="token operator">+</span> <span class="token string">'a'</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>                vis<span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token comment" spellcheck="true">//cout &lt;&lt; ret &lt;&lt; endl;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> ret<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>来源：力扣（LeetCode）<br>链接：<a href="https://leetcode-cn.com/problems/construct-string-with-repeat-limit">https://leetcode-cn.com/problems/construct-string-with-repeat-limit</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> 力扣题解 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>力扣2183、统计可以被K整除的下标对数目</title>
      <link href="posts/f984.html"/>
      <url>posts/f984.html</url>
      
        <content type="html"><![CDATA[<h3 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h3><p>给你一个下标从 0 开始、长度为 n 的整数数组 nums 和一个整数 k ，返回满足下述条件的下标对 (i, j) 的数目：</p><ul><li>0 &lt;= i &lt; j &lt;= n - 1 且</li><li>nums[i] * nums[j] 能被 k 整除。&nbsp;</li></ul><h3 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h3><ul><li>数据范围暴力肯定过不了</li><li>a*b%k == 0</li><li>可以得出a与b包含了k的所有因子</li><li>我们可以计算整个数组与k的最大公因数，每个数与k的最大公因数有且只有一个</li><li>也可以计算k的因子，每个因子有且只有一个互不相同</li></ul><h3 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h3><ul><li>这里我们采用枚举数组与k的最大公因数</li></ul><p><em>C版本</em></p><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">define</span> N 100005</span><span class="token keyword">typedef</span> <span class="token keyword">long</span> <span class="token keyword">long</span> ll<span class="token punctuation">;</span><span class="token keyword">int</span> factor_queue<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>ll factor_bucket<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//factor_bucket[key] = value; key=因数，value=因数个数   </span><span class="token keyword">int</span> <span class="token function">gcd</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> a <span class="token operator">%</span> b <span class="token operator">?</span> <span class="token function">gcd</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> a <span class="token operator">%</span> b<span class="token punctuation">)</span> <span class="token punctuation">:</span> b<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">long</span> <span class="token keyword">long</span> <span class="token function">countPairs</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">*</span> nums<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span> numsSize<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> factor_cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>         ll ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numsSize<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> max_factor <span class="token operator">=</span> <span class="token function">gcd</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//printf("gcd(%d, %d) = %d\n", nums[i], k, max_factor);</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">++</span>factor_bucket<span class="token punctuation">[</span>max_factor<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            factor_queue<span class="token punctuation">[</span>factor_cnt<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> max_factor<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> factor_cnt<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>        ll factor <span class="token operator">=</span> factor_queue<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        ll factor_num <span class="token operator">=</span> factor_bucket<span class="token punctuation">[</span>factor<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>factor <span class="token operator">*</span> factor<span class="token punctuation">)</span> <span class="token operator">%</span> k <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> ans <span class="token operator">+</span><span class="token operator">=</span> <span class="token punctuation">(</span>factor_num <span class="token operator">*</span> <span class="token punctuation">(</span>factor_num <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> factor_cnt<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token punctuation">{</span>            ll factor1 <span class="token operator">=</span> factor_queue<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>            ll factor_num1 <span class="token operator">=</span> factor_bucket<span class="token punctuation">[</span>factor1<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>factor <span class="token operator">*</span> factor1<span class="token punctuation">)</span> <span class="token operator">%</span> k <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> ans <span class="token operator">+</span><span class="token operator">=</span> factor_num <span class="token operator">*</span> factor_num1<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">memset</span><span class="token punctuation">(</span>factor_bucket<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>factor_bucket<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//力扣判题机制，每次都得初始化</span>    <span class="token keyword">return</span> ans<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><em>C++版本</em></p><pre class=" language-c"><code class="language-c"><span class="token keyword">typedef</span> <span class="token keyword">long</span> <span class="token keyword">long</span> ll<span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">define</span> N 100005</span>class Solution <span class="token punctuation">{</span>private<span class="token punctuation">:</span>    <span class="token keyword">int</span> c<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//存储相同因数的个数</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> dd<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//存储不同的因数</span>public<span class="token punctuation">:</span>    <span class="token function">Solution</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">memset</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    ll <span class="token function">countPairs</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> num<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">int</span> <span class="token operator">*</span>a <span class="token operator">=</span> <span class="token operator">&amp;</span>num<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> n <span class="token operator">=</span> num<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> d1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>         ll ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">int</span> t <span class="token operator">=</span> <span class="token function">gcd</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">++</span>c<span class="token punctuation">[</span>t<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 这个因数第一次出现</span>                dd<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        d1 <span class="token operator">=</span> dd<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//不同因数的个数</span>        <span class="token keyword">int</span> <span class="token operator">*</span>d <span class="token operator">=</span> <span class="token operator">&amp;</span>dd<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//每个数不同因数的个数只有一个</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> d1<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>             ll t1 <span class="token operator">=</span> d<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> c1 <span class="token operator">=</span> c<span class="token punctuation">[</span>t1<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>t1 <span class="token operator">*</span> t1<span class="token punctuation">)</span> <span class="token operator">%</span> k <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> ans <span class="token operator">+</span><span class="token operator">=</span> c1 <span class="token operator">*</span> <span class="token punctuation">(</span>c1<span class="token number">-1</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//说明有两个数含有相同的因数，那么从这个因数桶不分顺序 取 两个因数</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> d1<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//枚举后面的因数</span>                ll t2 <span class="token operator">=</span> d<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> c2 <span class="token operator">=</span> c<span class="token punctuation">[</span>t2<span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>t1 <span class="token operator">*</span> t2<span class="token punctuation">)</span> <span class="token operator">%</span> k <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> ans <span class="token operator">+</span><span class="token operator">=</span> c1<span class="token operator">*</span>c2<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 每个因数代表一个数</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//IO加深</span><span class="token keyword">int</span> _IO<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    ios<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">sync_with_stdio</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cin<span class="token punctuation">.</span><span class="token function">tie</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//cout.tie(0);</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>来源：力扣（LeetCode）<br>链接：<a href="https://leetcode-cn.com/problems/count-array-pairs-divisible-by-k">https://leetcode-cn.com/problems/count-array-pairs-divisible-by-k</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> 力扣题解 </tag>
            
            <tag> 数论 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++lambda表达式动态执行</title>
      <link href="posts/6dc3.html"/>
      <url>posts/6dc3.html</url>
      
        <content type="html"><![CDATA[<h4 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h4><ul><li>先于main函数之前执行</li></ul><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h></span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"df\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//在main函数之前执行</span><span class="token comment" spellcheck="true">//lambda的动态创建执行</span><span class="token keyword">int</span> _p <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">&amp;&amp;</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//万能引用传递</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"hello %d!!!\n"</span><span class="token punctuation">,</span> forward<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&amp;&amp;</span><span class="token operator">></span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> _IO <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    std<span class="token punctuation">:</span><span class="token punctuation">:</span>ios<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">sync_with_stdio</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cin<span class="token punctuation">.</span><span class="token function">tie</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       cout<span class="token punctuation">.</span><span class="token function">tie</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>地址与端口重用</title>
      <link href="posts/251e.html"/>
      <url>posts/251e.html</url>
      
        <content type="html"><![CDATA[<p><em>在linux socket网络编程中，大规模并发TCP或UDP连接时，经常会用到端口复用。</em></p><h3 id="setsockopt"><a href="#setsockopt" class="headerlink" title="setsockopt()"></a>setsockopt()</h3><h4 id="函数原型"><a href="#函数原型" class="headerlink" title="函数原型"></a>函数原型</h4><pre class=" language-c"><code class="language-c">       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span>          </span><span class="token comment" spellcheck="true">/* See NOTES */</span>       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/socket.h></span></span>       <span class="token keyword">int</span> <span class="token function">getsockopt</span><span class="token punctuation">(</span><span class="token keyword">int</span> sockfd<span class="token punctuation">,</span> <span class="token keyword">int</span> level<span class="token punctuation">,</span> <span class="token keyword">int</span> optname<span class="token punctuation">,</span>                      <span class="token keyword">void</span> <span class="token operator">*</span>optval<span class="token punctuation">,</span> socklen_t <span class="token operator">*</span>optlen<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="SO-REUSEADDR："><a href="#SO-REUSEADDR：" class="headerlink" title="SO_REUSEADDR："></a>SO_REUSEADDR：</h4><ul><li><p>SO_REUSEADDR允许启动一个监听服务器并捆绑其众所周知端口，即使以前建立的将此端口用做他们的本地端口的连接仍存在。这通常是重启监听服务器时出现，若不设置此选项，则bind时将出错。</p></li><li><p>SO_REUSEADDR允许在同一端口上启动同一服务器的多个实例，只要每个实例捆绑一个不同的本地IP地址即可。对于TCP，我们根本不可能启动捆绑相同IP地址和相同端口号的多个服务器。</p></li><li><p>SO_REUSEADDR允许单个进程捆绑同一端口到多个套接口上，只要每个捆绑指定不同的本地IP地址即可。这一般不用于TCP服务器。</p></li><li><p>SO_REUSEADDR允许完全重复的捆绑：当一个IP地址和端口绑定到某个套接口上时，还允许此IP地址和端口捆绑到另一个套接口上。一般来说，这个特性仅在支持多播的系统上才有，而且只对UDP套接口而言（TCP不支持多播）。</p></li></ul><h4 id="SO-REUSEPORT："><a href="#SO-REUSEPORT：" class="headerlink" title="SO_REUSEPORT："></a>SO_REUSEPORT：</h4><ul><li><p>此选项允许完全重复捆绑，但仅在想捆绑相同IP地址和端口的套接口都指定了此套接口选项才行。</p></li><li><p>如果被捆绑的IP地址是一个多播地址，则SO_REUSEADDR和SO_REUSEPORT等效</p></li></ul><h4 id="端口复用操作"><a href="#端口复用操作" class="headerlink" title="端口复用操作"></a>端口复用操作</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> opt <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token function">setsockopt</span><span class="token punctuation">(</span>listenFd<span class="token punctuation">,</span> SOL_SOCKET<span class="token punctuation">,</span> SO_REUSEPORT<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>opt<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>opt<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h4><ul><li>对于用于监听的端口，即使开启了复用，也不能用该端口往外发起连接了，只能复用 来 进行监听。</li><li>在所有TCP服务器中，在调用bind之前设置SO_REUSEADDR套接口选项；</li><li>在所有TCP服务器中，在调用listen之前设置SO_REUSEADDR套接口选项；</li></ul><h4 id="地址复用操作"><a href="#地址复用操作" class="headerlink" title="地址复用操作"></a>地址复用操作</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> opt <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token function">setsockopt</span><span class="token punctuation">(</span>listenFd<span class="token punctuation">,</span> SOL_SOCKET<span class="token punctuation">,</span> SO_REUSEADDR<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>opt<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>opt<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>参考博客</strong></p><p><a href="https://blog.csdn.net/weibo1230123/article/details/79978745?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=%E5%9C%B0%E5%9D%80%E4%B8%8E%E7%AB%AF%E5%8F%A3%E9%87%8D%E7%94%A8&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~blog~sobaiduweb~default-3-79978745.nonecase&amp;spm=1018.2226.3001.4450">csdn</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> 网络编程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>力扣685、冗余连接2</title>
      <link href="posts/1363.html"/>
      <url>posts/1363.html</url>
      
        <content type="html"><![CDATA[<h3 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h3><p>在本问题中，有根树指满足以下条件的 有向 图。该树只有一个根节点，所有其他节点都是该根节点的后继。该树除了根节点之外的每一个节点都有且只有一个父节点，而根节点没有父节点。</p><p>输入一个有向图，该图由一个有着 n 个节点（节点值不重复，从 1 到 n）的树及一条附加的有向边构成。附加的边包含在 1 到 n 中的两个不同顶点间，这条附加的边不属于树中已存在的边。</p><p>结果图是一个以边组成的二维数组&nbsp;edges 。 每个元素是一对 [ui, vi]，用以表示 有向 图中连接顶点 ui 和顶点 vi 的边，其中 ui 是 vi 的一个父节点。</p><p>返回一条能删除的边，使得剩下的图是有 n 个节点的有根树。若有多个答案，返回最后出现在给定二维数组的答案。</p><h3 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h3><ul><li>采用并采集</li></ul><pre class=" language-c"><code class="language-c">class Solution <span class="token punctuation">{</span>public<span class="token punctuation">:</span><span class="token comment" spellcheck="true">/*    思路 ： 逐个删除边，判断剩下的边是不是构成一个有向树    判断思路 ：             1、有且只有一个节点入度为0 -> 无环            2、集合没有节点的入度为2*/</span>      <span class="token macro property">#<span class="token directive keyword">define</span> maxn 1001</span>    <span class="token macro property">#<span class="token directive keyword">define</span> swap(a, b) \    (a) ^= (b), (b) ^= (a), (a) ^= (b)</span>    <span class="token keyword">int</span> father<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">,</span> siz<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> rudu<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span> a <span class="token operator">!=</span> father<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token punctuation">(</span>father<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>father<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> father<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment" spellcheck="true">// a->b</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>b <span class="token operator">!=</span> father<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> fa <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> fb <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>fa <span class="token operator">==</span> fb<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        father<span class="token punctuation">[</span>fb<span class="token punctuation">]</span> <span class="token operator">=</span> fa<span class="token punctuation">;</span>        siz<span class="token punctuation">[</span>fb<span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> siz<span class="token punctuation">[</span>fa<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">findRedundantDirectedConnection</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span><span class="token operator">&amp;</span> edges<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> edges<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token operator">--</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">int</span> flag1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> flag2 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> maxn<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token punctuation">{</span>                father<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> j<span class="token punctuation">;</span>                siz<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>                rudu<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token comment" spellcheck="true">//printf("aaaa\n");</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> edges<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">==</span> i<span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>                <span class="token keyword">int</span> a <span class="token operator">=</span> edges<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> b <span class="token operator">=</span> edges<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// a->b</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>flag1 <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>                            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">++</span>rudu<span class="token punctuation">[</span>b<span class="token punctuation">]</span> <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    flag2 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>flag1 <span class="token operator">&amp;</span> <span class="token operator">!</span>flag2<span class="token punctuation">)</span> <span class="token keyword">return</span> edges<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> edges<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 力扣题解 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>力扣684、冗余连接</title>
      <link href="posts/73c9.html"/>
      <url>posts/73c9.html</url>
      
        <content type="html"><![CDATA[<p><em>吐槽：题目说了一句，如果有多个答案，则返回数组&nbsp;edges&nbsp;中最后出现的边，tmmd 力扣题解他是从前往后进行的，构成回路就return了。</em></p><h3 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h3><p>树可以看成是一个连通且 无环&nbsp;的&nbsp;无向&nbsp;图。</p><p>给定往一棵&nbsp;n 个节点 (节点值&nbsp;1～n) 的树中添加一条边后的图。添加的边的两个顶点包含在 1 到 n&nbsp;中间，且这条附加的边不属于树中已存在的边。图的信息记录于长度为 n 的二维数组 edges&nbsp;，edges[i] = [ai, bi]&nbsp;表示图中在 ai 和 bi 之间存在一条边。</p><p>请找出一条可以删去的边，删除后可使得剩余部分是一个有着 n 个节点的树。如果有多个答案，则返回数组&nbsp;edges&nbsp;中最后出现的边。</p><h3 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h3><ul><li>按秩合并的并查集</li><li>从前往后加边，并判断是否构成联通图</li></ul><pre class=" language-c"><code class="language-c">class Solution <span class="token punctuation">{</span>public<span class="token punctuation">:</span>    <span class="token macro property">#<span class="token directive keyword">define</span> maxn 1024</span>    <span class="token macro property">#<span class="token directive keyword">define</span> swap(a, b) \        (a) ^= (b), (b) ^= (a), (a) ^= (b)</span>    <span class="token keyword">int</span> father<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> size<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> a <span class="token operator">!=</span> father<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">?</span> father<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>father<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> a<span class="token punctuation">;</span> <span class="token punctuation">}</span>    <span class="token keyword">int</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> a<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> fa <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> fb <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>fa <span class="token operator">==</span> fb<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>size<span class="token punctuation">[</span>fa<span class="token punctuation">]</span> <span class="token operator">&lt;</span> size<span class="token punctuation">[</span>fb<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token function">swap</span><span class="token punctuation">(</span>fa<span class="token punctuation">,</span> fb<span class="token punctuation">)</span><span class="token punctuation">;</span>        father<span class="token punctuation">[</span>fb<span class="token punctuation">]</span> <span class="token operator">=</span> fa<span class="token punctuation">;</span>        size<span class="token punctuation">[</span>fa<span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> size<span class="token punctuation">[</span>fb<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">findRedundantConnection</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">>></span><span class="token operator">&amp;</span> edges<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> maxn<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>            father<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>            size<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> edges<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">int</span> a <span class="token operator">=</span> edges<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> b <span class="token operator">=</span> edges<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">merge</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> edges<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> edges<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>来源：力扣（LeetCode）<br>链接：<a href="https://leetcode-cn.com/problems/redundant-connection">https://leetcode-cn.com/problems/redundant-connection</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> 力扣题解 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>马拉车算法</title>
      <link href="posts/6de4.html"/>
      <url>posts/6de4.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>sunday与kmp总结</title>
      <link href="posts/7663.html"/>
      <url>posts/7663.html</url>
      
        <content type="html"><![CDATA[<h3 id="kmp算法"><a href="#kmp算法" class="headerlink" title="kmp算法"></a>kmp算法</h3><h4 id="时间复杂度"><a href="#时间复杂度" class="headerlink" title="时间复杂度"></a>时间复杂度</h4><ul><li>O(n + m)</li></ul><h4 id="next数组"><a href="#next数组" class="headerlink" title="next数组"></a>next数组</h4><ul><li><p>next数组 代表当前字符之前的字符串中，有多大长度的相同前缀后缀</p></li><li><p>有两种表示方法：</p></li><li><ul><li>next[i] = k：表示第i位字符之前的字符串最长前缀的长度（这里的最长前缀满足next数组定义）</li></ul></li><li><ul><li>next[i] = k：表示第i位字符之前的字符串最长前缀的最后一个字符的下标</li></ul></li></ul><h4 id="next数组的两种求法"><a href="#next数组的两种求法" class="headerlink" title="next数组的两种求法"></a>next数组的两种求法</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">//代表前缀长度 </span><span class="token keyword">void</span> <span class="token function">init_next</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>next<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>t<span class="token punctuation">)</span> <span class="token punctuation">{</span>    next<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> next<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 第一个字符前面没有字符</span>    <span class="token comment" spellcheck="true">//k = next[j] </span><span class="token comment" spellcheck="true">//    for (int j = 1, k = 0; t[j]; ++j) {</span><span class="token comment" spellcheck="true">//        while ( k > 0 &amp;&amp; t[k] != t[j]) k = next[k]; //这不就是回溯么，啥情况回溯捏？while括号写了 </span><span class="token comment" spellcheck="true">//        // 退出回溯 </span><span class="token comment" spellcheck="true">//        // 如果退出回溯满足这个条件 </span><span class="token comment" spellcheck="true">//        if (t[k] == t[j]) ++k;</span><span class="token comment" spellcheck="true">//        next[j + 1] = k; //为什么是j+1，因为经过上面运算，k是第j+1位字符的最长前缀长度， </span><span class="token comment" spellcheck="true">//    }</span><span class="token comment" spellcheck="true">//    </span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> t<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> j <span class="token operator">=</span> next<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>j <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> t<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> j <span class="token operator">=</span> next<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>        next<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>t<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> t<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">?</span> j <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>     <span class="token punctuation">}</span></code></pre><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">//代表前缀下标</span> <span class="token keyword">void</span> <span class="token function">init_next</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>next<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>t<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// init next;初始化next数组 </span>    <span class="token keyword">int</span> next<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//next数组存储 最长前缀的下标位置 </span>    next<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 哨兵</span>    <span class="token comment" spellcheck="true">// k = next[j-1]，表示 前一个字符的最长前缀下标的位置 </span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> t<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token comment" spellcheck="true">/*        k != -1            ：处理的当前字符 不是 第一个字符         t[k + 1] != t[j]             ：（当前字符的前一个字符的最长前缀下标位置的下一个字符）                 不等于 （当前字符）         */</span>         <span class="token keyword">while</span> <span class="token punctuation">(</span>k <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">[</span>k <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">!=</span> t<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>             <span class="token comment" spellcheck="true">/*            如果条件成立，那么最长前缀缩短，往回找最长前缀             */</span>             k <span class="token operator">=</span> next<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>         <span class="token punctuation">}</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>t<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> t<span class="token punctuation">[</span>k <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">++</span>k<span class="token punctuation">;</span> <span class="token punctuation">}</span>        next<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> k<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h4 id="kmp代码"><a href="#kmp代码" class="headerlink" title="kmp代码"></a>kmp代码</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/*s：文本串t：模式串从s中找t */</span><span class="token comment" spellcheck="true">/*next数组 代表当前字符之前的字符串中，有多大长度的相同前缀后缀*/</span> <span class="token comment" spellcheck="true">//代表前缀长度 </span><span class="token keyword">void</span> <span class="token function">init_next</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>next<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>t<span class="token punctuation">)</span> <span class="token punctuation">{</span>    next<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> next<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 第一个字符前面没有字符</span>    <span class="token comment" spellcheck="true">//k = next[j] </span><span class="token comment" spellcheck="true">//    for (int j = 1, k = 0; t[j]; ++j) {</span><span class="token comment" spellcheck="true">//        while ( k > 0 &amp;&amp; t[k] != t[j]) k = next[k]; //这不就是回溯么，啥情况回溯捏？while括号写了 </span><span class="token comment" spellcheck="true">//        // 退出回溯 </span><span class="token comment" spellcheck="true">//        // 如果退出回溯满足这个条件 </span><span class="token comment" spellcheck="true">//        if (t[k] == t[j]) ++k;</span><span class="token comment" spellcheck="true">//        next[j + 1] = k; //为什么是j+1，因为经过上面运算，k是第j+1位字符的最长前缀长度， </span><span class="token comment" spellcheck="true">//    }</span><span class="token comment" spellcheck="true">//    </span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> t<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> j <span class="token operator">=</span> next<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>j <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> t<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> j <span class="token operator">=</span> next<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>        next<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>t<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> t<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">?</span> j <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>     <span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">kmp1</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>s<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>t<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">// init next;初始化next数组 </span>    <span class="token keyword">int</span> next<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//next存储 当前字符之前 的 字符串的最长前缀的长度</span>    <span class="token function">init_next</span><span class="token punctuation">(</span>next<span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//匹配</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span> j <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> t<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> j <span class="token operator">=</span> next<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> t<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">++</span>j<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>t<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'\0'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> i <span class="token operator">-</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">kmp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>s<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>t<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">// init next;初始化next数组 </span>    <span class="token keyword">int</span> next<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//next数组存储 最长前缀的下标位置 </span>    next<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 哨兵</span>    <span class="token comment" spellcheck="true">// k = next[j-1]，表示 前一个字符的最长前缀下标的位置 </span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> t<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token comment" spellcheck="true">/*        k != -1            ：处理的当前字符 不是 第一个字符         t[k + 1] != t[j]             ：（当前字符的前一个字符的最长前缀下标位置的下一个字符）                 不等于 （当前字符）         */</span>         <span class="token keyword">while</span> <span class="token punctuation">(</span>k <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">[</span>k <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">!=</span> t<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>             <span class="token comment" spellcheck="true">/*            如果条件成立，那么最长前缀缩短，往回找最长前缀             */</span>             k <span class="token operator">=</span> next<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>         <span class="token punctuation">}</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>t<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> t<span class="token punctuation">[</span>k <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">++</span>k<span class="token punctuation">;</span> <span class="token punctuation">}</span>        next<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> k<span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">//匹配</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>j <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> t<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> j <span class="token operator">=</span> next<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> t<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">++</span>j<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>t<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'\0'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> i <span class="token operator">-</span> j<span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="sunday算法"><a href="#sunday算法" class="headerlink" title="sunday算法"></a>sunday算法</h3><ul><li>比BM算法更快</li></ul><h4 id="时间复杂度分析"><a href="#时间复杂度分析" class="headerlink" title="时间复杂度分析"></a>时间复杂度分析</h4><ul><li>Sunday预处理阶段的时间为：O(|∑| + m)</li><li>最坏情况下时间复杂度为：O(nm)</li><li>平均时间复杂度：O(n)</li></ul><h4 id="算法分析"><a href="#算法分析" class="headerlink" title="算法分析"></a>算法分析</h4><ul><li>Sunday算法是从前往后匹配，在匹配失败时，关注的是 文本串中参加匹配的最后一个字符（不是匹配失败的那个字符） 的 下一位字符</li><li><ul><li>如果该字符没有在模式串中出现则直接跳过，即移动位数 = 模式串长度 + 1；</li></ul></li><li><ul><li>否则，其移动位数 = 模式串长度 - 该字符最右出现的位置(以0开始) = 模式串中该字符最右出现的位置到尾部的距离 + 1。</li></ul></li></ul><pre class=" language-tex"><code class="language-tex">例如文本串s = assjdghsdgh模式串t = asshdfs对于第一次匹配j != h那么我们关注的字符是文本串中的第8个字符s</code></pre><h4 id="sunday代码"><a href="#sunday代码" class="headerlink" title="sunday代码"></a>sunday代码</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">sunday</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>s<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>t<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> len_s <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> len_t <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> ind<span class="token punctuation">[</span><span class="token number">256</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//初始化每个字符的出现位置，没有在模式串t出现的字符初始化为len(t) + 1</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">256</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> ind<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> len_t <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//每个字符从后往前在t出现的第一个位置距离t最后一个字符的距离 + 1</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> t<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> ind<span class="token punctuation">[</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>t<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token punctuation">]</span> <span class="token operator">=</span> len_t <span class="token operator">-</span> i<span class="token punctuation">;</span>     <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> flag<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> len_t <span class="token operator">&lt;=</span> len_s<span class="token punctuation">)</span> <span class="token punctuation">{</span>        flag <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> t<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span>i <span class="token operator">+</span> j<span class="token punctuation">]</span> <span class="token operator">==</span> t<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>            flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>flag <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> i<span class="token punctuation">;</span>        i <span class="token operator">+</span><span class="token operator">=</span> ind<span class="token punctuation">[</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>s<span class="token punctuation">[</span>i <span class="token operator">+</span> len_t<span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//找出文本串头部的下一个位置（也就是模式串下一次对齐文本串的位置）</span>    <span class="token punctuation">}</span>            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 高级数据结构 </tag>
            
            <tag> 字符串匹配算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>epoll总结</title>
      <link href="posts/f91f.html"/>
      <url>posts/f91f.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>recv与send总结</title>
      <link href="posts/f303.html"/>
      <url>posts/f303.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>AVL树</title>
      <link href="posts/d609.html"/>
      <url>posts/d609.html</url>
      
        <content type="html"><![CDATA[<h3 id="AVL"><a href="#AVL" class="headerlink" title="AVL"></a>AVL</h3><ul><li>平衡二叉搜索树</li></ul><h4 id="性质"><a href="#性质" class="headerlink" title="性质"></a>性质</h4><ul><li>完美继承二叉搜索树的性质</li><li>|H(left) - H(right)| &lt;= 1</li></ul><h4 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h4><ul><li>由于对每个节点的左右子树的树高做了限制，所以整棵树不会退化为一个链表</li><li>继承了二叉搜索树的优点</li><li>高度平衡的二叉搜索树，查找效率非常高O(log1.68 h) ~ O(log 2 h)</li></ul><h4 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h4><ul><li>为了维持高度的平衡，每次插入、删除都要进行树高的调整，比较复杂、耗时。</li><li>对于频繁的插入删除操作，使用AVL树代价高</li></ul><h4 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h4><ul><li>LL、LR、RL、RR型条件的不平衡</li><li>LL与RR型只用进行一次调整</li><li>其余需要进行两次调整</li></ul><h4 id="结构定义"><a href="#结构定义" class="headerlink" title="结构定义"></a>结构定义</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">//结构定义</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Node <span class="token punctuation">{</span>    <span class="token keyword">int</span> value<span class="token punctuation">,</span> h<span class="token punctuation">;</span>    <span class="token keyword">struct</span> Node <span class="token operator">*</span>left<span class="token punctuation">,</span> <span class="token operator">*</span>right<span class="token punctuation">;</span><span class="token punctuation">}</span>Node<span class="token punctuation">;</span></code></pre><h4 id="更新树高"><a href="#更新树高" class="headerlink" title="更新树高"></a>更新树高</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">//更新树高</span><span class="token keyword">void</span> <span class="token function">update_h</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> NIL<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    root<span class="token operator">-></span>h <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token operator">-></span>h<span class="token punctuation">,</span> root<span class="token operator">-></span>right<span class="token operator">-></span>h<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="左旋"><a href="#左旋" class="headerlink" title="左旋"></a>左旋</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">//左旋</span>Node <span class="token operator">*</span><span class="token function">left_rotate</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//printf("\n left rotate : %d\n", root->value);</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> root<span class="token operator">-></span>right<span class="token punctuation">;</span>    root<span class="token operator">-></span>right <span class="token operator">=</span> p<span class="token operator">-></span>left<span class="token punctuation">;</span>    p<span class="token operator">-></span>left <span class="token operator">=</span> root<span class="token punctuation">;</span>    <span class="token function">update_h</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">update_h</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> p<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="右旋"><a href="#右旋" class="headerlink" title="右旋"></a>右旋</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">//右旋</span>Node <span class="token operator">*</span><span class="token function">right_rotate</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//printf("\n right rotate : %d\n", root->value);</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> root<span class="token operator">-></span>left<span class="token punctuation">;</span>    root<span class="token operator">-></span>left <span class="token operator">=</span> p<span class="token operator">-></span>right<span class="token punctuation">;</span>    p<span class="token operator">-></span>right <span class="token operator">=</span> root<span class="token punctuation">;</span>    <span class="token function">update_h</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">update_h</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> p<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="完整代码"><a href="#完整代码" class="headerlink" title="完整代码"></a>完整代码</h3><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h></span></span><span class="token macro property">#<span class="token directive keyword">define</span> max(a, b) (\    (a) > (b) ? (a) : (b)\)</span><span class="token comment" spellcheck="true">//结构定义</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Node <span class="token punctuation">{</span>    <span class="token keyword">int</span> value<span class="token punctuation">,</span> h<span class="token punctuation">;</span>    <span class="token keyword">struct</span> Node <span class="token operator">*</span>left<span class="token punctuation">,</span> <span class="token operator">*</span>right<span class="token punctuation">;</span><span class="token punctuation">}</span>Node<span class="token punctuation">;</span>Node __NIL<span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">define</span> NIL (&amp;__NIL)</span><span class="token function">__attribute__</span><span class="token punctuation">(</span><span class="token punctuation">(</span>constructor<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">void</span> <span class="token function">init_NIL</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    NIL<span class="token operator">-></span>h <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    NIL<span class="token operator">-></span>value <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    NIL<span class="token operator">-></span>left <span class="token operator">=</span> NIL<span class="token operator">-></span>right <span class="token operator">=</span> NIL<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//结构操作</span>Node <span class="token operator">*</span><span class="token function">getNewNode</span><span class="token punctuation">(</span><span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token punctuation">(</span>Node <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    p<span class="token operator">-></span>h <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    p<span class="token operator">-></span>left <span class="token operator">=</span> p<span class="token operator">-></span>right <span class="token operator">=</span> NIL<span class="token punctuation">;</span>    p<span class="token operator">-></span>value <span class="token operator">=</span> target<span class="token punctuation">;</span>    <span class="token keyword">return</span> p<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">clear</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> NIL<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">clear</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">clear</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">search</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> NIL<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>value <span class="token operator">==</span> target<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>value <span class="token operator">></span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">search</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token function">search</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//更新树高</span><span class="token keyword">void</span> <span class="token function">update_h</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> NIL<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    root<span class="token operator">-></span>h <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token operator">-></span>h<span class="token punctuation">,</span> root<span class="token operator">-></span>right<span class="token operator">-></span>h<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//左旋</span>Node <span class="token operator">*</span><span class="token function">left_rotate</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n left rotate : %d\n"</span><span class="token punctuation">,</span> root<span class="token operator">-></span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> root<span class="token operator">-></span>right<span class="token punctuation">;</span>    root<span class="token operator">-></span>right <span class="token operator">=</span> p<span class="token operator">-></span>left<span class="token punctuation">;</span>    p<span class="token operator">-></span>left <span class="token operator">=</span> root<span class="token punctuation">;</span>    <span class="token function">update_h</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">update_h</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> p<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//右旋</span>Node <span class="token operator">*</span><span class="token function">right_rotate</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n right rotate : %d\n"</span><span class="token punctuation">,</span> root<span class="token operator">-></span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> root<span class="token operator">-></span>left<span class="token punctuation">;</span>    root<span class="token operator">-></span>left <span class="token operator">=</span> p<span class="token operator">-></span>right<span class="token punctuation">;</span>    p<span class="token operator">-></span>right <span class="token operator">=</span> root<span class="token punctuation">;</span>    <span class="token function">update_h</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">update_h</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> p<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>maintain_str<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">""</span><span class="token punctuation">,</span> <span class="token string">"LL"</span><span class="token punctuation">,</span> <span class="token string">"LR"</span><span class="token punctuation">,</span> <span class="token string">"RL"</span><span class="token punctuation">,</span> <span class="token string">"RR"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>Node <span class="token operator">*</span><span class="token function">maintain</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//判断是否失衡</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">abs</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token operator">-></span>h <span class="token operator">-</span> root<span class="token operator">-></span>right<span class="token operator">-></span>h<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> root<span class="token punctuation">;</span>        <span class="token keyword">int</span> maintain_type <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 失衡</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token operator">-></span>h <span class="token operator">></span> root<span class="token operator">-></span>right<span class="token operator">-></span>h<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//֤左子树高，失衡条件L</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token operator">-></span>right<span class="token operator">-></span>h <span class="token operator">></span> root<span class="token operator">-></span>left<span class="token operator">-></span>left<span class="token operator">-></span>h<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//LR</span>            <span class="token comment" spellcheck="true">// LR 和 RL 都要旋转两次 </span>            root<span class="token operator">-></span>left <span class="token operator">=</span> <span class="token function">left_rotate</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>             maintain_type <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            maintain_type <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>        root <span class="token operator">=</span> <span class="token function">right_rotate</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//右子树高，失衡条件 R </span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token operator">-></span>left<span class="token operator">-></span>h <span class="token operator">></span> root<span class="token operator">-></span>right<span class="token operator">-></span>right<span class="token operator">-></span>h<span class="token punctuation">)</span> <span class="token punctuation">{</span>             root<span class="token operator">-></span>right <span class="token operator">=</span> <span class="token function">right_rotate</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>             maintain_type <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                maintain_type <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>        root <span class="token operator">=</span> <span class="token function">left_rotate</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"AVL maintain_type : %s\n"</span><span class="token punctuation">,</span> maintain_str<span class="token punctuation">[</span>maintain_type<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> root<span class="token punctuation">;</span><span class="token punctuation">}</span> Node <span class="token operator">*</span><span class="token function">insert</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> NIL<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">getNewNode</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>value <span class="token operator">==</span> target<span class="token punctuation">)</span> <span class="token keyword">return</span> root<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>value <span class="token operator">></span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>        root<span class="token operator">-></span>left <span class="token operator">=</span> <span class="token function">insert</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        root<span class="token operator">-></span>right <span class="token operator">=</span> <span class="token function">insert</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">update_h</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> <span class="token function">maintain</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>Node <span class="token operator">*</span><span class="token function">get_pre</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> root<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>p<span class="token operator">-></span>right <span class="token operator">!=</span> NIL<span class="token punctuation">)</span> <span class="token punctuation">{</span>        p <span class="token operator">=</span> p<span class="token operator">-></span>right<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> p<span class="token punctuation">;</span><span class="token punctuation">}</span>Node <span class="token operator">*</span><span class="token function">erase</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> NIL<span class="token punctuation">)</span> <span class="token keyword">return</span> NIL<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>value <span class="token operator">></span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>        root<span class="token operator">-></span>left <span class="token operator">=</span> <span class="token function">erase</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>value <span class="token operator">&lt;</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>        root<span class="token operator">-></span>right <span class="token operator">=</span> <span class="token function">erase</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>left <span class="token operator">==</span> NIL <span class="token operator">||</span> root<span class="token operator">-></span>right <span class="token operator">==</span> NIL<span class="token punctuation">)</span> <span class="token punctuation">{</span>            Node <span class="token operator">*</span>tmp <span class="token operator">=</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>left <span class="token operator">!=</span> NIL <span class="token operator">?</span> root<span class="token operator">-></span>left <span class="token punctuation">:</span> root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">free</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> tmp<span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            Node <span class="token operator">*</span>pre <span class="token operator">=</span> <span class="token function">get_pre</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>            root<span class="token operator">-></span>value <span class="token operator">=</span> pre<span class="token operator">-></span>value<span class="token punctuation">;</span>            root<span class="token operator">-></span>left <span class="token operator">=</span> <span class="token function">erase</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> pre<span class="token operator">-></span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">update_h</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token keyword">return</span> <span class="token function">maintain</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">in_order</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> NIL<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">in_order</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> root<span class="token operator">-></span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">in_order</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">outputTree</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> NIL<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"(%d(%d) | %d, %d)\n"</span><span class="token punctuation">,</span> root<span class="token operator">-></span>value<span class="token punctuation">,</span> root<span class="token operator">-></span>h<span class="token punctuation">,</span> root<span class="token operator">-></span>left<span class="token operator">-></span>value<span class="token punctuation">,</span> root<span class="token operator">-></span>right<span class="token operator">-></span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">outputTree</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">outputTree</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">srand</span><span class="token punctuation">(</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    Node <span class="token operator">*</span>root <span class="token operator">=</span> NIL<span class="token punctuation">;</span>    <span class="token keyword">int</span> n<span class="token punctuation">;</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> val <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\ninsert %d to tree: \n"</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>        root <span class="token operator">=</span> <span class="token function">insert</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">outputTree</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token constant">EOF</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        root <span class="token operator">=</span> <span class="token function">erase</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//in_order(root);</span>        <span class="token function">outputTree</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token function">clear</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="剑指-Offer-26-树的子结构"><a href="#剑指-Offer-26-树的子结构" class="headerlink" title="剑指 Offer 26. 树的子结构"></a><a href="https://leetcode-cn.com/problems/shu-de-zi-jie-gou-lcof/">剑指 Offer 26. 树的子结构</a></h4><p>输入两棵二叉树A和B，判断B是不是A的子结构。(约定空树不是任意一个树的子结构)</p><p>B是A的子结构， 即 A中有出现和B相同的结构和节点值。</p><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/** * Definition for a binary tree node. * struct TreeNode { *     int val; *     struct TreeNode *left; *     struct TreeNode *right; * }; */</span><span class="token comment" spellcheck="true">// bool flag = false;</span><span class="token comment" spellcheck="true">// bool func1(struct TreeNode *A, struct TreeNode *B) {</span><span class="token comment" spellcheck="true">//     if (B == NULL) return true;</span><span class="token comment" spellcheck="true">//     if (A == NULL) return false;</span><span class="token comment" spellcheck="true">//     if (A->val != B->val) return false;</span><span class="token comment" spellcheck="true">//     return flag = (func1(A->left, B->left) &amp;&amp; func1(A->right, B->right));</span><span class="token comment" spellcheck="true">// }</span><span class="token comment" spellcheck="true">// void func(struct TreeNode *A, struct TreeNode *B) {</span><span class="token comment" spellcheck="true">//     if (A == NULL) return ;</span><span class="token comment" spellcheck="true">//     if (flag) return ;</span><span class="token comment" spellcheck="true">//     if (A->val == B->val) {</span><span class="token comment" spellcheck="true">//         func1(A, B);</span><span class="token comment" spellcheck="true">//     }</span><span class="token comment" spellcheck="true">//     func(A->left, B);</span><span class="token comment" spellcheck="true">//     func(A->right, B);</span><span class="token comment" spellcheck="true">//     return ;</span><span class="token comment" spellcheck="true">// }</span>bool <span class="token function">is_match</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>A<span class="token punctuation">,</span> <span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>B<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>B <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> true<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>A <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>A<span class="token operator">-></span>val <span class="token operator">!=</span> B<span class="token operator">-></span>val<span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token function">is_match</span><span class="token punctuation">(</span>A<span class="token operator">-></span>left<span class="token punctuation">,</span> B<span class="token operator">-></span>left<span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token function">is_match</span><span class="token punctuation">(</span>A<span class="token operator">-></span>right<span class="token punctuation">,</span> B<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>bool <span class="token function">isSubStructure</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> A<span class="token punctuation">,</span> <span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> B<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>B <span class="token operator">==</span> <span class="token constant">NULL</span> <span class="token operator">||</span> A <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">is_match</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> B<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> true<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token function">isSubStructure</span><span class="token punctuation">(</span>A<span class="token operator">-></span>left<span class="token punctuation">,</span> B<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token function">isSubStructure</span><span class="token punctuation">(</span>A<span class="token operator">-></span>right<span class="token punctuation">,</span> B<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="108-将有序数组转换为二叉搜索树"><a href="#108-将有序数组转换为二叉搜索树" class="headerlink" title="108. 将有序数组转换为二叉搜索树"></a><a href="https://leetcode-cn.com/problems/convert-sorted-array-to-binary-search-tree/">108. 将有序数组转换为二叉搜索树</a></h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/** * Definition for a binary tree node. * struct TreeNode { *     int val; *     struct TreeNode *left; *     struct TreeNode *right; * }; */</span><span class="token comment" spellcheck="true">// struct TreeNode *func(int *nums, int left, int right) {</span>    <span class="token comment" spellcheck="true">//     if (left >= right) {</span><span class="token comment" spellcheck="true">//         return NULL;</span><span class="token comment" spellcheck="true">//     }</span><span class="token comment" spellcheck="true">//     int ind = (left + right) >> 1;</span><span class="token comment" spellcheck="true">//     struct TreeNode *root = (struct TreeNode *)malloc(sizeof(struct TreeNode));</span><span class="token comment" spellcheck="true">//     root->val = nums[ind];</span><span class="token comment" spellcheck="true">//     root->left = func(nums, left, ind);</span><span class="token comment" spellcheck="true">//     root->right = func(nums, ind + 1, right);</span><span class="token comment" spellcheck="true">//     return root;</span><span class="token comment" spellcheck="true">// }</span><span class="token comment" spellcheck="true">// struct TreeNode* sortedArrayToBST(int* nums, int numsSize){</span><span class="token comment" spellcheck="true">//     return numsSize == 0 ? NULL : func(nums, 0, numsSize);</span><span class="token comment" spellcheck="true">// }</span><span class="token macro property">#<span class="token directive keyword">define</span> max(a, b) ((a) > (b) ? (a) : (b))</span><span class="token keyword">int</span> <span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> l <span class="token operator">=</span> <span class="token function">getHeight</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> r <span class="token operator">=</span> <span class="token function">getHeight</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token function">max</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> r<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span><span class="token function">left_rotate</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>p <span class="token operator">=</span> root<span class="token operator">-></span>right<span class="token punctuation">;</span>    root<span class="token operator">-></span>right <span class="token operator">=</span> p<span class="token operator">-></span>left<span class="token punctuation">;</span>    p<span class="token operator">-></span>left <span class="token operator">=</span> root<span class="token punctuation">;</span>    <span class="token keyword">return</span> p<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span><span class="token function">right_rotate</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>p <span class="token operator">=</span> root<span class="token operator">-></span>left<span class="token punctuation">;</span>    root<span class="token operator">-></span>left <span class="token operator">=</span> p<span class="token operator">-></span>right<span class="token punctuation">;</span>    p<span class="token operator">-></span>right <span class="token operator">=</span> root<span class="token punctuation">;</span>           <span class="token keyword">return</span> p<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span><span class="token function">maintain</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token function">getHeight</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">getHeight</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> root<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">getHeight</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token function">getHeight</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>left <span class="token operator">&amp;&amp;</span> root<span class="token operator">-></span>right <span class="token operator">&amp;&amp;</span> <span class="token function">getHeight</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token operator">-></span>right<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token function">getHeight</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            root<span class="token operator">-></span>left <span class="token operator">=</span> <span class="token function">left_rotate</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        root <span class="token operator">=</span> <span class="token function">right_rotate</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>left <span class="token operator">&amp;&amp;</span> root<span class="token operator">-></span>right <span class="token operator">&amp;&amp;</span> <span class="token function">getHeight</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token operator">-></span>left<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token function">getHeight</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            root<span class="token operator">-></span>right <span class="token operator">=</span> <span class="token function">right_rotate</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        root <span class="token operator">=</span> <span class="token function">left_rotate</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> root<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span><span class="token function">getNewNode</span><span class="token punctuation">(</span><span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    p<span class="token operator">-></span>val <span class="token operator">=</span> target<span class="token punctuation">;</span>    p<span class="token operator">-></span>left <span class="token operator">=</span> p<span class="token operator">-></span>right <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> p<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>root<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">getNewNode</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>val <span class="token operator">></span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>        root<span class="token operator">-></span>left <span class="token operator">=</span> <span class="token function">insert</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        root<span class="token operator">-></span>right <span class="token operator">=</span> <span class="token function">insert</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token function">maintain</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> <span class="token function">sortedArrayToBST</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> numsSize<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>root <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numsSize<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>        root <span class="token operator">=</span> <span class="token function">insert</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> root<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="112-路径总和"><a href="#112-路径总和" class="headerlink" title="112. 路径总和"></a><a href="https://leetcode-cn.com/problems/path-sum/">112. 路径总和</a></h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/** * Definition for a binary tree node. * struct TreeNode { *     int val; *     struct TreeNode *left; *     struct TreeNode *right; * }; */</span><span class="token comment" spellcheck="true">/** * Definition for a binary tree node. * struct TreeNode { *     int val; *     struct TreeNode *left; *     struct TreeNode *right; * }; */</span><span class="token keyword">void</span> <span class="token function">hash_insert</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>A<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>num<span class="token punctuation">,</span> <span class="token keyword">int</span> sum<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>A<span class="token operator">-></span>left <span class="token operator">==</span> <span class="token constant">NULL</span> <span class="token operator">&amp;&amp;</span> A<span class="token operator">-></span>right <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>sum <span class="token operator">></span> <span class="token number">1000</span> <span class="token operator">||</span> sum <span class="token operator">&lt;</span> <span class="token operator">-</span><span class="token number">1000</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>sum <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> num<span class="token punctuation">[</span><span class="token number">1000</span> <span class="token operator">-</span> sum<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">else</span> num<span class="token punctuation">[</span>sum<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token punctuation">}</span>     <span class="token keyword">if</span> <span class="token punctuation">(</span>A<span class="token operator">-></span>left<span class="token punctuation">)</span> <span class="token function">hash_insert</span><span class="token punctuation">(</span>A<span class="token operator">-></span>left<span class="token punctuation">,</span> num<span class="token punctuation">,</span> sum <span class="token operator">+</span> A<span class="token operator">-></span>left<span class="token operator">-></span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>A<span class="token operator">-></span>right<span class="token punctuation">)</span> <span class="token function">hash_insert</span><span class="token punctuation">(</span>A<span class="token operator">-></span>right<span class="token punctuation">,</span> num<span class="token punctuation">,</span> sum <span class="token operator">+</span> A<span class="token operator">-></span>right<span class="token operator">-></span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//哈希</span>bool <span class="token function">hasPathSum</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> root<span class="token punctuation">,</span> <span class="token keyword">int</span> targetSum<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>    <span class="token keyword">int</span> num<span class="token punctuation">[</span><span class="token number">2001</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//memset(num, 0, sizeof(num));</span>    <span class="token function">hash_insert</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> num<span class="token punctuation">,</span> root<span class="token operator">-></span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>targetSum <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> num<span class="token punctuation">[</span>targetSum<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> num<span class="token punctuation">[</span><span class="token number">1000</span> <span class="token operator">-</span> targetSum<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/** * Definition for a binary tree node. * struct TreeNode { *     int val; *     TreeNode *left; *     TreeNode *right; *     TreeNode() : val(0), left(nullptr), right(nullptr) {} *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {} *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {} * }; */</span>class Solution <span class="token punctuation">{</span>public<span class="token punctuation">:</span>    bool <span class="token function">hasPathSum</span><span class="token punctuation">(</span>TreeNode<span class="token operator">*</span> root<span class="token punctuation">,</span> <span class="token keyword">int</span> targetSum<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> nullptr<span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>left <span class="token operator">==</span> nullptr <span class="token operator">&amp;&amp;</span> root<span class="token operator">-></span>right <span class="token operator">==</span> nullptr<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> root<span class="token operator">-></span>val <span class="token operator">==</span> targetSum<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token function">hasPathSum</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> targetSum <span class="token operator">-</span> root<span class="token operator">-></span>val<span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token function">hasPathSum</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> targetSum <span class="token operator">-</span> root<span class="token operator">-></span>val<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4 id="103-二叉树的锯齿形层序遍历"><a href="#103-二叉树的锯齿形层序遍历" class="headerlink" title="103. 二叉树的锯齿形层序遍历"></a><a href="https://leetcode-cn.com/problems/binary-tree-zigzag-level-order-traversal/">103. 二叉树的锯齿形层序遍历</a></h4><ul><li>BFS</li></ul><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/** * Definition for a binary tree node. * struct TreeNode { *     int val; *     struct TreeNode *left; *     struct TreeNode *right; * }; */</span><span class="token comment" spellcheck="true">/** * Return an array of arrays of size *returnSize. * The sizes of the arrays are returned as *returnColumnSizes array. * Note: Both returned array and *columnSizes array must be malloced, assume caller calls free(). */</span><span class="token macro property">#<span class="token directive keyword">define</span> N (1024)</span><span class="token keyword">int</span><span class="token operator">*</span><span class="token operator">*</span> <span class="token function">zigzagLevelOrder</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> root<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> returnSize<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span><span class="token operator">*</span> returnColumnSizes<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token operator">*</span>returnSize <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> <span class="token operator">*</span><span class="token operator">*</span>ans <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span> <span class="token operator">*</span> N <span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token operator">*</span>returnColumnSizes <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> N <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>queue<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> l <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    queue<span class="token punctuation">[</span>r<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> root<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//循环队列，反向搜索</span>    <span class="token keyword">int</span> flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//flag = 0从左往右，1从右往左</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>l <span class="token operator">!=</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//printf("flag = %d, l = %d, r = %d\n", flag, l, r);</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> r <span class="token operator">-</span> l<span class="token punctuation">;</span>        <span class="token punctuation">(</span><span class="token operator">*</span>returnColumnSizes<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token operator">*</span>returnSize<span class="token punctuation">]</span> <span class="token operator">=</span> n<span class="token punctuation">;</span>        <span class="token keyword">int</span> <span class="token operator">*</span>s <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> rr <span class="token operator">=</span> r <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>        l <span class="token operator">=</span> r<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>flag <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//从左往右</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>                p <span class="token operator">=</span> queue<span class="token punctuation">[</span>rr<span class="token punctuation">]</span><span class="token punctuation">;</span>                rr <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">--</span>rr<span class="token punctuation">)</span> <span class="token operator">%</span> N<span class="token punctuation">;</span>                s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> p<span class="token operator">-></span>val<span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>p<span class="token operator">-></span>left <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    queue<span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">=</span> p<span class="token operator">-></span>left<span class="token punctuation">;</span>                    r <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">++</span>r<span class="token punctuation">)</span> <span class="token operator">%</span> N<span class="token punctuation">;</span>                <span class="token punctuation">}</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>p<span class="token operator">-></span>right <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    queue<span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">=</span> p<span class="token operator">-></span>right<span class="token punctuation">;</span>                    r <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">++</span>r<span class="token punctuation">)</span> <span class="token operator">%</span> N<span class="token punctuation">;</span>                                    <span class="token punctuation">}</span>            <span class="token punctuation">}</span>            flag <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//从右往左</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>                p <span class="token operator">=</span> queue<span class="token punctuation">[</span>rr<span class="token punctuation">]</span><span class="token punctuation">;</span>                rr <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">--</span>rr<span class="token punctuation">)</span> <span class="token operator">%</span> N<span class="token punctuation">;</span>                s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> p<span class="token operator">-></span>val<span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>p<span class="token operator">-></span>right <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    queue<span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">=</span> p<span class="token operator">-></span>right<span class="token punctuation">;</span>                    r <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">++</span>r<span class="token punctuation">)</span> <span class="token operator">%</span> N<span class="token punctuation">;</span>                                    <span class="token punctuation">}</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>p<span class="token operator">-></span>left <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    queue<span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">=</span> p<span class="token operator">-></span>left<span class="token punctuation">;</span>                    r <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">++</span>r<span class="token punctuation">)</span> <span class="token operator">%</span> N<span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>                        flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        ans<span class="token punctuation">[</span><span class="token operator">*</span>returnSize<span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">;</span>        <span class="token operator">++</span><span class="token punctuation">(</span><span class="token operator">*</span>returnSize<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> ans<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 高级数据结构 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>二叉搜索树</title>
      <link href="posts/f01a.html"/>
      <url>posts/f01a.html</url>
      
        <content type="html"><![CDATA[<h4 id="性质"><a href="#性质" class="headerlink" title="性质"></a>性质</h4><ul><li>左子树 &lt; 根节点</li><li>右子树 &gt; 根节点</li><li>树的结构与插入顺序有关，树型结构不稳定（时间复杂度不稳定），可能退化为链表</li><li>插入 删除 查找 的 时间复杂度：O(h) ~ O(lgh)，与树的高度成正比，最好情况时间复杂度是以2为底的对数。</li><li>中序遍历有序，有序输出节点</li><li>能解决范围性查找</li><li>能找到最大最小值</li><li>能找到第k大的节点</li></ul><h4 id="用途"><a href="#用途" class="headerlink" title="用途"></a>用途</h4><ul><li>解决与排名相关的检索需求</li></ul><h4 id="删除操作"><a href="#删除操作" class="headerlink" title="删除操作"></a>删除操作</h4><ul><li>删除叶子节点：直接删除</li><li>删除出度为1的节点：删除出度为1的节点得调整树的结构</li><li>删除出度为2的节点：找到 以该节点为根节点的子树 的 前驱节点 或者 后继节点，交换他们，最后 问题转化为 删除出度为1的节点了</li></ul><h4 id="基础版"><a href="#基础版" class="headerlink" title="基础版"></a>基础版</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/*二叉查找树 */</span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h></span></span><span class="token comment" spellcheck="true">/***********结构定义***********/</span> <span class="token keyword">typedef</span> <span class="token keyword">struct</span> Node<span class="token punctuation">{</span>    <span class="token keyword">int</span> value<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//节点存储值</span>    <span class="token keyword">struct</span> Node <span class="token operator">*</span>left<span class="token punctuation">,</span> <span class="token operator">*</span>right<span class="token punctuation">;</span> <span class="token punctuation">}</span>Node<span class="token punctuation">;</span><span class="token comment" spellcheck="true">/***********结构操作 ***********/</span> <span class="token comment" spellcheck="true">//开辟一个节点 </span>Node <span class="token operator">*</span><span class="token function">getNewNode</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token punctuation">(</span>Node <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    p<span class="token operator">-></span>value <span class="token operator">=</span> key<span class="token punctuation">;</span>    p<span class="token operator">-></span>left <span class="token operator">=</span> p<span class="token operator">-></span>right <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> p<span class="token punctuation">;</span><span class="token punctuation">}</span>Node <span class="token operator">*</span><span class="token function">insertNode</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">getNewNode</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>value <span class="token operator">==</span> target<span class="token punctuation">)</span> <span class="token keyword">return</span> root<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>value <span class="token operator">></span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>        root<span class="token operator">-></span>left <span class="token operator">=</span> <span class="token function">insertNode</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        root<span class="token operator">-></span>right <span class="token operator">=</span> <span class="token function">insertNode</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> root<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">clear</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">clear</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">clear</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// 查找 </span><span class="token keyword">int</span> <span class="token function">search</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>value <span class="token operator">==</span> target<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>value <span class="token operator">></span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">search</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token function">search</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// precursor 前驱 </span><span class="token comment" spellcheck="true">// predecessor 前任 </span><span class="token comment" spellcheck="true">// 找到前驱节点 </span>Node <span class="token operator">*</span><span class="token function">precursor</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> root<span class="token operator">-></span>left<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span> <span class="token operator">&amp;&amp;</span> p<span class="token operator">-></span>right <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        p <span class="token operator">=</span> p<span class="token operator">-></span>right<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> p<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// Successor后继</span><span class="token comment" spellcheck="true">// 找到后继节点 </span>Node <span class="token operator">*</span><span class="token function">successor</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> root<span class="token operator">-></span>right<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span> <span class="token operator">&amp;&amp;</span> p<span class="token operator">-></span>left <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        p <span class="token operator">=</span> p<span class="token operator">-></span>left<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> p<span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token comment" spellcheck="true">// 删除节点 </span><span class="token comment" spellcheck="true">// root表示树的根节点 </span>Node <span class="token operator">*</span><span class="token function">erase</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> root<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>value <span class="token operator">></span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>        root<span class="token operator">-></span>left <span class="token operator">=</span> <span class="token function">erase</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>value <span class="token operator">&lt;</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>        root<span class="token operator">-></span>right <span class="token operator">=</span> <span class="token function">erase</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 找到删除的节点 </span>        <span class="token comment" spellcheck="true">/*if (root->right == NULL &amp;&amp; root->left == NULL) { //删除的节点 的 出度为0             free(root);            return NULL;        } else */</span><span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>right <span class="token operator">==</span> <span class="token constant">NULL</span> <span class="token operator">||</span> root<span class="token operator">-></span>left <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 删除的节点 的 出度为1 </span>            Node <span class="token operator">*</span>tmp <span class="token operator">=</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>left <span class="token operator">?</span> root<span class="token operator">-></span>left <span class="token punctuation">:</span> root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">free</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> tmp<span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//出度2 </span>            <span class="token comment" spellcheck="true">//转化问题 把 删除出度为2的节点问题 转化到 删除出度为1的节点的问题 </span>            <span class="token comment" spellcheck="true">// 前驱 或者 后继 节点的出度都为1 </span>            Node <span class="token operator">*</span>tmp <span class="token operator">=</span> <span class="token function">precursor</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//找到前驱节点</span>            root<span class="token operator">-></span>value <span class="token operator">=</span> tmp<span class="token operator">-></span>value<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//把前驱节点的值赋值给需要删除的节点 </span>            root<span class="token operator">-></span>left <span class="token operator">=</span> <span class="token function">erase</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> tmp<span class="token operator">-></span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//转化为删除前驱节点（出度为1） </span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> root<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">in_order</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">in_order</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> root<span class="token operator">-></span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">in_order</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">srand</span><span class="token punctuation">(</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> n<span class="token punctuation">;</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    Node <span class="token operator">*</span>root <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span>        root <span class="token operator">=</span> <span class="token function">insertNode</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>     <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n-------------------------\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">in_order</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">putchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token constant">EOF</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"delete node is %d\n"</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>        root <span class="token operator">=</span> <span class="token function">erase</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">in_order</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">putchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="升级版"><a href="#升级版" class="headerlink" title="升级版"></a>升级版</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/*二叉查找树 升级版 */</span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h></span></span><span class="token comment" spellcheck="true">/***********结构定义***********/</span> <span class="token keyword">typedef</span> <span class="token keyword">struct</span> Node<span class="token punctuation">{</span>    <span class="token keyword">int</span> value<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//节点存储值</span>    <span class="token keyword">int</span> size<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//表示 当前节点 + 左右子树的节点个数之和 </span>    <span class="token keyword">struct</span> Node <span class="token operator">*</span>left<span class="token punctuation">,</span> <span class="token operator">*</span>right<span class="token punctuation">;</span> <span class="token punctuation">}</span>Node<span class="token punctuation">;</span>Node __NIL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//哨兵节点</span><span class="token macro property">#<span class="token directive keyword">define</span> NIL (&amp;__NIL)</span><span class="token comment" spellcheck="true">//初始化，在main之前初始化</span><span class="token function">__attribute__</span><span class="token punctuation">(</span><span class="token punctuation">(</span>constructor<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">void</span> <span class="token function">init_INL</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    NIL<span class="token operator">-></span>value <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    NIL<span class="token operator">-></span>size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    NIL<span class="token operator">-></span>left <span class="token operator">=</span> NIL<span class="token operator">-></span>right <span class="token operator">=</span> NIL<span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token comment" spellcheck="true">/***********结构操作 ***********/</span> <span class="token comment" spellcheck="true">//开辟一个节点 </span>Node <span class="token operator">*</span><span class="token function">getNewNode</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token punctuation">(</span>Node <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    p<span class="token operator">-></span>value <span class="token operator">=</span> key<span class="token punctuation">;</span>    p<span class="token operator">-></span>left <span class="token operator">=</span> p<span class="token operator">-></span>right <span class="token operator">=</span> NIL<span class="token punctuation">;</span>    p<span class="token operator">-></span>size <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> p<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">update_size</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    root<span class="token operator">-></span>size <span class="token operator">=</span> root<span class="token operator">-></span>left<span class="token operator">-></span>size <span class="token operator">+</span> root<span class="token operator">-></span>right<span class="token operator">-></span>size <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span>Node <span class="token operator">*</span><span class="token function">insertNode</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> NIL<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">getNewNode</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>value <span class="token operator">==</span> target<span class="token punctuation">)</span> <span class="token keyword">return</span> root<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>value <span class="token operator">></span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>        root<span class="token operator">-></span>left <span class="token operator">=</span> <span class="token function">insertNode</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        root<span class="token operator">-></span>right <span class="token operator">=</span> <span class="token function">insertNode</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">/*    root->size = 0;    if (root->left != NULL) root->size += root->left->size;    if (root->right != NULL) root->size += root->right->size;    */</span>        <span class="token function">update_size</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> root<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">clear</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> NIL<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">clear</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">clear</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// 查找 </span><span class="token keyword">int</span> <span class="token function">search</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> NIL<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//不存在 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>value <span class="token operator">==</span> target<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 存在 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>value <span class="token operator">></span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">search</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token function">search</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// precursor 前驱 </span><span class="token comment" spellcheck="true">// predecessor 前任 </span><span class="token comment" spellcheck="true">// 找到前驱节点 </span>Node <span class="token operator">*</span><span class="token function">precursor</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> root<span class="token operator">-></span>left<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> NIL <span class="token operator">&amp;&amp;</span> p<span class="token operator">-></span>right <span class="token operator">!=</span> NIL<span class="token punctuation">)</span> <span class="token punctuation">{</span>        p <span class="token operator">=</span> p<span class="token operator">-></span>right<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> p<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// Successor后继</span><span class="token comment" spellcheck="true">// 找到后继节点 </span>Node <span class="token operator">*</span><span class="token function">successor</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> root<span class="token operator">-></span>right<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> NIL <span class="token operator">&amp;&amp;</span> p<span class="token operator">-></span>left <span class="token operator">!=</span> NIL<span class="token punctuation">)</span> <span class="token punctuation">{</span>        p <span class="token operator">=</span> p<span class="token operator">-></span>left<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> p<span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token comment" spellcheck="true">// 删除节点 </span><span class="token comment" spellcheck="true">// root表示树的根节点 </span>Node <span class="token operator">*</span><span class="token function">erase</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> NIL<span class="token punctuation">)</span> <span class="token keyword">return</span> root<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>value <span class="token operator">></span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>        root<span class="token operator">-></span>left <span class="token operator">=</span> <span class="token function">erase</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>value <span class="token operator">&lt;</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>        root<span class="token operator">-></span>right <span class="token operator">=</span> <span class="token function">erase</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 找到删除的节点 </span>        <span class="token comment" spellcheck="true">/*if (root->right == NULL &amp;&amp; root->left == NULL) { //删除的节点 的 出度为0             free(root);            return NULL;        } else */</span><span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>right <span class="token operator">==</span> NIL <span class="token operator">||</span> root<span class="token operator">-></span>left <span class="token operator">==</span> NIL<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 删除的节点 的 出度为1 </span>            Node <span class="token operator">*</span>tmp <span class="token operator">=</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>left <span class="token operator">!=</span> NIL <span class="token operator">?</span> root<span class="token operator">-></span>left <span class="token punctuation">:</span> root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">free</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> tmp<span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//出度2 </span>            <span class="token comment" spellcheck="true">//转化问题 把 删除出度为2的节点问题 转化到 删除出度为1的节点的问题 </span>            <span class="token comment" spellcheck="true">// 前驱 或者 后继 节点的出度都为1 </span>            Node <span class="token operator">*</span>tmp <span class="token operator">=</span> <span class="token function">precursor</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//找到前驱节点</span>            root<span class="token operator">-></span>value <span class="token operator">=</span> tmp<span class="token operator">-></span>value<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//把前驱节点的值赋值给需要删除的节点 </span>            root<span class="token operator">-></span>left <span class="token operator">=</span> <span class="token function">erase</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> tmp<span class="token operator">-></span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//转化为删除前驱节点（出度为1） </span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">update_size</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> root<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//查找第k大 </span><span class="token keyword">int</span> <span class="token function">find_k</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//printf("root->value : %d, k : %d, left size : %d, right size : %d\n", root->value, k, root->left->size, root->right->size);</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> NIL<span class="token punctuation">)</span> <span class="token keyword">return</span> root<span class="token operator">-></span>value<span class="token punctuation">;</span>     <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token operator">-></span>size <span class="token operator">>=</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">find_k</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>     <span class="token comment" spellcheck="true">//右子树节点数量 + 自己 == k </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token operator">-></span>size <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">==</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//当前节点符合条件 </span>        <span class="token keyword">return</span> root<span class="token operator">-></span>value<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token function">find_k</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> k <span class="token operator">-</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token operator">-></span>size <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//+1代表root本身 </span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">in_order</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> NIL<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">in_order</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> root<span class="token operator">-></span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">in_order</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">srand</span><span class="token punctuation">(</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> n<span class="token punctuation">;</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    Node <span class="token operator">*</span>root <span class="token operator">=</span> NIL<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span>        root <span class="token operator">=</span> <span class="token function">insertNode</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>     <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n-------------------------\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">in_order</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">putchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//    while (scanf("%d", &amp;n) != EOF) {</span><span class="token comment" spellcheck="true">//        printf("delete node is %d\n", n);</span><span class="token comment" spellcheck="true">//        root = erase(root, n);</span><span class="token comment" spellcheck="true">//        in_order(root); putchar(10);</span><span class="token comment" spellcheck="true">//        printf("delete is success\n"); </span><span class="token comment" spellcheck="true">//    }</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token constant">EOF</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"select node is %d\n"</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>        n <span class="token operator">=</span> <span class="token function">find_k</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">in_order</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">putchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"value : %d\n"</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="刷题"><a href="#刷题" class="headerlink" title="刷题"></a>刷题</h3><h4 id="110-平衡二叉树"><a href="#110-平衡二叉树" class="headerlink" title="110. 平衡二叉树"></a><a href="https://leetcode-cn.com/problems/balanced-binary-tree/">110. 平衡二叉树</a></h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/** * Definition for a binary tree node. * struct TreeNode { *     int val; *     TreeNode *left; *     TreeNode *right; *     TreeNode() : val(0), left(nullptr), right(nullptr) {} *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {} *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {} * }; */</span>class Solution <span class="token punctuation">{</span>public<span class="token punctuation">:</span>    <span class="token keyword">int</span> <span class="token function">getHigth</span><span class="token punctuation">(</span>TreeNode <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> nullptr<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token function">getHigth</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">getHigth</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> <span class="token function">getHigth1</span><span class="token punctuation">(</span>TreeNode <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> nullptr<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> lh <span class="token operator">=</span> <span class="token function">getHigth1</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> rh <span class="token operator">=</span> <span class="token function">getHigth1</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>lh <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">||</span> rh <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">abs</span><span class="token punctuation">(</span>lh <span class="token operator">-</span> rh<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token function">max</span><span class="token punctuation">(</span>lh<span class="token punctuation">,</span> rh<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    bool <span class="token function">isBalanced</span><span class="token punctuation">(</span>TreeNode<span class="token operator">*</span> root<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">getHigth1</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span> <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> nullptr<span class="token punctuation">)</span> <span class="token keyword">return</span> true<span class="token punctuation">;</span>        <span class="token keyword">int</span> lh <span class="token operator">=</span> <span class="token function">getHigth</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> rh <span class="token operator">=</span> <span class="token function">getHigth</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">abs</span><span class="token punctuation">(</span>lh <span class="token operator">-</span> rh<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token function">isBalanced</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token function">isBalanced</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4 id="剑指-Offer-54-二叉搜索树的第k大节点"><a href="#剑指-Offer-54-二叉搜索树的第k大节点" class="headerlink" title="剑指 Offer 54. 二叉搜索树的第k大节点"></a><a href="https://leetcode-cn.com/problems/er-cha-sou-suo-shu-de-di-kda-jie-dian-lcof/">剑指 Offer 54. 二叉搜索树的第k大节点</a></h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/** * Definition for a binary tree node. * struct TreeNode { *     int val; *     TreeNode *left; *     TreeNode *right; *     TreeNode(int x) : val(x), left(NULL), right(NULL) {} * }; */</span>class Solution <span class="token punctuation">{</span>public<span class="token punctuation">:</span>    <span class="token keyword">void</span> <span class="token function">in_order</span><span class="token punctuation">(</span><span class="token keyword">const</span> TreeNode <span class="token operator">*</span>root<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> k<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> ans<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>right <span class="token operator">!=</span> nullptr <span class="token operator">&amp;&amp;</span> k <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">in_order</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> k<span class="token punctuation">,</span> ans<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">--</span>k <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            ans <span class="token operator">=</span> root<span class="token operator">-></span>val<span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>left <span class="token operator">&amp;&amp;</span> k <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">in_order</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> k<span class="token punctuation">,</span> ans<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> <span class="token function">kthLargest</span><span class="token punctuation">(</span>TreeNode<span class="token operator">*</span> root<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> nullptr<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> ans<span class="token punctuation">;</span>        <span class="token function">in_order</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> k<span class="token punctuation">,</span> ans<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4 id="450-删除二叉搜索树中的节点"><a href="#450-删除二叉搜索树中的节点" class="headerlink" title="450. 删除二叉搜索树中的节点"></a><a href="https://leetcode-cn.com/problems/delete-node-in-a-bst/">450. 删除二叉搜索树中的节点</a></h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/** * Definition for a binary tree node. * struct TreeNode { *     int val; *     TreeNode *left; *     TreeNode *right; *     TreeNode() : val(0), left(nullptr), right(nullptr) {} *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {} *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {} * }; */</span>class Solution <span class="token punctuation">{</span>public<span class="token punctuation">:</span>    TreeNode <span class="token operator">*</span><span class="token function">find_succ</span><span class="token punctuation">(</span>TreeNode <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span> <span class="token punctuation">{</span>            root <span class="token operator">=</span> root<span class="token operator">-></span>left<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> root<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    TreeNode<span class="token operator">*</span> <span class="token function">deleteNode</span><span class="token punctuation">(</span>TreeNode<span class="token operator">*</span> root<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> nullptr<span class="token punctuation">)</span> <span class="token keyword">return</span> root<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>val <span class="token operator">==</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>left <span class="token operator">==</span> nullptr <span class="token operator">||</span> root<span class="token operator">-></span>right <span class="token operator">==</span> nullptr<span class="token punctuation">)</span> <span class="token punctuation">{</span>                TreeNode <span class="token operator">*</span>tmp <span class="token operator">=</span> root<span class="token operator">-></span>left <span class="token operator">?</span> root<span class="token operator">-></span>left <span class="token punctuation">:</span> root<span class="token operator">-></span>right<span class="token punctuation">;</span>                <span class="token keyword">return</span> tmp<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            TreeNode <span class="token operator">*</span>succ <span class="token operator">=</span> <span class="token function">find_succ</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>            root<span class="token operator">-></span>val <span class="token operator">=</span> succ<span class="token operator">-></span>val<span class="token punctuation">;</span>            root<span class="token operator">-></span>right <span class="token operator">=</span> <span class="token function">deleteNode</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> succ<span class="token operator">-></span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>val <span class="token operator">></span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>            root<span class="token operator">-></span>left <span class="token operator">=</span> <span class="token function">deleteNode</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            root<span class="token operator">-></span>right <span class="token operator">=</span> <span class="token function">deleteNode</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> root<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4 id="669-修剪二叉搜索树"><a href="#669-修剪二叉搜索树" class="headerlink" title="669. 修剪二叉搜索树"></a><a href="https://leetcode-cn.com/problems/trim-a-binary-search-tree/">669. 修剪二叉搜索树</a></h4><pre class=" language-tex"><code class="language-tex">给你二叉搜索树的根节点 root ，同时给定最小边界low 和最大边界 high。通过修剪二叉搜索树，使得所有节点的值在[low, high]中。修剪树 不应该 改变保留在树中的元素的相对结构 (即，如果没有被移除，原有的父代子代关系都应当保留)。 可以证明，存在 唯一的答案 。所以结果应当返回修剪好的二叉搜索树的新的根节点。注意，根节点可能会根据给定的边界发生改变。</code></pre><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/** * Definition for a binary tree node. * struct TreeNode { *     int val; *     TreeNode *left; *     TreeNode *right; *     TreeNode() : val(0), left(nullptr), right(nullptr) {} *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {} *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {} * }; */</span>class Solution <span class="token punctuation">{</span>public<span class="token punctuation">:</span>    TreeNode<span class="token operator">*</span> <span class="token function">trimBST</span><span class="token punctuation">(</span>TreeNode<span class="token operator">*</span> root<span class="token punctuation">,</span> <span class="token keyword">int</span> low<span class="token punctuation">,</span> <span class="token keyword">int</span> high<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> nullptr<span class="token punctuation">)</span> <span class="token keyword">return</span> nullptr<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>val <span class="token operator">&lt;</span> low<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">trimBST</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> low<span class="token punctuation">,</span> high<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>val <span class="token operator">></span> high<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">trimBST</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> low<span class="token punctuation">,</span> high<span class="token punctuation">)</span><span class="token punctuation">;</span>        root<span class="token operator">-></span>left <span class="token operator">=</span> <span class="token function">trimBST</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> low<span class="token punctuation">,</span> high<span class="token punctuation">)</span><span class="token punctuation">;</span>        root<span class="token operator">-></span>right <span class="token operator">=</span> <span class="token function">trimBST</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> low<span class="token punctuation">,</span> high<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> root<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4 id="235-二叉搜索树的最近公共祖先"><a href="#235-二叉搜索树的最近公共祖先" class="headerlink" title="235. 二叉搜索树的最近公共祖先"></a><a href="https://leetcode-cn.com/problems/lowest-common-ancestor-of-a-binary-search-tree/">235. 二叉搜索树的最近公共祖先</a></h4><pre class=" language-tex"><code class="language-tex">给定一个二叉搜索树, 找到该树中两个指定节点的最近公共祖先。百度百科中最近公共祖先的定义为：“对于有根树 T 的两个结点 p、q，最近公共祖先表示为一个结点 x，满足 x 是 p、q 的祖先且 x 的深度尽可能大（一个节点也可以是它自己的祖先）。”</code></pre><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/** * Definition for a binary tree node. * struct TreeNode { *     int val; *     struct TreeNode *left; *     struct TreeNode *right; * }; */</span><span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> <span class="token function">lowestCommonAncestor</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> root<span class="token punctuation">,</span> <span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> p<span class="token punctuation">,</span> <span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> q<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//二分，排除一半</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>val <span class="token operator">></span> p<span class="token operator">-></span>val<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>val <span class="token operator">></span> q<span class="token operator">-></span>val<span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token function">lowestCommonAncestor</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> p<span class="token punctuation">,</span> q<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>val <span class="token operator">&lt;</span> p<span class="token operator">-></span>val<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>val <span class="token operator">&lt;</span> q<span class="token operator">-></span>val<span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token function">lowestCommonAncestor</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> p<span class="token punctuation">,</span> q<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">// p、q分别在当前节点的左右子树，当前节点就是最近公共祖先</span>        <span class="token keyword">return</span> root<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="501-二叉搜索树中的众数"><a href="#501-二叉搜索树中的众数" class="headerlink" title="501. 二叉搜索树中的众数"></a><a href="https://leetcode-cn.com/problems/find-mode-in-binary-search-tree/">501. 二叉搜索树中的众数</a></h4><p>给你一个含重复值的二叉搜索树（BST）的根节点 <code>root</code> ，找出并返回 BST 中的所有 <a href="https://baike.baidu.com/item/%E4%BC%97%E6%95%B0/44796">众数</a>（即，出现频率最高的元素）。</p><p>如果树中有不止一个众数，可以按 <strong>任意顺序</strong> 返回。</p><p>假定 BST 满足如下定义：</p><ul><li>结点左子树中所含节点的值 <strong>小于等于</strong> 当前节点的值</li><li>结点右子树中所含节点的值 <strong>大于等于</strong> 当前节点的值</li><li>左子树和右子树都是二叉搜索树</li></ul><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/** * Definition for a binary tree node. * struct TreeNode { *     int val; *     TreeNode *left; *     TreeNode *right; *     TreeNode() : val(0), left(nullptr), right(nullptr) {} *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {} *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {} * }; */</span>class Solution <span class="token punctuation">{</span>public<span class="token punctuation">:</span>    <span class="token keyword">void</span> <span class="token function">in_order</span><span class="token punctuation">(</span>TreeNode <span class="token operator">*</span>root<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> val<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> valsize<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> maxsize<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> ret<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span> <span class="token function">in_order</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> val<span class="token punctuation">,</span> valsize<span class="token punctuation">,</span> maxsize<span class="token punctuation">,</span> ret<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token operator">==</span> root<span class="token operator">-></span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token operator">++</span>valsize<span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            val <span class="token operator">=</span> root<span class="token operator">-></span>val<span class="token punctuation">;</span>            valsize <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>valsize <span class="token operator">==</span> maxsize<span class="token punctuation">)</span> <span class="token punctuation">{</span>            ret<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>            maxsize <span class="token operator">=</span> valsize<span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>valsize <span class="token operator">></span> maxsize<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>ret<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> ret<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            ret<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>            maxsize <span class="token operator">=</span> valsize<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span> <span class="token function">in_order</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> val<span class="token punctuation">,</span> valsize<span class="token punctuation">,</span> maxsize<span class="token punctuation">,</span> ret<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token punctuation">}</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">findMode</span><span class="token punctuation">(</span>TreeNode<span class="token operator">*</span> root<span class="token punctuation">)</span> <span class="token punctuation">{</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> ret<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> nullptr<span class="token punctuation">)</span> <span class="token keyword">return</span> ret<span class="token punctuation">;</span>        <span class="token keyword">int</span> val <span class="token operator">=</span> <span class="token number">1e6</span><span class="token punctuation">,</span> valsize <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> maxsize <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token function">in_order</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> val<span class="token punctuation">,</span> valsize<span class="token punctuation">,</span> maxsize<span class="token punctuation">,</span> ret<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> ret<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 高级数据结构 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>win子系统linux与云服务器传输文件</title>
      <link href="posts/2c1b.html"/>
      <url>posts/2c1b.html</url>
      
        <content type="html"><![CDATA[<h3 id="scp命令"><a href="#scp命令" class="headerlink" title="scp命令"></a>scp命令</h3><h4 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h4><pre class=" language-shell"><code class="language-shell">scp [-1246BCpqrv] [-c cipher] [-F ssh_config] [-i identity_file][-l limit] [-o ssh_option] [-P port] [-S program][[user@]host1:]file1 [...] [[user@]host2:]file2</code></pre><h4 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h4><ul><li>-1： 强制scp命令使用协议ssh1</li><li>-2： 强制scp命令使用协议ssh2</li><li>-4： 强制scp命令只使用IPv4寻址</li><li>-6： 强制scp命令只使用IPv6寻址</li><li>-B： 使用批处理模式（传输过程中不询问传输口令或短语）</li><li>-C： 允许压缩。（将-C标志传递给ssh，从而打开压缩功能）</li><li>-p：保留原文件的修改时间，访问时间和访问权限。</li><li>-q： 不显示传输进度条。</li><li>-r： 递归复制整个目录。</li><li>-v：详细方式显示输出。scp和ssh(1)会显示出整个过程的调试信息。这些信息用于调试连接，验证和配置问题。</li><li>-c cipher： 以cipher将数据传输进行加密，这个选项将直接传递给ssh。</li><li>-F ssh_config： 指定一个替代的ssh配置文件，此参数直接传递给ssh。</li><li>-i identity_file： 从指定文件中读取传输时使用的密钥文件，此参数直接传递给ssh。</li><li>-l limit： 限定用户所能使用的带宽，以Kbit/s为单位。</li><li>-o ssh_option： 如果习惯于使用ssh_config(5)中的参数传递方式，</li><li>-P port：注意是大写的P, port是指定数据传输用到的端口号</li><li>-S program： 指定加密传输时所使用的程序。此程序必须能够理解ssh(1)的选项。</li></ul><h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><h4 id="1、从本地复制到远程"><a href="#1、从本地复制到远程" class="headerlink" title="1、从本地复制到远程"></a>1、从本地复制到远程</h4><p>命令格式：</p><pre class=" language-shell"><code class="language-shell">scp local_file remote_username@remote_ip:remote_folder 或者 scp local_file remote_username@remote_ip:remote_file 或者 scp local_file remote_ip:remote_folder 或者 scp local_file remote_ip:remote_file</code></pre><ul><li>第1,2个指定了用户名，命令执行后需要再输入密码，第1个仅指定了远程的目录，文件名字不变，第2个指定了文件名；</li><li>第3,4个没有指定用户名，命令执行后需要输入用户名和密码，第3个仅指定了远程的目录，文件名字不变，第4个指定了文件名；</li></ul><p>应用实例：</p><pre class=" language-shell"><code class="language-shell">scp /home/space/music/1.mp3 root@www.runoob.com:/home/root/others/music scp /home/space/music/1.mp3 root@www.runoob.com:/home/root/others/music/001.mp3 scp /home/space/music/1.mp3 www.runoob.com:/home/root/others/music scp /home/space/music/1.mp3 www.runoob.com:/home/root/others/music/001.mp3 </code></pre><p>复制目录命令格式：</p><pre class=" language-shell"><code class="language-shell">scp -r local_folder remote_username@remote_ip:remote_folder 或者 scp -r local_folder remote_ip:remote_folder </code></pre><ul><li>第1个指定了用户名，命令执行后需要再输入密码；</li><li>第2个没有指定用户名，命令执行后需要输入用户名和密码；</li></ul><p>应用实例：</p><pre class=" language-shell"><code class="language-shell">scp -r /home/space/music/ root@www.runoob.com:/home/root/others/ scp -r /home/space/music/ www.runoob.com:/home/root/others/ </code></pre><p>上面命令将本地 music 目录复制到远程 others 目录下。</p><h4 id="2、从远程复制到本地"><a href="#2、从远程复制到本地" class="headerlink" title="2、从远程复制到本地"></a>2、从远程复制到本地</h4><p>从远程复制到本地，只要将从本地复制到远程的命令的后2个参数调换顺序即可，如下实例</p><p>应用实例：</p><pre class=" language-shell"><code class="language-shell">scp root@www.runoob.com:/home/root/others/music /home/space/music/1.mp3 scp -r www.runoob.com:/home/root/others/ /home/space/music/</code></pre><h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><p>1.如果远程服务器防火墙有为scp命令设置了指定的端口，我们需要使用 -P 参数来设置命令的端口号，命令格式如下：</p><pre class=" language-shell"><code class="language-shell">#scp 命令使用端口号 4588scp -P 4588 remote@www.runoob.com:/usr/local/sin.sh /home/administrator</code></pre><p>2.使用scp命令要确保使用的用户具有可读取远程服务器相应文件的权限，否则scp命令是无法起作用的。</p><h3 id="从远程服务器拷贝文件（夹）到本地"><a href="#从远程服务器拷贝文件（夹）到本地" class="headerlink" title="从远程服务器拷贝文件（夹）到本地"></a>从远程服务器拷贝文件（夹）到本地</h3><ul><li>scp -r 用户名@远程IP地址:文件夹路径 拷贝到本地的路径</li></ul><pre class=" language-shell"><code class="language-shell">scp -r axieyun_aly_kkb@120.25.165.205:/home/axieyun_aly_kkb/服务器开发 ./</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>力扣题解2089.找出数组排序后的目标下标</title>
      <link href="posts/9759.html"/>
      <url>posts/9759.html</url>
      
        <content type="html"><![CDATA[<h3 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h3><pre class=" language-tex"><code class="language-tex">给你一个下标从 0 开始的整数数组 nums 以及一个目标元素 target 。目标下标 是一个满足 nums[i] == target 的下标 i 。将 nums 按 非递减 顺序排序后，返回由 nums 中目标下标组成的列表。如果不存在目标下标，返回一个 空 列表。返回的列表必须按 递增 顺序排列。</code></pre><h3 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h3><ul><li>在排序后的数组中，前cnt1个元素比target小，=target的元素（存在）下标即连续，从cnt1开始计算</li></ul><h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><pre class=" language-c"><code class="language-c">class Solution <span class="token punctuation">{</span>public<span class="token punctuation">:</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">targetIndices</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> cnt1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 统计&lt;target的元素数量</span>        <span class="token keyword">int</span> cnt2 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 统计=target的元素数量</span>        <span class="token comment" spellcheck="true">//在排序后的数组中，前cnt1个元素比target小，=target的元素（存在）下标即连续，从cnt1开始计算</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span> num <span class="token punctuation">:</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>num <span class="token operator">^</span> target<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">++</span>cnt2<span class="token punctuation">;</span>            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;</span> target<span class="token punctuation">)</span> <span class="token operator">++</span>cnt1<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span>ret<span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> cnt1<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> cnt1 <span class="token operator">+</span> cnt2<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>            ret<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> ret<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>记录一次mysql日志</title>
      <link href="posts/fc7d.html"/>
      <url>posts/fc7d.html</url>
      
        <content type="html"><![CDATA[<p><em>2022.2.6日，因为c语言网络需要使用mysql，登录我几个月没有登录的mysql</em></p><h4 id="报错如下"><a href="#报错如下" class="headerlink" title="报错如下"></a>报错如下</h4><pre class=" language-shell"><code class="language-shell">root@Axieyun ~ # mysql -uroot -p                                               Enter password:ERROR 2002 (HY000): Can't connect to local MySQL server through socket '/var/run/mysqld/mysqld.sock' (2)</code></pre><h4 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h4><pre class=" language-shell"><code class="language-shell">打开mysqld服务service mysqld start打开mysql服务service mysql start建立软连接root@Axieyun ~ # ln -s /tmp/mysql.sock /var/run/mysqld/mysqld.sock   </code></pre><p><strong>解决了</strong></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Linux端口</title>
      <link href="posts/db44.html"/>
      <url>posts/db44.html</url>
      
        <content type="html"><![CDATA[<pre class=" language-tex"><code class="language-tex">ufw是一个主机端的iptables类防火墙配置工具</code></pre><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><pre class=" language-shell"><code class="language-shell">apt-get install updateapt-get install ufw</code></pre><h3 id="查看端口打开情况"><a href="#查看端口打开情况" class="headerlink" title="查看端口打开情况"></a>查看端口打开情况</h3><pre class=" language-shell"><code class="language-shell">sudo ufw status</code></pre><h3 id="打开端口"><a href="#打开端口" class="headerlink" title="打开端口"></a>打开端口</h3><pre class=" language-shell"><code class="language-shell">sudo ufw allow 端口号</code></pre><h3 id="关闭端口"><a href="#关闭端口" class="headerlink" title="关闭端口"></a>关闭端口</h3><pre class=" language-shell"><code class="language-shell">sudo ufw delete allow 端口号</code></pre><h3 id="允许特定ip访问"><a href="#允许特定ip访问" class="headerlink" title="允许特定ip访问"></a>允许特定ip访问</h3><pre class=" language-shell"><code class="language-shell">ufw allow from ip地址 to any port 端口号</code></pre><h3 id="防火墙开启-ubuntu下执行"><a href="#防火墙开启-ubuntu下执行" class="headerlink" title="防火墙开启(ubuntu下执行)"></a>防火墙开启(ubuntu下执行)</h3><pre class=" language-shell"><code class="language-shell">sudo ufw enable</code></pre><h3 id="防火墙重启-ubuntu下执行"><a href="#防火墙重启-ubuntu下执行" class="headerlink" title="防火墙重启(ubuntu下执行)"></a>防火墙重启(ubuntu下执行)</h3><pre class=" language-shell"><code class="language-shell">sudo ufw reload</code></pre>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>epoll</title>
      <link href="posts/f84b.html"/>
      <url>posts/f84b.html</url>
      
        <content type="html"><![CDATA[<pre class=" language-c"><code class="language-c"> <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/epoll.h></span></span></code></pre><h3 id="epoll-create"><a href="#epoll-create" class="headerlink" title="epoll_create()"></a>epoll_create()</h3><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">epoll_create</span><span class="token punctuation">(</span><span class="token keyword">int</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><ul><li><p>创建一个epoll对象，返回调用该对象的句柄</p></li><li><p>size ：告诉内核这个监听的数目一共有多大。实际是size + 1个，本身占一个。</p></li><li><p>执行epoll_create()时，创建了红黑树和就绪链表；</p></li></ul><h3 id="epoll-ctl"><a href="#epoll-ctl" class="headerlink" title="epoll_ctl()"></a>epoll_ctl()</h3><ul><li></li></ul><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">epoll_ctl</span><span class="token punctuation">(</span><span class="token keyword">int</span> epfd<span class="token punctuation">,</span> <span class="token keyword">int</span> op<span class="token punctuation">,</span> <span class="token keyword">int</span> fd<span class="token punctuation">,</span> <span class="token keyword">struct</span> epoll_event <span class="token operator">*</span>event<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">union</span> epoll_data <span class="token punctuation">{</span>    <span class="token keyword">void</span> <span class="token operator">*</span>ptr<span class="token punctuation">;</span>    <span class="token keyword">int</span> fd<span class="token punctuation">;</span>    __uint32_t u32<span class="token punctuation">;</span>    __uint64_t u64<span class="token punctuation">;</span><span class="token punctuation">}</span> epoll_data_t<span class="token punctuation">;</span><span class="token keyword">struct</span> epoll_event <span class="token punctuation">{</span>    __uint32_t events<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">/* Epoll events */</span>    epoll_data_t data<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">/* User data variable */</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><ul><li><p>epfd : epoll对象的句柄</p></li><li><p>op：有三种选择：</p></li><li><ul><li>EPOLL_CTL_ADD：注册新的fd到epfd中</li><li>EPOLL_CTL_MOD：修改已经注册的fd的监听事件；</li><li>EPOLL_CTL_DEL：从epfd中删除一个fd；</li></ul></li><li><p>fd：op操作的fd</p></li><li><p>event：事件结构体的指针，需要干啥事，回调函数等待</p></li><li><ul><li>events ：结构体epoll_event的参数，events可以是以下几个宏的集合：</li><li><ul><li>EPOLLIN ：表示对应的文件描述符可以读（包括对端SOCKET正常关闭）；</li><li>EPOLLOUT：表示对应的文件描述符可以写；</li><li>EPOLLPRI：表示对应的文件描述符有紧急的数据可读（这里应该表示有带外数据到来）；</li><li>EPOLLERR：表示对应的文件描述符发生错误；</li><li>EPOLLHUP：表示对应的文件描述符被挂断；</li><li>EPOLLET： 将EPOLL设为边缘触发(Edge Triggered)模式，这是相对于水平触发(Level Triggered)来说的。</li><li>EPOLLONESHOT：只监听一次事件，当监听完这次事件之后，如果还需要继续监听这个socket的话，需要再次把这个socket加入到EPOLL队列里</li></ul></li></ul></li><li><p>执行epoll_ctl()时，如果增加socket句柄，则检查在红黑树中是否存在，存在立即返回，不存在则添加到树干上，然后向内核注册回调函数，用于当中断事件来临时向准备就绪链表中插入数据；</p></li><li><p>ET模式（边缘触发）<strong>只有数据到来才触发</strong>，<strong>不管缓存区中是否还有数据</strong>，缓冲区剩余未读尽的数据不会导致epoll_wait返回；</p></li></ul><h3 id="epoll-wait"><a href="#epoll-wait" class="headerlink" title="epoll_wait()"></a>epoll_wait()</h3><ul><li>返回需要处理事件的集合数量，0表示超时</li></ul><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">epoll_wait</span><span class="token punctuation">(</span><span class="token keyword">int</span> epfd<span class="token punctuation">,</span> <span class="token keyword">struct</span> epoll_event <span class="token operator">*</span> events<span class="token punctuation">,</span> <span class="token keyword">int</span> maxevents<span class="token punctuation">,</span> <span class="token keyword">int</span> timeout<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><ul><li>events：接收需要处理事件的集合的指针，指向一个数组</li><li>maxevents：告之内核这个events有多大，小于等于 epoll_create函数的参数size</li><li>timeout ：超时时间，（单位ms），0会立即返回，-1将不确定，也有说法说是永久阻塞。</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 网络编程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>套接字编程</title>
      <link href="posts/1e74.html"/>
      <url>posts/1e74.html</url>
      
        <content type="html"><![CDATA[<h3 id="网络字节序"><a href="#网络字节序" class="headerlink" title="网络字节序"></a>网络字节序</h3><ul><li><p>TCP/IP协议规定，网络数据流应才使用大端字节序，即低地址高字节。</p></li><li><p>为使网络程序具有可移植性，使同样的C代码在大小端计算机上编译后都能正常运行，可以调用一下库函数做网络字节序和主机字节序的转换</p></li><li><ul><li><pre class=" language-c"><code class="language-c">       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;arpa/inet.h></span></span>       uint32_t <span class="token function">htonl</span><span class="token punctuation">(</span>uint32_t hostlong<span class="token punctuation">)</span><span class="token punctuation">;</span>       uint16_t <span class="token function">htons</span><span class="token punctuation">(</span>uint16_t hostshort<span class="token punctuation">)</span><span class="token punctuation">;</span>       uint32_t <span class="token function">ntohl</span><span class="token punctuation">(</span>uint32_t netlong<span class="token punctuation">)</span><span class="token punctuation">;</span>       uint16_t <span class="token function">ntohs</span><span class="token punctuation">(</span>uint16_t netshort<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>h表示host。</p></li><li><p>n表示network。</p></li><li><p>l表示32位整数。</p></li><li><p>s表示16位短整数。</p></li></ul></li></ul><h4 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;arpa/inet.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">0x12345678</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token function">htonl</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"a : %#x\nb : %#x\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">short</span> c <span class="token operator">=</span> <span class="token number">0x1234</span><span class="token punctuation">;</span>    <span class="token keyword">short</span> d <span class="token operator">=</span> <span class="token function">htons</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"c : %#x\nd : %#x\n"</span><span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h4><pre class=" language-tex"><code class="language-tex">a : 0x12345678b : 0x78563412c : 0x1234d : 0x3412</code></pre><h3 id="socket地址的数据类型"><a href="#socket地址的数据类型" class="headerlink" title="socket地址的数据类型"></a>socket地址的数据类型</h3><ul><li>socket API是一层抽象的网络编程接口，适用于各种底层网络协议。</li><li>如 IPV4、IPV6，以及 UNIX Domain Socket。</li><li>然而，各种网络协议的地址格式并不像同，如下图所示：</li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/Axieyun/cdn@1.6/_pots/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B.png"></p><pre class=" language-c"><code class="language-c">       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/socket.h></span></span>       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;netinet/in.h></span></span>       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;netinet/ip.h></span> </span><span class="token comment" spellcheck="true">/* superset of previous */</span>       tcp_socket <span class="token operator">=</span> <span class="token function">socket</span><span class="token punctuation">(</span>AF_INET<span class="token punctuation">,</span> SOCK_STREAM<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       udp_socket <span class="token operator">=</span> <span class="token function">socket</span><span class="token punctuation">(</span>AF_INET<span class="token punctuation">,</span> SOCK_DGRAM<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       raw_socket <span class="token operator">=</span> <span class="token function">socket</span><span class="token punctuation">(</span>AF_INET<span class="token punctuation">,</span> SOCK_RAW<span class="token punctuation">,</span> protocol<span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token keyword">struct</span> sockaddr_in <span class="token punctuation">{</span>               sa_family_t    sin_family<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">/* address family: AF_INET */</span>               in_port_t      sin_port<span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">/* port in network byte order */</span>               <span class="token keyword">struct</span> in_addr sin_addr<span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">/* internet address */</span>           <span class="token punctuation">}</span><span class="token punctuation">;</span>           <span class="token comment" spellcheck="true">/* Internet address. */</span>           <span class="token keyword">struct</span> in_addr <span class="token punctuation">{</span>               uint32_t       s_addr<span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">/* address in network byte order */</span>           <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><h4 id="socket"><a href="#socket" class="headerlink" title="socket()"></a>socket()</h4><ul><li>socket（）创建用于通信的端点，并返回引用该端点的文件描述符。</li><li>成功调用返回的文件描述符将是进程当前未打开的编号最低的文件描述符。</li><li>类似open()函数，返回文件描述符。</li></ul><pre class=" language-c"><code class="language-c">       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span>          </span><span class="token comment" spellcheck="true">/* See NOTES */</span>       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/socket.h></span></span>       <span class="token keyword">int</span> <span class="token function">socket</span><span class="token punctuation">(</span><span class="token keyword">int</span> domain<span class="token punctuation">,</span> <span class="token keyword">int</span> type<span class="token punctuation">,</span> <span class="token keyword">int</span> protocol<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><ul><li><p>domain：通信的协议族；协议族决定了socket的地址类型，在通信中必须采用对应的地址，如AF_INET决定了要用ipv4地址（32位的）与端口号（16位的）的组合、AF_UNIX决定了要用一个绝对路径名作为地址。可以选择以下：</p></li><li><ul><li><pre class=" language-tex"><code class="language-tex">   Name         Purpose                                    Man page   AF_UNIX      Local communication                        unix(7)   AF_LOCAL     Synonym for AF_UNIX   AF_INET      IPv4 Internet protocols                    ip(7)   AF_AX25      Amateur radio AX.25 protocol               ax25(4)   AF_IPX       IPX - Novell protocols   AF_APPLETALK AppleTalk                                  ddp(7)   AF_X25       ITU-T X.25 / ISO-8208 protocol             x25(7)   AF_INET6     IPv6 Internet protocols                    ipv6(7)   AF_DECnet    DECet protocol sockets   AF_KEY       Key  management protocol, originally de‐                veloped for usage with IPsec   AF_NETLINK   Kernel user interface device               netlink(7)   AF_PACKET    Low-level packet interface                 packet(7)   AF_RDS       Reliable Datagram Sockets (RDS) protocol   rds(7)                                                           rds-rdma(7)   AF_PPPOX     Generic PPP transport layer, for setting                up L2 tunnels (L2TP and PPPoE)   AF_LLC       Logical  link  control  (IEEE 802.2 LLC)                protocol   AF_IB        InfiniBand native addressing   AF_MPLS      Multiprotocol Label Switching   AF_CAN       Controller Area Network  automotive  bus                protocol   AF_TIPC      TIPC, "cluster domain sockets" protocol   AF_BLUETOOTH Bluetooth low-level socket protocol   AF_ALG       Interface to kernel crypto API   AF_VSOCK     VSOCK   (originally  "VMWare  VSockets")   vsock(7)                protocol for hypervisor-guest communica‐                tion   AF_KCM       KCM  (kernel connection multiplexor) in‐                terface   AF_XDP       XDP (express data path) interface</code></pre></li></ul></li><li><p>type：指定socket类型；有以下：</p></li><li><ul><li><pre class=" language-tex"><code class="language-tex">   SOCK_STREAM     Provides sequenced, reliable, two-way,  connection-based  byte  streams.   An                   out-of-band data transmission mechanism may be supported.   SOCK_DGRAM      Supports  datagrams  (connectionless,  unreliable messages of a fixed maximum                   length).   SOCK_SEQPACKET  Provides a sequenced, reliable, two-way  connection-based  data  transmission                   path for datagrams of fixed maximum length; a consumer is required to read an                   entire packet with each input system call.   SOCK_RAW        Provides raw network protocol access.   SOCK_RDM        Provides a reliable datagram layer that does not guarantee ordering.   SOCK_PACKET     Obsolete and should not be used in new programs; see packet(7).</code></pre></li></ul></li><li><p>protocol：故名思意，就是指定协议。常用的协议有，IPPROTO_TCP、IPPTOTO_UDP、IPPROTO_SCTP、IPPROTO_TIPC等。我们一般默认写0。</p></li></ul><h5 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h5><p>并不是上面的type和protocol可以随意组合的，如SOCK_STREAM不可以跟IPPROTO_UDP组合。当protocol为0时，会自动选择type类型对应的默认协议。</p><h4 id="bind"><a href="#bind" class="headerlink" title="bind()"></a>bind()</h4><ul><li>socket() 函数用来创建套接字，确定套接字的各种属性，然后服务器端要用 bind() 函数将套接字与特定的 IP 地址和端口绑定起来，只有这样，流经该 IP 地址和端口的数据才能交给套接字处理。</li></ul><pre class=" language-c"><code class="language-c">       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span>          </span><span class="token comment" spellcheck="true">/* See NOTES */</span>       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/socket.h></span></span>       <span class="token keyword">int</span> <span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">int</span> sockfd<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">struct</span> sockaddr <span class="token operator">*</span>addr<span class="token punctuation">,</span>                socklen_t addrlen<span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token keyword">struct</span> sockaddr_in <span class="token punctuation">{</span>               sa_family_t    sin_family<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">/* address family: AF_INET */</span>               in_port_t      sin_port<span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">/* port in network byte order */</span>               <span class="token keyword">struct</span> in_addr sin_addr<span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">/* internet address */</span>           <span class="token punctuation">}</span><span class="token punctuation">;</span>           <span class="token keyword">struct</span> sockaddr <span class="token punctuation">{</span>               sa_family_t sa_family<span class="token punctuation">;</span>               <span class="token keyword">char</span>        sa_data<span class="token punctuation">[</span><span class="token number">14</span><span class="token punctuation">]</span><span class="token punctuation">;</span>           <span class="token punctuation">}</span></code></pre><ul><li>sockfd : 用于监听的文件描述符。</li><li>addr 为 sockaddr 结构体变量的指针，addrlen 为 addr 变量的大小，可由 sizeof() 计算得出。</li></ul><h4 id="connect"><a href="#connect" class="headerlink" title="connect"></a>connect</h4><ul><li>参数和bind一样</li></ul><pre class=" language-c"><code class="language-c">       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span>          </span><span class="token comment" spellcheck="true">/* See NOTES */</span>       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/socket.h></span></span>       <span class="token keyword">int</span> <span class="token function">connect</span><span class="token punctuation">(</span><span class="token keyword">int</span> sockfd<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">struct</span> sockaddr <span class="token operator">*</span>addr<span class="token punctuation">,</span>                   socklen_t addrlen<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="服务端应用层流程"><a href="#服务端应用层流程" class="headerlink" title="服务端应用层流程"></a>服务端应用层流程</h3><ul><li>1、分配一个监听描述符 listenFd = socket()</li><li>2、绑定监听端口 bind(listenFd, 服务器端口)</li><li>3、开始监听listen(listenFd, 连接队列最大长度)</li><li>4、阻塞等待客户端连接 connectFd = accect(listenFd, 客户端地址端口)，并返回连接成功的新的文件描述符</li><li>5、阻塞等待客户端数据请求 read(connectFd, buf, size)</li><li>6、处理客户端数据请求</li><li>7、write(connectFd, buf, size) 发送数据应答</li><li>8、read返回0，close(connectFd)关闭连接。</li></ul><h3 id="客户端应用层流程"><a href="#客户端应用层流程" class="headerlink" title="客户端应用层流程"></a>客户端应用层流程</h3><ul><li>1、分配一个用于连接的文件描述符cennectFd = socket()</li><li>2、发起连接请求 connect(connectFd, 服务器地址端口)，并阻塞等待服务器应答</li><li>3、发送数据请求 write(connectFd, buf, size)</li><li>4、阻塞等待客户端数据应答 read(connectFd, buf, size)</li><li>5、关闭连接 close(connectFd)</li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/Axieyun/cdn@1.6/_pots/tcp.png"></p><h3 id="小细节"><a href="#小细节" class="headerlink" title="小细节"></a>小细节</h3><h4 id="INADDR-ANY"><a href="#INADDR-ANY" class="headerlink" title="INADDR_ANY"></a>INADDR_ANY</h4><pre class=" language-tex"><code class="language-tex">转换过来就是0.0.0.0，泛指本机的意思，也就是表示本机的所有IP，因为有些机子不止一块网卡，多网卡的情况下，这个就表示所有网卡ip地址的意思。比如一台电脑有3块网卡，分别连接三个网络，那么这台电脑就有3个ip地址了，如果某个应用程序需要监听某个端口，那他要监听哪个网卡地址的端口呢？如果绑定某个具体的ip地址，你只能监听你所设置的ip地址所在的网卡的端口，其它两块网卡无法监听端口，如果我需要三个网卡都监听，那就需要绑定3个ip，也就等于需要管理3个套接字进行数据交换，这样岂不是很繁琐？所以出现INADDR_ANY，你只需绑定INADDR_ANY，管理一个套接字就行，不管数据是从哪个网卡过来的，只要是绑定的端口号过来的数据，都可以接收到。</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 网络编程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>大小端</title>
      <link href="posts/95d9.html"/>
      <url>posts/95d9.html</url>
      
        <content type="html"><![CDATA[<h3 id="大端"><a href="#大端" class="headerlink" title="大端"></a>大端</h3><ul><li>低地址存高位</li></ul><h3 id="小端"><a href="#小端" class="headerlink" title="小端"></a>小端</h3><ul><li>低地址存低位</li></ul><h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><p><em>测试自己电脑大小端</em></p><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token comment" spellcheck="true">//我的是小端</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// 1027 = 1024 + 3 = 0x403 = 0100 0000 0003 (2)</span>    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//4字节</span>    a <span class="token operator">=</span> <span class="token number">1027</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%#x\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment" spellcheck="true">//因为int四字节</span>    <span class="token keyword">char</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>a<span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"address: %p, value: %#x\n"</span><span class="token punctuation">,</span> p<span class="token punctuation">,</span> <span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"address: %p, value: %#x\n"</span><span class="token punctuation">,</span> p <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">(</span>p <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"address: %p, value: %#x\n"</span><span class="token punctuation">,</span> p <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">(</span>p <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"address: %p, value: %#x\n"</span><span class="token punctuation">,</span> p <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">(</span>p <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><table><thead><tr><th>十进制</th><th>二进制</th><th>十六进制</th></tr></thead><tbody><tr><td>1027</td><td>0100 0000 0003</td><td>0x403</td></tr></tbody></table><h3 id="输出结果"><a href="#输出结果" class="headerlink" title="输出结果"></a>输出结果</h3><p><em>小端</em></p><pre class=" language-tex"><code class="language-tex">10270x403address: 0x7fff190f3a4c, value: 0x3address: 0x7fff190f3a4d, value: 0x4address: 0x7fff190f3a4e, value: 0address: 0x7fff190f3a4f, value: 0</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> C语言 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MAC地址</title>
      <link href="posts/4546.html"/>
      <url>posts/4546.html</url>
      
        <content type="html"><![CDATA[<pre class=" language-tex"><code class="language-tex">link/ether fa:16:3e:fb:98:34 brd ff:ff:ff:ff:ff:ff</code></pre><p><strong>这个被称为MAC地址，是一个网卡的物理地址，用十六进制表示，6个byte表示。MAC地址全局唯一，不会有两个网卡有相同的MAC地址，而且网卡自产出就带有这个地址。</strong></p><h4 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h4><p>既然这样，整个互联网的通信全部用MAC地址不就好了，只有知道对方的MAC地址，就可以把信息传过去了，何必需要IP地址？</p><ul><li><p>IP地址类型收货地址。可以快速定位位置。</p></li><li><p>MAC地址类似省份证：（MAC地址是具有一定定位功能的）<em>身份证是XXX的人在哪？</em></p></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 计算机网络 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>查看ip</title>
      <link href="posts/46bc.html"/>
      <url>posts/46bc.html</url>
      
        <content type="html"><![CDATA[<h3 id="ip"><a href="#ip" class="headerlink" title="ip"></a>ip</h3><ul><li>ip地址是一个网卡在网络世界的通讯地址，相当于我们现实世界的门牌号码。</li></ul><h4 id="windows"><a href="#windows" class="headerlink" title="windows"></a>windows</h4><ul><li>ipconfig</li></ul><h4 id="linux"><a href="#linux" class="headerlink" title="linux"></a>linux</h4><ul><li>ifconfig</li><li>ip addr</li></ul><h4 id="思考题"><a href="#思考题" class="headerlink" title="思考题"></a>思考题</h4><pre class=" language-tex"><code class="language-tex">16.158.165.91/22这个CIDR求以下这个网络的第一个地址、子网掩码、广播地址</code></pre><pre class=" language-tex"><code class="language-tex">前22位网络号，后10位主机号广播地址后10位为1.子网掩码前22位为1，后10位为0165 = 128 + 32 + 4 + 1 = 10100101(2)11111100 = 253; 网络号：16.158.（165 - 1 = 164）.0 = 16.158.164.0网络的第一个地址：16.158.164.1子网掩码：255.255.252.0广播地址：16.158.167.255</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 计算机网络 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>守护进程</title>
      <link href="posts/ec13.html"/>
      <url>posts/ec13.html</url>
      
        <content type="html"><![CDATA[<h4 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h4><pre class=" language-tex"><code class="language-tex">守护进程(daemon)是一类在后台运行的特殊进程，用于执行特定的系统任务。很多守护进程在系统引导的时候启动，并且一直运行直到系统关闭。另一些只在需要的时候才启动，完成任务后就自动结束。守护进程（daemon）是生存期长的一种进程，没有控制终端。它们常常在系统引导装入时启动，仅在系统关闭时才终止。UNIX系统有很多守护进程，守护进程程序的名称通常以字母“d”结尾：例如，syslogd 就是指管理系统日志的守护进程。通过ps进程查看器 ps -efj 的输出实例，内核守护进程的名字出现在方括号中.需要注意的是，用户层守护进程的父进程是 init进程（进程ID为1），从上面的输出PPID一列也可以看出，内核守护进程的父进程并非是 init进程。对于用户层守护进程， 因为它真正的父进程在 fork 出子进程后就先于子进程 exit 退出了，所以它是一个由 init 继承的孤儿进程。</code></pre><h4 id="进程组"><a href="#进程组" class="headerlink" title="进程组"></a>进程组</h4><ul><li>每个进程除了有一个进程ID之外，还属于一个进程组</li><li>进程组是一个或多个进程的集合，同一进程组中的各进程接收来自同一终端的各种信号</li><li>每个进程组有一个<a href="https://www.zhihu.com/search?q=%E7%BB%84%E9%95%BF%E8%BF%9B%E7%A8%8B&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22:%22answer%22,%22sourceId%22:529315259%7D">组长进程</a>。组长进程的进程组ID等于其进程ID</li></ul><h4 id="会话session"><a href="#会话session" class="headerlink" title="会话session"></a>会话session</h4><ul><li>会话（session）是一个或多个进程组的集合，进程调用 setsid 函数（原型：<code>pid_t setsid(void)</code> ）建立一个会话。</li></ul><h4 id="创建守护进程"><a href="#创建守护进程" class="headerlink" title="创建守护进程"></a>创建守护进程</h4><h5 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h5><pre class=" language-c"><code class="language-c">       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span></span>       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span>       pid_t <span class="token function">setsid</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><ul><li>该函数调用成功返回创建的session的id(其实也是当前进程自己的id)，出错返回-1。</li><li>调用该函数前，当前进程不允许是进程组的Leader，否则该函数返回-1.</li></ul><p><strong>代码</strong></p><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/stat.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/fcntl.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    pid_t pd<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>pd <span class="token operator">=</span> <span class="token function">fork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//一直创建子进程知道成功</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>pd<span class="token punctuation">)</span> <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//结束父进程</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>pd <span class="token operator">=</span> <span class="token function">setsid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//创建新会话，返回会话id.</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"new session id is %d\n"</span><span class="token punctuation">,</span> pd<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">chdir</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//切换到根目录</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"chdir"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">close</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//关闭标准输入</span>    <span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"/dev/null"</span><span class="token punctuation">,</span> O_RDWR<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//切换到黑洞，可读可写</span>    <span class="token comment" spellcheck="true">//标准输出、标准错误输出切换到黑洞</span>    <span class="token function">dup2</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">dup2</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//任务</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//睡觉</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>利用以下命令查看进程</strong></p><pre class=" language-shell"><code class="language-shell">ps ajxkill -9 pid //杀死进程</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 系统编程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>文件锁</title>
      <link href="posts/c936.html"/>
      <url>posts/c936.html</url>
      
        <content type="html"><![CDATA[<h3 id="文件锁"><a href="#文件锁" class="headerlink" title="文件锁"></a>文件锁</h3><h4 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h4><ul><li>在多进程对同一个文件进行读写访问时，为了保证数据的完整性，有时需要对文件进行锁定。</li><li>可以通过fcntl()函数对文件进行锁定和解锁。</li></ul><h5 id="写锁（F-WRLCK独占锁）"><a href="#写锁（F-WRLCK独占锁）" class="headerlink" title="写锁（F_WRLCK独占锁）"></a>写锁（F_WRLCK独占锁）</h5><ul><li>只有一个进程可以在文件的任一特定区域上享有独占锁。</li></ul><h5 id="读锁（F-RDLCK共享锁）"><a href="#读锁（F-RDLCK共享锁）" class="headerlink" title="读锁（F_RDLCK共享锁）"></a>读锁（F_RDLCK共享锁）</h5><ul><li>许多不同的进程可以同时拥有文件上同一区域上的共享锁。</li></ul><p><strong>为了拥有共享锁，文件必须以 读 或者 读/写 的方式打开。只要任一进程拥有共享锁，那么其他进程就无法再获得独占锁。</strong></p><h4 id="flock"><a href="#flock" class="headerlink" title="flock()"></a>flock()</h4><ul><li>对整个文件进行操作</li></ul><pre class=" language-c"><code class="language-c">       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/file.h></span></span>       <span class="token keyword">int</span> <span class="token function">flock</span><span class="token punctuation">(</span><span class="token keyword">int</span> fd<span class="token punctuation">,</span> <span class="token keyword">int</span> operation<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><ul><li>fd：文件描述符</li><li>operation 取值情况：</li><li><ul><li>LOCK_SH：放置共享锁。在给定时间，多个进程可能持有给定文件的共享锁。</li><li>LOCK_EX：放置独占锁。在给定时间，只有一个进程可以为给定文件持有独占锁。</li><li>LOCK_UN：移除此进程持有的现有锁。</li></ul></li></ul><h4 id="fcntl"><a href="#fcntl" class="headerlink" title="fcntl()"></a>fcntl()</h4><ul><li>可以对文件部分区域放锁。（精细版）</li></ul><pre class=" language-c"><code class="language-c">       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span>       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;fcntl.h></span></span>       <span class="token keyword">int</span> <span class="token function">fcntl</span><span class="token punctuation">(</span><span class="token keyword">int</span> fd<span class="token punctuation">,</span> <span class="token keyword">int</span> cmd<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token comment" spellcheck="true">/* arg */</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token keyword">struct</span> flock <span class="token punctuation">{</span>               <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>               <span class="token keyword">short</span> l_type<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">/* Type of lock: F_RDLCK,                                   F_WRLCK, F_UNLCK */</span>               <span class="token keyword">short</span> l_whence<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">/* How to interpret l_start:                                   SEEK_SET, SEEK_CUR, SEEK_END */</span>               off_t l_start<span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">/* Starting offset for lock */</span>               off_t l_len<span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">/* Number of bytes to lock */</span>               pid_t l_pid<span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">/* PID of process blocking our lock                                   (set by F_GETLK and F_OFD_GETLK) */</span>               <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>           <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><ul><li>可变参数传struct flock结构体。</li></ul><h5 id="设置读锁"><a href="#设置读锁" class="headerlink" title="设置读锁"></a>设置读锁</h5><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/stat.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/fcntl.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/wait.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> fd <span class="token operator">=</span> <span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"./hello.txt"</span><span class="token punctuation">,</span> O_RDONLY<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>fd <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"open"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">struct</span> stat st<span class="token punctuation">;</span>    <span class="token function">fstat</span><span class="token punctuation">(</span>fd<span class="token punctuation">,</span> <span class="token operator">&amp;</span>st<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">struct</span> flock fl<span class="token punctuation">;</span>    fl<span class="token punctuation">.</span>l_pid <span class="token operator">=</span> <span class="token function">getpid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    fl<span class="token punctuation">.</span>l_type <span class="token operator">=</span> F_RDLCK<span class="token punctuation">;</span>    fl<span class="token punctuation">.</span>l_start <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    fl<span class="token punctuation">.</span>l_whence <span class="token operator">=</span> SEEK_SET<span class="token punctuation">;</span>    fl<span class="token punctuation">.</span>l_len <span class="token operator">=</span> st<span class="token punctuation">.</span>st_size<span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"pid: %d "</span><span class="token punctuation">,</span> fl<span class="token punctuation">.</span>l_pid<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">fcntl</span><span class="token punctuation">(</span>fd<span class="token punctuation">,</span> F_SETLK<span class="token punctuation">,</span> <span class="token operator">&amp;</span>fl<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"fcntl"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"add read lock successfully\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">close</span><span class="token punctuation">(</span>fd<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h5 id="设置写锁"><a href="#设置写锁" class="headerlink" title="设置写锁"></a>设置写锁</h5><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/stat.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/fcntl.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/wait.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> fd <span class="token operator">=</span> <span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"./hello.txt"</span><span class="token punctuation">,</span> O_WRONLY<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//只写</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>fd <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"open"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">struct</span> stat st<span class="token punctuation">;</span>    <span class="token function">fstat</span><span class="token punctuation">(</span>fd<span class="token punctuation">,</span> <span class="token operator">&amp;</span>st<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 获取文件信息</span>    <span class="token keyword">struct</span> flock fl<span class="token punctuation">;</span>    fl<span class="token punctuation">.</span>l_pid <span class="token operator">=</span> <span class="token function">getpid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    fl<span class="token punctuation">.</span>l_type <span class="token operator">=</span> F_WRLCK<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//设置写锁</span>    fl<span class="token punctuation">.</span>l_start <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    fl<span class="token punctuation">.</span>l_whence <span class="token operator">=</span> SEEK_SET<span class="token punctuation">;</span>    fl<span class="token punctuation">.</span>l_len <span class="token operator">=</span> st<span class="token punctuation">.</span>st_size<span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"pid: %d "</span><span class="token punctuation">,</span> fl<span class="token punctuation">.</span>l_pid<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">fcntl</span><span class="token punctuation">(</span>fd<span class="token punctuation">,</span> F_SETLK<span class="token punctuation">,</span> <span class="token operator">&amp;</span>fl<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"fcntl"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">struct</span> flock fl2<span class="token punctuation">;</span>        fl2 <span class="token operator">=</span> fl<span class="token punctuation">;</span>        fl2<span class="token punctuation">.</span>l_type <span class="token operator">=</span> F_WRLCK<span class="token punctuation">;</span>        <span class="token function">fcntl</span><span class="token punctuation">(</span>fd<span class="token punctuation">,</span> F_GETLK<span class="token punctuation">,</span> <span class="token operator">&amp;</span>fl2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//得到锁的信息</span>        <span class="token keyword">switch</span> <span class="token punctuation">(</span>fl2<span class="token punctuation">.</span>l_type<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">case</span> F_UNLCK<span class="token punctuation">:</span>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"get no lock\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> F_RDLCK<span class="token punctuation">:</span>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"get read lock of pid = %d\n"</span><span class="token punctuation">,</span> fl2<span class="token punctuation">.</span>l_pid<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> F_WRLCK<span class="token punctuation">:</span>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"get write lock of pid = %d\n"</span><span class="token punctuation">,</span> fl2<span class="token punctuation">.</span>l_pid<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"add write lock successfully\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">close</span><span class="token punctuation">(</span>fd<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 系统编程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>信号题</title>
      <link href="posts/9acd.html"/>
      <url>posts/9acd.html</url>
      
        <content type="html"><![CDATA[<h4 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h4><p><em>创建两个进程，主进程接收到SIGINT信号，分别给两个子进程发送SIGUSR1、SIGUSR2信号，分别输出两句话。</em></p><p><strong>思路</strong></p><p><em>主进程一直等待信号到了，子进程屏蔽SIGINT信号，信号到了分别kill发送信号给子进程。</em></p><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/*************************************************************************        > File Name: 作业.c        > Author:        > Mail:        > Created Time: Sun 30 Jan 2022 08:42:23 PM CST ************************************************************************/</span><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;signal.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/wait.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/shm.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/msg.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/ipc.h></span></span><span class="token keyword">int</span> mask<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">stop</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    mask <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token keyword">int</span> sigmenber<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"child1 is killed by parent!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token keyword">int</span> sigmember<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"child2 is killed by parent!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    pid_t pd1 <span class="token operator">=</span> <span class="token function">fork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>pd1 <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"fork"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>pd1<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//printf("pd1 = %d\n", pd1);</span>        pid_t pd2 <span class="token operator">=</span> <span class="token function">fork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>pd2 <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"fork2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>pd2<span class="token punctuation">)</span> <span class="token punctuation">{</span>            mask <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token function">signal</span><span class="token punctuation">(</span>SIGINT<span class="token punctuation">,</span> <span class="token operator">&amp;</span>stop<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">while</span><span class="token punctuation">(</span>mask <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"在父进程中\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token comment" spellcheck="true">//pause();</span>            <span class="token function">kill</span><span class="token punctuation">(</span>pd1<span class="token punctuation">,</span> SIGUSR1<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">kill</span><span class="token punctuation">(</span>pd2<span class="token punctuation">,</span> SIGUSR2<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">wait</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">wait</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"在子进程2~\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//屏蔽SIGINT信号</span>            sigset_t sig<span class="token punctuation">;</span>            <span class="token function">sigemptyset</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>sig<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">sigaddset</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>sig<span class="token punctuation">,</span> SIGINT<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">sigprocmask</span><span class="token punctuation">(</span>SIG_BLOCK<span class="token punctuation">,</span> <span class="token operator">&amp;</span>sig<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">signal</span><span class="token punctuation">(</span>SIGUSR2<span class="token punctuation">,</span> <span class="token operator">&amp;</span>f2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//自定义信号动作</span>            <span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//屏蔽SIGINT信号</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"在子进程1~\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        sigset_t sig<span class="token punctuation">;</span>        <span class="token function">sigemptyset</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>sig<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">sigaddset</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>sig<span class="token punctuation">,</span> SIGINT<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">sigprocmask</span><span class="token punctuation">(</span>SIG_BLOCK<span class="token punctuation">,</span> <span class="token operator">&amp;</span>sig<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">signal</span><span class="token punctuation">(</span>SIGUSR1<span class="token punctuation">,</span> <span class="token operator">&amp;</span>f1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//自定义信号动作</span>        <span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 系统编程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>线程</title>
      <link href="posts/4864.html"/>
      <url>posts/4864.html</url>
      
        <content type="html"><![CDATA[<h3 id="线程（thread）"><a href="#线程（thread）" class="headerlink" title="线程（thread）"></a>线程（thread）</h3><h4 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h4><pre class=" language-tex"><code class="language-tex">是操作系统能够进行运算的调度的最小单位。它被包括在进程中，是进程中的实际运作单位。一条线程指的是进程中一个单一顺序的控制流，一个进程中可以并发多个线程，每条线程并发执行不同的任务。</code></pre><ul><li>在Linux系统上线程函数位于libpthread共享库中，在编译时要加上-pthread选项。</li></ul><h4 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h4><pre class=" language-c"><code class="language-c">       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token comment" spellcheck="true">//创建线程</span>       <span class="token keyword">int</span> <span class="token function">pthread_create</span><span class="token punctuation">(</span>pthread_t <span class="token operator">*</span>thread<span class="token punctuation">,</span> <span class="token keyword">const</span> pthread_attr_t <span class="token operator">*</span>attr<span class="token punctuation">,</span>                          <span class="token keyword">void</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">*</span>start_routine<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">void</span> <span class="token operator">*</span>arg<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token comment" spellcheck="true">//获取线程id</span>       pthread_t <span class="token function">pthread_self</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       Compile and link with <span class="token operator">-</span>pthread<span class="token punctuation">.</span>                  <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token comment" spellcheck="true">//发送终止信号给thread线程，如果成功则返回0，否则为非0值。发送成功并不意味着thread会终止。</span><span class="token comment" spellcheck="true">//pthread_cancel调用并不等待线程终止，它只提出请求。线程在取消请求(pthread_cancel)发出后会继续运行，</span><span class="token comment" spellcheck="true">//直到到达某个取消点(CancellationPoint)。取消点是线程检查是否被取消并按照请求进行动作的一个位置.</span>       <span class="token keyword">int</span> <span class="token function">pthread_cancel</span><span class="token punctuation">(</span>pthread_t thread<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token comment" spellcheck="true">//线程的终止可以是调用了pthread_exit或者该线程的例程结束。也就是说，一个线程可以隐式的退出，也可以显式的调用pthread_exit函数来退出。</span>       <span class="token keyword">void</span> <span class="token function">pthread_exit</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>retval<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token comment" spellcheck="true">//等待线程结束，thread表示线程id,retval表示线程传出线程死亡原因</span>       <span class="token keyword">int</span> <span class="token function">pthread_join</span><span class="token punctuation">(</span>pthread_t thread<span class="token punctuation">,</span> <span class="token keyword">void</span> <span class="token operator">*</span><span class="token operator">*</span>retval<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//retval = NULL表示不想知道线程死亡原因</span>       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token comment" spellcheck="true">//让线程自行了断，主线程不管</span>       <span class="token keyword">int</span> <span class="token function">pthread_detach</span><span class="token punctuation">(</span>pthread_t thread<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h5 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h5><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/*************************************************************************        > File Name: exit.c        > Author:        > Mail:        > Created Time: Mon 31 Jan 2022 01:07:16 PM CST ************************************************************************/</span><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token keyword">void</span><span class="token operator">*</span> <span class="token function">thrf1</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span> arg<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"thread 1 returning\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token function">thrf2</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>arg<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"thread 2 exiting\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_exit</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token function">thrf3</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>arg<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"thread 3 sleep 1s\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    pthread_t tid<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//线程id</span>    <span class="token keyword">void</span> <span class="token operator">*</span>status<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//接收线程死亡原因</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>tid<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>thrf1<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>tid<span class="token punctuation">,</span> <span class="token operator">&amp;</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"thread 1 exit code %ld\n"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>tid<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>thrf2<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>tid<span class="token punctuation">,</span> <span class="token operator">&amp;</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"thread 2 exit code %ld\n"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>tid<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> thrf3<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_cancel</span><span class="token punctuation">(</span>tid<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>tid<span class="token punctuation">,</span> <span class="token operator">&amp;</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"thread 3 exit code %ld\n"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="线程共享的资源与环境"><a href="#线程共享的资源与环境" class="headerlink" title="线程共享的资源与环境"></a>线程共享的资源与环境</h4><ul><li>由于同一个进程的多个线程共享同一地址空间，因此Text Segment、Data Segment都是共享的。</li><li>如果定义一个函数，在各线程中都可以调用。</li><li>如果定义一个全局变量，在各线程中都可以访问得到。</li><li>文件描述符表</li><li>各种信号的处理方式</li><li>当前工作目录</li><li>用户id和组id</li></ul><h4 id="各自一份"><a href="#各自一份" class="headerlink" title="各自一份"></a>各自一份</h4><ul><li>线程id</li><li>上下文，包括各种寄存器的值、程序计数器和栈指针</li><li>栈空间</li><li>errno变量</li><li>信号屏蔽字</li><li>调度优先级</li></ul><h3 id="线程间同步"><a href="#线程间同步" class="headerlink" title="线程间同步"></a>线程间同步</h3><h4 id="mutex"><a href="#mutex" class="headerlink" title="mutex"></a>mutex</h4><pre class=" language-c"><code class="language-c">       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span>       pthread_mutex_t fastmutex <span class="token operator">=</span> PTHREAD_MUTEX_INITIALIZER<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//互斥变量初始化</span>       pthread_mutex_t recmutex <span class="token operator">=</span> PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP<span class="token punctuation">;</span>       pthread_mutex_t errchkmutex <span class="token operator">=</span> PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP<span class="token punctuation">;</span>       <span class="token keyword">int</span> <span class="token function">pthread_mutex_init</span><span class="token punctuation">(</span>pthread_mutex_t <span class="token operator">*</span>mutex<span class="token punctuation">,</span> <span class="token keyword">const</span> pthread_mutexattr_t <span class="token operator">*</span>mutexattr<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token keyword">int</span> <span class="token function">pthread_mutex_lock</span><span class="token punctuation">(</span>pthread_mutex_t <span class="token operator">*</span>mutex<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token keyword">int</span> <span class="token function">pthread_mutex_trylock</span><span class="token punctuation">(</span>pthread_mutex_t <span class="token operator">*</span>mutex<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token keyword">int</span> <span class="token function">pthread_mutex_unlock</span><span class="token punctuation">(</span>pthread_mutex_t <span class="token operator">*</span>mutex<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token keyword">int</span> <span class="token function">pthread_mutex_destroy</span><span class="token punctuation">(</span>pthread_mutex_t <span class="token operator">*</span>mutex<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h5 id="pthread-mutex-lock"><a href="#pthread-mutex-lock" class="headerlink" title="pthread_mutex_lock"></a>pthread_mutex_lock</h5><ul><li>给资源上锁</li><li>如果资源已经被别的线程加锁，则线程挂起等待。</li></ul><h5 id="pthread-mutex-trylock"><a href="#pthread-mutex-trylock" class="headerlink" title="pthread_mutex_trylock"></a>pthread_mutex_trylock</h5><ul><li>尝试给资源上锁</li><li>如果一个线程既想得到资源，又不想等待，可用调用pthread_mutex_trylock，如果资源已经被别的线程加锁，这个函数会失败返回EBUSY，而不会是线程挂起等待。</li></ul><h5 id="pthread-mutex-unlock"><a href="#pthread-mutex-unlock" class="headerlink" title="pthread_mutex_unlock"></a>pthread_mutex_unlock</h5><ul><li>给资源解锁</li></ul><h5 id="pthread-mutex-destroy"><a href="#pthread-mutex-destroy" class="headerlink" title="pthread_mutex_destroy"></a>pthread_mutex_destroy</h5><ul><li>销毁锁</li></ul><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/*************************************************************************        > File Name: addnum.c        > Author:        > Mail:        > Created Time: Mon 31 Jan 2022 03:17:20 PM CST ************************************************************************/</span><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>pthread_mutex_t mtx <span class="token operator">=</span> PTHREAD_MUTEX_INITIALIZER<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token function">cntadd</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>arg<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> val<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//pthread_mutex_trylock(&amp;mtx);</span>        <span class="token function">pthread_mutex_lock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>mtx<span class="token punctuation">)</span><span class="token punctuation">;</span>        val <span class="token operator">=</span> cnt<span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%p: %d\n"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">pthread_self</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>        cnt <span class="token operator">=</span> val <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token function">pthread_mutex_unlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>mtx<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    pthread_t td1<span class="token punctuation">,</span> td2<span class="token punctuation">,</span> td3<span class="token punctuation">;</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>td1<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>cntadd<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>td2<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>cntadd<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>td3<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>cntadd<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//不想得到线程死亡信息，等待线程结束</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>td1<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>td2<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>td3<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="条件变量"><a href="#条件变量" class="headerlink" title="条件变量"></a>条件变量</h4><p><em>线程A需要等待某个条件成立才能继续往下执行，现在这个条件不成立，线程A阻塞等待，而线程B在执行过程中使这个条件成立了，就唤醒线程A执行。</em></p><pre><code>       #include &lt;pthread.h&gt;       pthread_cond_t cond = PTHREAD_COND_INITIALIZER;       int pthread_cond_init(pthread_cond_t *cond, pthread_condattr_t *cond_attr);       int pthread_cond_signal(pthread_cond_t *cond);       int pthread_cond_broadcast(pthread_cond_t *cond);       int pthread_cond_wait(pthread_cond_t *cond, pthread_mutex_t *mutex);       int pthread_cond_timedwait(pthread_cond_t *cond, pthread_mutex_t *mutex, const  struct  timespec *abstime);                  struct timespec {               time_t tv_sec;      /* Seconds */               long   tv_nsec;     /* Nanoseconds [0 .. 999999999] */           };       int pthread_cond_destroy(pthread_cond_t *cond);</code></pre><h5 id="静态初始化"><a href="#静态初始化" class="headerlink" title="静态初始化"></a><strong>静态初始化</strong></h5><pre class=" language-c"><code class="language-c">pthread_cond_t cond <span class="token operator">=</span> PTHREAD_COND_INITIALIZER<span class="token punctuation">;</span></code></pre><ul><li>定义环境变量cond，并初始化。</li></ul><p>、</p><h5 id="pthread-cond-init"><a href="#pthread-cond-init" class="headerlink" title="pthread_cond_init()"></a><strong>pthread_cond_init()</strong></h5><ul><li>初始化一个条件变量</li><li>cond_attr表条件变量属性，通常为默认值，传NULL即可</li><li></li></ul><h5 id="pthread-cond-wait"><a href="#pthread-cond-wait" class="headerlink" title="pthread_cond_wait()"></a><strong>pthread_cond_wait()</strong></h5><ul><li>阻塞等待条件变量cond，并释放已掌握的互斥锁mutex（解锁互斥量）。</li><li>以上操作为原子操作。</li><li>当被唤醒时，<strong>pthread_cond_wait函数返回时，解除阻塞并重新申请获取互斥锁pthread_mutex_lock(&amp;mutex)。</strong></li></ul><h5 id="pthread-cond-timedwait"><a href="#pthread-cond-timedwait" class="headerlink" title="pthread_cond_timedwait()"></a><strong>pthread_cond_timedwait()</strong></h5><ul><li><p>限时等待一个条件变量</p></li><li><pre class=" language-c"><code class="language-c">time_t cur <span class="token operator">=</span> <span class="token function">time</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 获取当前时间。<span class="token keyword">struct</span> timespec t<span class="token punctuation">;</span> 定义timespec 结构体变量tt<span class="token punctuation">.</span>tv_sec <span class="token operator">=</span> cur<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span> 限时<span class="token number">1</span>秒<span class="token function">pthread_cond_timedwait</span> <span class="token punctuation">(</span><span class="token operator">&amp;</span>cond<span class="token punctuation">,</span> <span class="token operator">&amp;</span>mutex<span class="token punctuation">,</span> <span class="token operator">&amp;</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ul><h5 id="pthread-cond-signal"><a href="#pthread-cond-signal" class="headerlink" title="pthread_cond_signal()"></a><strong>pthread_cond_signal()</strong></h5><ul><li>唤醒至少一个阻塞在条件变量上的线程</li></ul><h5 id="pthread-cond-broadcast"><a href="#pthread-cond-broadcast" class="headerlink" title="pthread_cond_broadcast()"></a><strong>pthread_cond_broadcast()</strong></h5><ul><li>唤醒全部阻塞在条件变量上的线程</li></ul><h5 id="pthread-cond-destroy"><a href="#pthread-cond-destroy" class="headerlink" title="pthread_cond_destroy()"></a><strong>pthread_cond_destroy()</strong></h5><ul><li>销毁一个条件变量</li></ul><h5 id="返回值"><a href="#返回值" class="headerlink" title="返回值"></a>返回值</h5><ul><li>以上函数，成功返回0， 失败直接返回错误号。</li></ul><h5 id="生产者消费者模型代码演示"><a href="#生产者消费者模型代码演示" class="headerlink" title="生产者消费者模型代码演示"></a>生产者消费者模型代码演示</h5><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/*************************************************************************        > File Name: cond.c        > Author:        > Mail:        > Created Time: Mon 31 Jan 2022 07:52:31 PM CST ************************************************************************/</span><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h></span></span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Goods<span class="token punctuation">{</span>    <span class="token keyword">int</span> data<span class="token punctuation">;</span>    <span class="token keyword">struct</span> Goods <span class="token operator">*</span>next<span class="token punctuation">;</span><span class="token punctuation">}</span> Goods<span class="token punctuation">;</span>Goods <span class="token operator">*</span>head <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>pthread_mutex_t headMutex <span class="token operator">=</span> PTHREAD_MUTEX_INITIALIZER<span class="token punctuation">;</span>pthread_cond_t hasGoods <span class="token operator">=</span> PTHREAD_COND_INITIALIZER<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token function">producer</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>arg<span class="token punctuation">)</span> <span class="token punctuation">{</span>    Goods <span class="token operator">*</span>newGoods<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        newGoods <span class="token operator">=</span> <span class="token punctuation">(</span>Goods<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Goods<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        newGoods<span class="token operator">-></span>data <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">101</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//加锁</span>        <span class="token function">pthread_mutex_lock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>headMutex<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//头插法</span>        newGoods<span class="token operator">-></span>next <span class="token operator">=</span> head<span class="token punctuation">;</span>        head <span class="token operator">=</span> newGoods<span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//解锁</span>        <span class="token comment" spellcheck="true">//pthread_mutex_unlock(&amp;headMutex);</span>        <span class="token comment" spellcheck="true">//触发环境变量</span>        <span class="token comment" spellcheck="true">//pthread_cond_signal(&amp;hasGoods);</span>        <span class="token function">pthread_cond_broadcast</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>hasGoods<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//解锁</span>        <span class="token function">pthread_mutex_unlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>headMutex<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//为啥先触发环境变量再解锁，因为先解锁的话，如果刚刚解锁就有一个不是阻塞环境变量线程的获取锁。</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"producer goods data: %d\n\n"</span><span class="token punctuation">,</span> newGoods<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token function">consumer</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>arg<span class="token punctuation">)</span> <span class="token punctuation">{</span>    Goods <span class="token operator">*</span>oldHead <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//加锁</span>        <span class="token function">pthread_mutex_lock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>headMutex<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>head<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//没有商品</span>            <span class="token comment" spellcheck="true">//等待事件触发，释放锁</span>            <span class="token function">pthread_cond_wait</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>hasGoods<span class="token punctuation">,</span> <span class="token operator">&amp;</span>headMutex<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">//有商品</span>        oldHead <span class="token operator">=</span> head<span class="token punctuation">;</span>        head <span class="token operator">=</span> head<span class="token operator">-></span>next<span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//解锁</span>        <span class="token function">pthread_mutex_unlock</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>headMutex<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"thread id:%ld, consumer goods data: %d\n\n"</span><span class="token punctuation">,</span> <span class="token function">pthread_self</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> oldHead<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//释放商品内存</span>        <span class="token function">free</span><span class="token punctuation">(</span>oldHead<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">srand</span><span class="token punctuation">(</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    pthread_t td1<span class="token punctuation">,</span> td2<span class="token punctuation">,</span> td3<span class="token punctuation">,</span> td4<span class="token punctuation">,</span> td5<span class="token punctuation">;</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>td1<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>producer<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>td2<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>consumer<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>td3<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>consumer<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>td5<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>consumer<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>td4<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>consumer<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>td1<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>td2<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>td3<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>td4<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>td5<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="信号量"><a href="#信号量" class="headerlink" title="信号量"></a>信号量</h4><ul><li><p>信号量和mutex类似，表示可用资源数量，和mutex不同的是这个数量可以大于1.这种信号量不仅可用于同一进程的线程同步，也可以用于不同进程间同步。</p></li><li><p>这组函数是POSIX标准的无名信号量函数</p></li><li><p>semaphore变量的类型为sem_t.</p></li></ul><pre class=" language-c"><code class="language-c">       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;semaphore.h></span></span>       <span class="token keyword">int</span> <span class="token function">sem_init</span><span class="token punctuation">(</span>sem_t <span class="token operator">*</span>sem<span class="token punctuation">,</span> <span class="token keyword">int</span> pshared<span class="token punctuation">,</span> <span class="token keyword">unsigned</span> <span class="token keyword">int</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token keyword">int</span> <span class="token function">sem_wait</span><span class="token punctuation">(</span>sem_t <span class="token operator">*</span>sem<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token keyword">int</span> <span class="token function">sem_trywait</span><span class="token punctuation">(</span>sem_t <span class="token operator">*</span>sem<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token keyword">int</span> <span class="token function">sem_timedwait</span><span class="token punctuation">(</span>sem_t <span class="token operator">*</span>sem<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">struct</span> timespec <span class="token operator">*</span>abs_timeout<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token keyword">int</span> <span class="token function">sem_post</span><span class="token punctuation">(</span>sem_t <span class="token operator">*</span>sem<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token keyword">int</span> <span class="token function">sem_destroy</span><span class="token punctuation">(</span>sem_t <span class="token operator">*</span>sem<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token keyword">int</span> <span class="token function">sem_getvalue</span><span class="token punctuation">(</span>sem_t <span class="token operator">*</span>sem<span class="token punctuation">)</span><span class="token punctuation">;</span> </code></pre><h5 id="sem-init"><a href="#sem-init" class="headerlink" title="sem_init"></a>sem_init</h5><ul><li>第一个参数：</li><li>pshared：</li><li><ul><li>0表示信号量用于同一进程的线程同步。</li></ul></li><li>value：表示可用资源数量</li></ul><h5 id="sem-wait"><a href="#sem-wait" class="headerlink" title="sem_wait"></a>sem_wait</h5><ul><li>调用sem_wait可用获得资源，semaphore的值减一。如果调用sem_wait()时，semaphore 已经是 0，则挂起等待。如果不希望挂起等待，可以调用sem_trywait()。</li></ul><h5 id="sem-post"><a href="#sem-post" class="headerlink" title="sem_post"></a>sem_post</h5><ul><li>释放资源，semaphore 加一，同时唤起挂起等待的线程。</li></ul><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/*************************************************************************        > File Name: sem.c        > Author:        > Mail:        > Created Time: Mon 31 Jan 2022 10:24:14 PM CST ************************************************************************/</span><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;semaphore.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;pthread.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">define</span> Q_NUM 5</span><span class="token comment" spellcheck="true">//创建5个信号的量</span><span class="token keyword">int</span> q<span class="token punctuation">[</span>Q_NUM<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//循环队列</span><span class="token keyword">int</span> head<span class="token punctuation">,</span> tail<span class="token punctuation">;</span>sem_t blankNumber<span class="token punctuation">,</span> goodsNumber<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token function">producer</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>arg<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">sem_wait</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>blankNumber<span class="token punctuation">)</span><span class="token punctuation">;</span>        q<span class="token punctuation">[</span>tail<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"producer goods %d\n"</span><span class="token punctuation">,</span> q<span class="token punctuation">[</span>tail<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        tail <span class="token operator">=</span> <span class="token punctuation">(</span>tail <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> Q_NUM<span class="token punctuation">;</span>        <span class="token function">sem_post</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>goodsNumber<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token operator">*</span><span class="token function">consumer</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token operator">*</span>arg<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">sem_wait</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>goodsNumber<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"consumer goods %d\n"</span><span class="token punctuation">,</span> q<span class="token punctuation">[</span>head<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        q<span class="token punctuation">[</span>head<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        head <span class="token operator">=</span> <span class="token punctuation">(</span>head <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> Q_NUM<span class="token punctuation">;</span>        <span class="token function">sem_post</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>blankNumber<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">srand</span><span class="token punctuation">(</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">sem_init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>blankNumber<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> Q_NUM<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 空位数量</span>    <span class="token function">sem_init</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>goodsNumber<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 商品数量</span>    pthread_t pid1<span class="token punctuation">,</span> pid2<span class="token punctuation">,</span> pid3<span class="token punctuation">,</span> cid1<span class="token punctuation">,</span> cid2<span class="token punctuation">,</span> cid3<span class="token punctuation">,</span> cid4<span class="token punctuation">,</span> cid5<span class="token punctuation">;</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>pid1<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>producer<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>cid1<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>consumer<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>pid2<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>producer<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>cid2<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>consumer<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>pid3<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>producer<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>cid3<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>consumer<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>cid4<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>consumer<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>cid5<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>consumer<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>pid1<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>cid1<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>pid2<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>cid2<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>pid3<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>cid3<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>cid4<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pthread_join</span><span class="token punctuation">(</span>cid5<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 系统编程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>信号</title>
      <link href="posts/7214.html"/>
      <url>posts/7214.html</url>
      
        <content type="html"><![CDATA[<h3 id="kill"><a href="#kill" class="headerlink" title="kill()"></a>kill()</h3><ul><li>给指定进程发送指定信号</li></ul><pre class=" language-c"><code class="language-c">       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span></span>       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;signal.h></span></span>       <span class="token keyword">int</span> <span class="token function">kill</span><span class="token punctuation">(</span>pid_t pid<span class="token punctuation">,</span> <span class="token keyword">int</span> sig<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://img-blog.csdn.net/20130703191012468?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvenp5b3VjYW4=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center"></p><ul><li>pid 进程编号</li><li>sig 信号</li></ul><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/*************************************************************************        > File Name: callKill.c        > Author:        > Mail:        > Created Time: Sat 29 Jan 2022 09:48:15 PM CST ************************************************************************/</span><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;signal.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/wait.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    pid_t pid <span class="token operator">=</span> <span class="token function">fork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>pid <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"fork"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>pid<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">kill</span><span class="token punctuation">(</span>pid<span class="token punctuation">,</span> SIGQUIT<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"kill"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">int</span> status<span class="token punctuation">;</span>        <span class="token function">wait</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">WIFSIGNALED</span><span class="token punctuation">(</span>status<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"child terminate by signal %d\n"</span><span class="token punctuation">,</span> <span class="token function">WTERMSIG</span><span class="token punctuation">(</span>status<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"child exit with other reason %d\n"</span><span class="token punctuation">,</span> <span class="token function">WTERMSIG</span><span class="token punctuation">(</span>status<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"父进程你快点杀我~~~\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="raise"><a href="#raise" class="headerlink" title="raise()"></a>raise()</h3><ul><li><p>给当前进程发送信号</p></li><li><p>等价 == kill(getpid(), sig);</p></li></ul><pre class=" language-c"><code class="language-c">       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;signal.h></span></span>       <span class="token keyword">int</span> <span class="token function">raise</span><span class="token punctuation">(</span><span class="token keyword">int</span> sig<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/*************************************************************************        > File Name: callKill.c        > Author:        > Mail:        > Created Time: Sat 29 Jan 2022 09:48:15 PM CST ************************************************************************/</span><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;signal.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/wait.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    pid_t pid <span class="token operator">=</span> <span class="token function">fork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>pid <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"fork"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>pid<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> status<span class="token punctuation">;</span>        <span class="token function">wait</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">WIFSIGNALED</span><span class="token punctuation">(</span>status<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"child terminate by signal %d\n"</span><span class="token punctuation">,</span> <span class="token function">WTERMSIG</span><span class="token punctuation">(</span>status<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"child exit with other reason %d\n"</span><span class="token punctuation">,</span> <span class="token function">WTERMSIG</span><span class="token punctuation">(</span>status<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"父进程我还有%d秒就要死了~~~\n"</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token function">raise</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//发送信号9，杀死子进程</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="abort"><a href="#abort" class="headerlink" title="abort()"></a>abort()</h3><ul><li>使当前进程接收SIGABRT信号而异常终止</li></ul><pre class=" language-c"><code class="language-c">       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span>       <span class="token keyword">void</span> <span class="token function">abort</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="alarm"><a href="#alarm" class="headerlink" title="alarm()"></a>alarm()</h3><ul><li>调用alarm()函数可以设定一个闹钟，也就是告诉内核在secondes秒之后给当前进程发SIGALRM信号。</li></ul><pre class=" language-c"><code class="language-c">       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span>       <span class="token keyword">unsigned</span> <span class="token keyword">int</span> <span class="token function">alarm</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span> seconds<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/*************************************************************************        > File Name: callAlarm.c        > Author:        > Mail:        > Created Time: Sat 29 Jan 2022 10:37:22 PM CST ************************************************************************/</span><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;signal.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/wait.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">alarm</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    size_t n <span class="token operator">=</span> <span class="token function">alarm</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//剩余3s</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"剩余 %lds\n"</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> i<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">></span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"i = %d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"i == %d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="阻塞信号"><a href="#阻塞信号" class="headerlink" title="阻塞信号"></a>阻塞信号</h3><pre class=" language-tex"><code class="language-tex">实际执行信号处理的动作称为信号递达（delivery），信号从产生到递达之间的状态，称为信号未决（pending）。进程可以选择阻塞（block）某个信号，被阻塞的信号产生时将保持在未决状态，直到进程解除对此信号的阻塞，才执行递达的动作。</code></pre><pre class=" language-tex"><code class="language-tex">每个信号都有两个标志位分别表示阻塞和未决，还有一个函数指针表示处理动作信号产生时，内核在进程控制块中设置该信号的未决标志，直到信号递达才解除该标志。</code></pre><h4 id="阻塞信号集"><a href="#阻塞信号集" class="headerlink" title="阻塞信号集"></a>阻塞信号集</h4><ul><li>如果在进程解除对某信号的阻塞之前这种信号产生过多次，将如何处理？</li><li><ul><li>Linux是这样实现的：常规信号在递达之前产生多次只计一次，而实时信号在递达之前产生多次可以依次放在一个队列里。</li></ul></li><li>阻塞信号集也叫做当前进程的信号屏蔽字。（signal mask）</li></ul><h5 id="API"><a href="#API" class="headerlink" title="API"></a>API</h5><pre class=" language-c"><code class="language-c">       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;signal.h></span></span>       <span class="token keyword">int</span> <span class="token function">sigemptyset</span><span class="token punctuation">(</span>sigset_t <span class="token operator">*</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//信号集置空</span>       <span class="token keyword">int</span> <span class="token function">sigfillset</span><span class="token punctuation">(</span>sigset_t <span class="token operator">*</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 初始化设置为full，包括所有信号。</span>       <span class="token keyword">int</span> <span class="token function">sigaddset</span><span class="token punctuation">(</span>sigset_t <span class="token operator">*</span>set<span class="token punctuation">,</span> <span class="token keyword">int</span> signum<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//往信号集set增加信号signum</span>       <span class="token keyword">int</span> <span class="token function">sigdelset</span><span class="token punctuation">(</span>sigset_t <span class="token operator">*</span>set<span class="token punctuation">,</span> <span class="token keyword">int</span> signum<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//往信号集set除去信号signum</span>       <span class="token keyword">int</span> <span class="token function">sigismember</span><span class="token punctuation">(</span><span class="token keyword">const</span> sigset_t <span class="token operator">*</span>set<span class="token punctuation">,</span> <span class="token keyword">int</span> signum<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//测试signum是否是信号集的成员。</span></code></pre><h5 id="sigprocmask"><a href="#sigprocmask" class="headerlink" title="sigprocmask()"></a>sigprocmask()</h5><ul><li>该函数可以读取或更改进程的信号屏蔽字</li></ul><pre class=" language-c"><code class="language-c">       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;signal.h></span></span>       <span class="token comment" spellcheck="true">/* Prototype for the glibc wrapper function */</span>       <span class="token keyword">int</span> <span class="token function">sigprocmask</span><span class="token punctuation">(</span><span class="token keyword">int</span> how<span class="token punctuation">,</span> <span class="token keyword">const</span> sigset_t <span class="token operator">*</span>set<span class="token punctuation">,</span> sigset_t <span class="token operator">*</span>oldset<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">/* Prototype for the underlying system call */</span>       <span class="token keyword">int</span> <span class="token function">rt_sigprocmask</span><span class="token punctuation">(</span><span class="token keyword">int</span> how<span class="token punctuation">,</span> <span class="token keyword">const</span> kernel_sigset_t <span class="token operator">*</span>set<span class="token punctuation">,</span>                          kernel_sigset_t <span class="token operator">*</span>oldset<span class="token punctuation">,</span> size_t sigsetsize<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">/* Prototype for the legacy system call (deprecated) */</span>       <span class="token keyword">int</span> <span class="token function">sigprocmask</span><span class="token punctuation">(</span><span class="token keyword">int</span> how<span class="token punctuation">,</span> <span class="token keyword">const</span> old_kernel_sigset_t <span class="token operator">*</span>set<span class="token punctuation">,</span>                       old_kernel_sigset_t <span class="token operator">*</span>oldset<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><ul><li>set 是你要增加或去除的信号集</li><li>oldset是原来的阻塞信号集</li><li>how有三个宏：</li><li><ul><li>SIG_BLOCK : 阻塞信号集是当前集合oldset和集合set参数的并集。也就是</li><li>SIG_UNBLOCK : 集合中的信号从当前阻塞信号集合中移除。允许尝试解除未被阻断的信号。</li><li>SIG_SETMASK : 阻塞信号集被设置为参数set。</li></ul></li><li>如果调用sigprocmask解除了对当前若干个未决信号的阻塞，则在sigprocmask返回前，至少将其中一个信号递达。</li></ul><h5 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h5><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/*************************************************************************        > File Name: sigMask.c        > Author:        > Mail:        > Created Time: Sun 30 Jan 2022 03:01:10 PM CST ************************************************************************/</span><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;signal.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/wait.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    sigset_t set<span class="token punctuation">,</span> oldset<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//oldset表示当前信号集</span>    <span class="token function">sigemptyset</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//清空信号集合</span>    <span class="token function">sigaddset</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>set<span class="token punctuation">,</span> SIGINT<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//信号加入集合</span>    <span class="token function">sigprocmask</span><span class="token punctuation">(</span>SIG_BLOCK<span class="token punctuation">,</span> <span class="token operator">&amp;</span>set<span class="token punctuation">,</span> <span class="token operator">&amp;</span>oldset<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//宏SIG_BLOCK表示阻塞信号</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"在%ds内ctrl + c 杀不死沃~\n"</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">sigprocmask</span><span class="token punctuation">(</span>SIG_SETMASK<span class="token punctuation">,</span> <span class="token operator">&amp;</span>oldset<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//恢复原来信号集</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"按下ctrl + c就能结束程序，不要结束沃~~\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="未决信号集"><a href="#未决信号集" class="headerlink" title="未决信号集"></a>未决信号集</h4><ul><li><p>sigpending读取当前进程的未决信号集，通过set参数传出。</p></li><li><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;signal.h></span></span><span class="token keyword">int</span> <span class="token function">sigpending</span><span class="token punctuation">(</span>sigset_t <span class="token operator">*</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>调用成功返回0，否则返回-1.</p></li></ul><h5 id="代码-1"><a href="#代码-1" class="headerlink" title="代码"></a>代码</h5><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/*************************************************************************        > File Name: sigMask.c        > Author:        > Mail:        > Created Time: Sun 30 Jan 2022 03:01:10 PM CST ************************************************************************/</span><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;signal.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/wait.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token comment" spellcheck="true">//打印未决信号集</span><span class="token keyword">void</span> <span class="token function">outSig</span><span class="token punctuation">(</span><span class="token keyword">const</span> sigset_t<span class="token operator">*</span> set<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">32</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">sigismember</span><span class="token punctuation">(</span>set<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">putchar</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token function">putchar</span><span class="token punctuation">(</span><span class="token string">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">putchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    sigset_t set<span class="token punctuation">,</span> oldset<span class="token punctuation">,</span> pendSet<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//oldset表示当前信号集</span>    <span class="token function">sigemptyset</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//清空信号集合</span>    <span class="token function">sigaddset</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>set<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//信号加入集合</span>    <span class="token comment" spellcheck="true">//sigaddset(&amp;set, SIGSEGV);</span>    <span class="token function">sigprocmask</span><span class="token punctuation">(</span>SIG_BLOCK<span class="token punctuation">,</span> <span class="token operator">&amp;</span>set<span class="token punctuation">,</span> <span class="token operator">&amp;</span>oldset<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//宏SIG_BLOCK表示增加阻塞信号</span>    <span class="token comment" spellcheck="true">//sigpending(&amp;pendSet); //取出未决信号集</span>    <span class="token comment" spellcheck="true">//raise(SIGSEGV); //给当前进程发送段错误信号</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"在%ds内ctrl + c 杀不死沃~\n"</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">sigpending</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>pendSet<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">outSig</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>pendSet<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">sigprocmask</span><span class="token punctuation">(</span>SIG_SETMASK<span class="token punctuation">,</span> <span class="token operator">&amp;</span>oldset<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//恢复原来信号集</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"按下ctrl + c就能结束程序，不要结束沃~~\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="捕捉信号"><a href="#捕捉信号" class="headerlink" title="捕捉信号"></a>捕捉信号</h4><ul><li>如果信号的处理动作是用户自定义函数，在信号递达时就调用这个函数，这称为捕捉信号。</li><li>由于信号处理函数的代码是在用户空间（没有捕捉信号的话，是在内核），处理过程比较复杂。</li></ul><h5 id="流程"><a href="#流程" class="headerlink" title="流程"></a>流程</h5><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="C:\Users\Axieyun\Desktop\QQ图片20220130163103.png" alt="QQ图片20220130163103"></p><h5 id="sigaction"><a href="#sigaction" class="headerlink" title="sigaction()"></a>sigaction()</h5><pre class=" language-c"><code class="language-c">       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;signal.h></span></span>       <span class="token keyword">int</span> <span class="token function">sigaction</span><span class="token punctuation">(</span><span class="token keyword">int</span> signum<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">struct</span> sigaction <span class="token operator">*</span>act<span class="token punctuation">,</span>                     <span class="token keyword">struct</span> sigaction <span class="token operator">*</span>oldact<span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token keyword">struct</span> sigaction <span class="token punctuation">{</span>               <span class="token keyword">void</span>     <span class="token punctuation">(</span><span class="token operator">*</span>sa_handler<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               <span class="token keyword">void</span>     <span class="token punctuation">(</span><span class="token operator">*</span>sa_sigaction<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> siginfo_t <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">void</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span>               sigset_t   sa_mask<span class="token punctuation">;</span>               <span class="token keyword">int</span>        sa_flags<span class="token punctuation">;</span>               <span class="token keyword">void</span>     <span class="token punctuation">(</span><span class="token operator">*</span>sa_restorer<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><ul><li>sa_handler指定要与signum关联的操作，可能是de-fault操作的SIG_DFL、忽略此信号的SIG_IGN或指向信号处理函数的指针。此函数接收信号号作为其唯一参数。</li><li>sa_mask指定一个信号掩码，在信号处理程序执行期间，该掩码应被阻塞（即，添加到调用信号处理程序的线程的信号掩码中）。此外，触发处理器的信号将被阻止，除非使用SA_NODEFER标志。</li></ul><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/*************************************************************************        > File Name: sigMask.c        > Author:        > Mail:        > Created Time: Sun 30 Jan 2022 03:01:10 PM CST ************************************************************************/</span><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;signal.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/wait.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token keyword">void</span> <span class="token function">sigHandler</span><span class="token punctuation">(</span><span class="token keyword">int</span> sigmember<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"略略略，sigmemer = %d，你不行\n"</span><span class="token punctuation">,</span> sigmember<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">struct</span> sigaction newac<span class="token punctuation">,</span> oldac<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//oldac保存当前状态</span>    newac<span class="token punctuation">.</span>sa_handler <span class="token operator">=</span> <span class="token operator">&amp;</span>sigHandler<span class="token punctuation">;</span>    newac<span class="token punctuation">.</span>sa_flags <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token function">sigemptyset</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>newac<span class="token punctuation">.</span>sa_mask<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">sigaction</span><span class="token punctuation">(</span>SIGINT<span class="token punctuation">,</span> <span class="token operator">&amp;</span>newac<span class="token punctuation">,</span> <span class="token operator">&amp;</span>oldac<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        n<span class="token operator">--</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">sigaction</span><span class="token punctuation">(</span>SIGINT<span class="token punctuation">,</span> <span class="token operator">&amp;</span>oldac<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//不需要保存当前状态，置NULL</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h5 id="pause"><a href="#pause" class="headerlink" title="pause()"></a>pause()</h5><ul><li>阻塞进程</li></ul><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token keyword">int</span> <span class="token function">pause</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><ul><li>如果信号的处理动作是终止进程，则进程终止，没有返回值；</li><li>如果信号的处理动作是忽略，则进程继续处于挂起状态，pause不返回；</li><li>如果信号的处理动作是捕捉，则调用信号的处理函数之后pause返回-1，error设置为EINTR，表示”被信号中断“，所以pause只有出错的返回值。</li></ul><h5 id="实现sleep-函数"><a href="#实现sleep-函数" class="headerlink" title="实现sleep()函数"></a>实现sleep()函数</h5><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/*************************************************************************        > File Name: mySleep.c        > Author:        > Mail:        > Created Time: Sun 30 Jan 2022 05:16:54 PM CST ************************************************************************/</span><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;signal.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/wait.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token keyword">void</span> <span class="token function">sigAlarm</span><span class="token punctuation">(</span><span class="token keyword">int</span> sigmember<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span> <span class="token function">mySleep</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span> seconds<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">struct</span> sigaction newac<span class="token punctuation">,</span> oldac<span class="token punctuation">;</span>    newac<span class="token punctuation">.</span>sa_handler <span class="token operator">=</span> <span class="token operator">&amp;</span>sigAlarm<span class="token punctuation">;</span>    newac<span class="token punctuation">.</span>sa_flags <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token function">sigemptyset</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>newac<span class="token punctuation">.</span>sa_mask<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">sigaction</span><span class="token punctuation">(</span>SIGALRM<span class="token punctuation">,</span> <span class="token operator">&amp;</span>newac<span class="token punctuation">,</span> <span class="token operator">&amp;</span>oldac<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//替换SIGALRM的默认处理动作，因为它的默认处理动作是alarm结束后结束进程。</span>    <span class="token function">alarm</span><span class="token punctuation">(</span>seconds<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">sigaction</span><span class="token punctuation">(</span>SIGALRM<span class="token punctuation">,</span> <span class="token operator">&amp;</span>oldac<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token function">alarm</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//返回剩余时间</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"hello my sleep 1s\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">mySleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token operator">--</span>n<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="sigsuspend"><a href="#sigsuspend" class="headerlink" title="sigsuspend()"></a>sigsuspend()</h4><ul><li>该函数包含了pause的挂起等待功能，同时解决了竞态条件的问题，在对时序要求严格的场合下都应该调用sigsuspend函数而不是pause。</li></ul><pre class=" language-c"><code class="language-c">       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;signal.h></span></span>       <span class="token keyword">int</span> <span class="token function">sigsuspend</span><span class="token punctuation">(</span><span class="token keyword">const</span> sigset_t <span class="token operator">*</span>mask<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h5 id="简单实现sleep"><a href="#简单实现sleep" class="headerlink" title="简单实现sleep"></a>简单实现sleep</h5><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/*************************************************************************        > File Name: mySleep.c        > Author:        > Mail:        > Created Time: Sun 30 Jan 2022 05:16:54 PM CST ************************************************************************/</span><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;signal.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/wait.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token keyword">void</span> <span class="token function">sigAlarm</span><span class="token punctuation">(</span><span class="token keyword">int</span> sigmember<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span> <span class="token function">mySleep</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span> seconds<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">struct</span> sigaction newac<span class="token punctuation">,</span> oldac<span class="token punctuation">;</span>    newac<span class="token punctuation">.</span>sa_handler <span class="token operator">=</span> <span class="token operator">&amp;</span>sigAlarm<span class="token punctuation">;</span>    newac<span class="token punctuation">.</span>sa_flags <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token function">sigemptyset</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>newac<span class="token punctuation">.</span>sa_mask<span class="token punctuation">)</span><span class="token punctuation">;</span>    sigset_t newmask<span class="token punctuation">,</span> oldmask<span class="token punctuation">,</span> susmask<span class="token punctuation">;</span>    <span class="token function">sigemptyset</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>newmask<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">sigaddset</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>newmask<span class="token punctuation">,</span> SIGALRM<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">sigprocmask</span><span class="token punctuation">(</span>SIG_BLOCK<span class="token punctuation">,</span> <span class="token operator">&amp;</span>newmask<span class="token punctuation">,</span> <span class="token operator">&amp;</span>oldmask<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//阻塞闹钟的信号</span>    <span class="token function">sigaction</span><span class="token punctuation">(</span>SIGALRM<span class="token punctuation">,</span> <span class="token operator">&amp;</span>newac<span class="token punctuation">,</span> <span class="token operator">&amp;</span>oldac<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//替换SIGALRM的默认处理动作，因为它的默认处理动作是alarm结束程序</span>    <span class="token function">alarm</span><span class="token punctuation">(</span>seconds<span class="token punctuation">)</span><span class="token punctuation">;</span>    susmask <span class="token operator">=</span> oldmask<span class="token punctuation">;</span>    <span class="token function">sigdelset</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>susmask<span class="token punctuation">,</span> SIGALRM<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//临时设置信号屏蔽字为susmask，并且立刻挂起程序等待信号（原子操作）</span>    <span class="token function">sigsuspend</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>susmask<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">unsigned</span> <span class="token keyword">int</span> t <span class="token operator">=</span> <span class="token function">alarm</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">sigaction</span><span class="token punctuation">(</span>SIGALRM<span class="token punctuation">,</span> <span class="token operator">&amp;</span>oldac<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//还原信号动作</span>    <span class="token function">sigprocmask</span><span class="token punctuation">(</span>SIG_SETMASK<span class="token punctuation">,</span> <span class="token operator">&amp;</span>oldmask<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//恢复原来信号屏蔽字</span>    <span class="token keyword">return</span> t<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"hello my sleep 1s\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">mySleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token operator">--</span>n<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>事实上，想要不产生僵尸进程的另一种方法：父进程调用sigaction将SIGCHLD的处理动作置为SIG_IGN，这样fork出来的子进程在终止时会自动清理掉，不会产生僵尸进程，也不会通知父进程。此方法对Linux可用，不保证在其它UNIX系统可用。</strong></p>]]></content>
      
      
      
        <tags>
            
            <tag> 系统编程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>消息队列</title>
      <link href="posts/141f.html"/>
      <url>posts/141f.html</url>
      
        <content type="html"><![CDATA[<h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><h4 id="msgget"><a href="#msgget" class="headerlink" title="msgget()"></a>msgget()</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">msgget</span><span class="token punctuation">(</span>key_t key<span class="token punctuation">,</span> <span class="token keyword">int</span> mode<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p><strong>创建消息队列，或者获取消息队列</strong></p><h5 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h5><ul><li>key:使用ftok()获取到的key</li><li>mode:IPC_CREAT | 0644</li></ul><h5 id="返回"><a href="#返回" class="headerlink" title="返回"></a>返回</h5><ul><li>消息队列id</li></ul><h4 id="msgsnd"><a href="#msgsnd" class="headerlink" title="msgsnd()"></a>msgsnd()</h4><ul><li>会发生拷贝</li></ul><ul><li>往队列里发送消息，此操作被中断后不会被重启（信号处理中SA_RESTART）。</li></ul><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">msgsnd</span><span class="token punctuation">(</span><span class="token keyword">int</span> msgid<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">void</span><span class="token operator">*</span> msgp<span class="token punctuation">,</span> size_t msgsz<span class="token punctuation">,</span> <span class="token keyword">int</span> msgflg<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h5 id="参数-1"><a href="#参数-1" class="headerlink" title="参数"></a>参数</h5><ul><li><p>msgid 消息队列id</p></li><li><p>msgp 消息，通常为下面结构体</p></li><li><ul><li><pre class=" language-c"><code class="language-c"><span class="token keyword">struct</span> msgbuf <span class="token punctuation">{</span>    <span class="token keyword">long</span> mtype<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//消息类型，必须>0</span>    <span class="token keyword">char</span> mtext<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//消息数据，可以自定义大小</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre></li></ul></li><li><p>msgsz 消息长度，指消息数据的长度</p></li><li><p>msgflg —— IPC_NOWAIT（不阻塞），MSG_EXCEPT（接收不检测mtype），MSG_NOERROR（消息数据过长时会截断数据）</p></li><li><p>返回：0表示成功，-1失败</p></li></ul><h4 id="msgrcv"><a href="#msgrcv" class="headerlink" title="msgrcv"></a>msgrcv</h4><ul><li>从队列接收一个并移除一个消息。</li></ul><pre class=" language-c"><code class="language-c">       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span></span>       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/ipc.h></span></span>       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/msg.h></span></span>       ssize_t <span class="token function">msgrcv</span><span class="token punctuation">(</span><span class="token keyword">int</span> msqid<span class="token punctuation">,</span> <span class="token keyword">void</span> <span class="token operator">*</span>msgp<span class="token punctuation">,</span> size_t msgsz<span class="token punctuation">,</span> <span class="token keyword">long</span> msgtype<span class="token punctuation">,</span>                      <span class="token keyword">int</span> msgflg<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3 id="流程"><a href="#流程" class="headerlink" title="流程"></a>流程</h3><ul><li>ftok()生产key</li><li>msgget()获取消息队列</li><li>msgsnd()发送消息   或者   msgrev接收消息</li><li>msgctl() 删除消息队列</li></ul><h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><h4 id="接收消息代码"><a href="#接收消息代码" class="headerlink" title="接收消息代码"></a>接收消息代码</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/*************************************************************************        > File Name: msg.c        > Author:        > Mail:        > Created Time: Sat 29 Jan 2022 07:04:18 PM CST ************************************************************************/</span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;fcntl.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/ipc.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/shm.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/wait.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/msg.h></span></span><span class="token macro property">#<span class="token directive keyword">define</span> MSG_MAX_TEXT 1024</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">{</span>    <span class="token keyword">long</span> mtype<span class="token punctuation">;</span>    <span class="token keyword">char</span> mtext<span class="token punctuation">[</span>MSG_MAX_TEXT<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span> Msgbuf<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//获取key值</span>    key_t key <span class="token operator">=</span> <span class="token function">ftok</span><span class="token punctuation">(</span><span class="token string">"./msgTp"</span><span class="token punctuation">,</span> <span class="token number">233</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"key = 0x%x\n"</span><span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//创建消息队列</span>    <span class="token keyword">int</span> msgid <span class="token operator">=</span> <span class="token function">msgget</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> IPC_CREAT <span class="token operator">|</span> <span class="token number">0644</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>msgid <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"msgget"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"msgid = %d\n"</span><span class="token punctuation">,</span> msgid<span class="token punctuation">)</span><span class="token punctuation">;</span>    Msgbuf msgbuf<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//接收消息</span>    <span class="token function">msgrcv</span><span class="token punctuation">(</span>msgid<span class="token punctuation">,</span> <span class="token operator">&amp;</span>msgbuf<span class="token punctuation">,</span> MSG_MAX_TEXT<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> msgbuf<span class="token punctuation">.</span>mtext<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">msgrcv</span><span class="token punctuation">(</span>msgid<span class="token punctuation">,</span> <span class="token operator">&amp;</span>msgbuf<span class="token punctuation">,</span> MSG_MAX_TEXT<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> msgbuf<span class="token punctuation">.</span>mtext<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="发消息代码"><a href="#发消息代码" class="headerlink" title="发消息代码"></a>发消息代码</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/*************************************************************************        > File Name: msg.c        > Author:        > Mail:        > Created Time: Sat 29 Jan 2022 07:04:18 PM CST ************************************************************************/</span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;fcntl.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/ipc.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/shm.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/wait.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/msg.h></span></span><span class="token macro property">#<span class="token directive keyword">define</span> MSG_MAX_TEXT 1024</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token punctuation">{</span>    <span class="token keyword">long</span> mtype<span class="token punctuation">;</span>    <span class="token keyword">char</span> mtext<span class="token punctuation">[</span>MSG_MAX_TEXT<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span> Msgbuf<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//获取key值</span>    key_t key <span class="token operator">=</span> <span class="token function">ftok</span><span class="token punctuation">(</span><span class="token string">"./msgTp"</span><span class="token punctuation">,</span> <span class="token number">233</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"key = 0x%x\n"</span><span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//创建消息队列</span>    <span class="token keyword">int</span> msgid <span class="token operator">=</span> <span class="token function">msgget</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> IPC_CREAT <span class="token operator">|</span> <span class="token number">0644</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>msgid <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"msgget"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"msgid = %d\n"</span><span class="token punctuation">,</span> msgid<span class="token punctuation">)</span><span class="token punctuation">;</span>    Msgbuf msgbuf<span class="token punctuation">;</span>    msgbuf<span class="token punctuation">.</span>mtype <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token function">strncpy</span><span class="token punctuation">(</span>msgbuf<span class="token punctuation">.</span>mtext<span class="token punctuation">,</span> <span class="token string">"hello boys"</span><span class="token punctuation">,</span> MSG_MAX_TEXT<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">msgsnd</span><span class="token punctuation">(</span>msgid<span class="token punctuation">,</span> <span class="token operator">&amp;</span>msgbuf<span class="token punctuation">,</span> MSG_MAX_TEXT<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    msgbuf<span class="token punctuation">.</span>mtype <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>    <span class="token function">strncpy</span><span class="token punctuation">(</span>msgbuf<span class="token punctuation">.</span>mtext<span class="token punctuation">,</span> <span class="token string">"小明：onlike\n"</span><span class="token punctuation">,</span> MSG_MAX_TEXT<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">msgsnd</span><span class="token punctuation">(</span>msgid<span class="token punctuation">,</span> <span class="token operator">&amp;</span>msgbuf<span class="token punctuation">,</span> MSG_MAX_TEXT<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 系统编程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>共享内存</title>
      <link href="posts/c1d0.html"/>
      <url>posts/c1d0.html</url>
      
        <content type="html"><![CDATA[<h3 id="共享内存"><a href="#共享内存" class="headerlink" title="共享内存"></a>共享内存</h3><ul><li><p>共享存储允许两个或多个进程共享一给定的存储区。</p></li><li><p>因为数据不需要在客户机和服务器之间复制。</p></li><li><p>这是比较老的 IPC 机制。</p></li><li><p>查看共享内存，shell命令</p></li><li><ul><li><pre class=" language-shell"><code class="language-shell">ipcs</code></pre></li></ul></li></ul><h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><pre class=" language-c"><code class="language-c">       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span></span>       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/ipc.h></span></span>       key_t <span class="token function">ftok</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>pathname<span class="token punctuation">,</span> <span class="token keyword">int</span> proj_id<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/shm.h></span></span>       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/ipc.h></span></span>       <span class="token keyword">int</span> <span class="token function">shmget</span><span class="token punctuation">(</span>key_t key<span class="token punctuation">,</span> size_t size<span class="token punctuation">,</span> <span class="token keyword">int</span> shmflg<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span></span>       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/shm.h></span></span>       <span class="token keyword">void</span> <span class="token operator">*</span><span class="token function">shmat</span><span class="token punctuation">(</span><span class="token keyword">int</span> shmid<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">void</span> <span class="token operator">*</span>shmaddr<span class="token punctuation">,</span> <span class="token keyword">int</span> shmflg<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token keyword">int</span> <span class="token function">shmdt</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">void</span> <span class="token operator">*</span>shmaddr<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/ipc.h></span></span>       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/shm.h></span></span>       <span class="token keyword">int</span> <span class="token function">shmctl</span><span class="token punctuation">(</span><span class="token keyword">int</span> shmid<span class="token punctuation">,</span> <span class="token keyword">int</span> cmd<span class="token punctuation">,</span> <span class="token keyword">struct</span> shmid_ds <span class="token operator">*</span>buf<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="ftok"><a href="#ftok" class="headerlink" title="ftok()"></a>ftok()</h4><ul><li>生成key，pathname必须调用进程可以访问的。</li><li>proj_id必须有效。</li></ul><h4 id="shmget"><a href="#shmget" class="headerlink" title="shmget()"></a>shmget()</h4><ul><li>它获得一个指定大小的共享存储标识符。</li><li>key参数用来标识共享内存，size参数该共享存储段的最小值，如果正在创建一个新段（一般在服务器中），则必须指定其size。如果正在访问一个现存的段（一个客户机），则将size指定为0.</li><li>shmfig参数有IPC_CREAT 和 IPC_EXCL，最为重要的是shmfig中指定访问权限，跟open的mode参数一样，否则会出现permission denied等错误。</li><li>返回值：若成功则共享内存ID，若出错为-1.</li></ul><h4 id="流程"><a href="#流程" class="headerlink" title="流程"></a>流程</h4><ul><li>ftok(“./temp”, 0) 申请一个key_t。</li><li>shmget(key)获取共享内存对应的id，如果共享内存未创建，通过flag参数创建此共享内存。</li><li>shmat(id)挂载共享内存，返回地址address</li><li>使用该内存address</li><li>shmdt(id)卸载共享内存</li><li>shmctl()删除共享内存</li></ul><p><strong>删除共享内存</strong></p><pre class=" language-shell"><code class="language-shell">ipsrm -m shmid号</code></pre><h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/*************************************************************************        > File Name: shm.c        > Author:        > Mail:        > Created Time: Sat 29 Jan 2022 03:45:09 PM CST ************************************************************************/</span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;fcntl.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/ipc.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/shm.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/wait.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    key_t key <span class="token operator">=</span> <span class="token function">ftok</span><span class="token punctuation">(</span><span class="token string">"./t.txt"</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"ftok"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"key = ox%x\n"</span><span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> shmid <span class="token operator">=</span> <span class="token function">shmget</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">/*IPC_EXCL |*/</span> IPC_CREAT <span class="token operator">|</span> <span class="token number">0644</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>shmid <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"shmget"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"shmid = %d\n"</span><span class="token punctuation">,</span> shmid<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//把内核开辟的空间挂载到用户空间</span>    <span class="token keyword">void</span><span class="token operator">*</span> tp_shmp <span class="token operator">=</span> <span class="token function">shmat</span><span class="token punctuation">(</span>shmid<span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//返回地址</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>tp_shmp <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"shmat"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"shmp = %p\n"</span><span class="token punctuation">,</span> tp_shmp<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">char</span><span class="token operator">*</span> shmp <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span>tp_shmp<span class="token punctuation">;</span>    <span class="token function">memset</span><span class="token punctuation">(</span>shmp<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//    sprintf(shmp, "344jfvsdbfb十多个好好减肥djkfvhkjdbfskdhkjsdhfjksdh\n");</span>    pid_t pd <span class="token operator">=</span> <span class="token function">fork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>pd <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"fork"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>pd <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//子进程读共享内存</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"我来了！\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">strcmp</span><span class="token punctuation">(</span>shmp<span class="token punctuation">,</span> <span class="token string">"quit"</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>shmp<span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"读到：%s\n"</span><span class="token punctuation">,</span> shmp<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token function">memset</span><span class="token punctuation">(</span>shmp<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"我走了！\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"我开始写了！\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> shmp<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">strcmp</span><span class="token punctuation">(</span>shmp<span class="token punctuation">,</span> <span class="token string">"quit"</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"你咋还没死！\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">wait</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//阻塞等待子进程死</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"你死了！\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//取消挂载</span>    <span class="token function">shmdt</span><span class="token punctuation">(</span>shmp<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 系统编程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>命名管道FIFO</title>
      <link href="posts/16da.html"/>
      <url>posts/16da.html</url>
      
        <content type="html"><![CDATA[<ul><li><p>FIFO IPC机制是利用文件管理系统中的特殊文件来标识的，可以用mkfifo命令创建一个FIFO文件</p></li><li><ul><li><pre class=" language-shell"><code class="language-shell">mkfifo tubels -l tube</code></pre></li></ul></li></ul><pre class=" language-tex"><code class="language-tex">FIFO文件在磁盘上没有数据块，仅用来标识内核中的一条通道，各进程可以打开这个文件进行read/write，实际上是在读写内核通道（根本原因在于这个file结构体所指向的read、write函数和常规文件不一样），这样就实现了进程间通信。</code></pre><h4 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h4><ul><li>实时交互</li></ul><h3 id="两个程序聊天"><a href="#两个程序聊天" class="headerlink" title="两个程序聊天"></a>两个程序聊天</h3><h4 id="从屏幕往管道写数据"><a href="#从屏幕往管道写数据" class="headerlink" title="从屏幕往管道写数据"></a>从屏幕往管道写数据</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/*************************************************************************        > File Name: readFifo.c        > Author:        > Mail:        > Created Time: Sat 29 Jan 2022 01:57:30 PM CST ************************************************************************/</span><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;fcntl.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/stat.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> fd <span class="token operator">=</span> <span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"./tube"</span><span class="token punctuation">,</span> O_WRONLY<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//只写</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>fd <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"open"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> buf<span class="token punctuation">,</span> <span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//从屏幕读取</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"read"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">write</span><span class="token punctuation">(</span>fd<span class="token punctuation">,</span> buf<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//写到管道</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="从管道读数据往屏幕输出数据"><a href="#从管道读数据往屏幕输出数据" class="headerlink" title="从管道读数据往屏幕输出数据"></a>从管道读数据往屏幕输出数据</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/*************************************************************************        > File Name: readFifo.c        > Author:        > Mail:        > Created Time: Sat 29 Jan 2022 01:57:30 PM CST ************************************************************************/</span><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;fcntl.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/stat.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">char</span> buf<span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> fd <span class="token operator">=</span> <span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"./tube"</span><span class="token punctuation">,</span> O_RDONLY<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//只读</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>fd <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"open"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    ssize_t n <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span>fd<span class="token punctuation">,</span> buf<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//从管道读取数据</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"read"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">write</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> buf<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//把数据写到屏幕上</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 系统编程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++的类型转换</title>
      <link href="posts/ea50.html"/>
      <url>posts/ea50.html</url>
      
        <content type="html"><![CDATA[<h3 id="dynamic-cast"><a href="#dynamic-cast" class="headerlink" title="dynamic_cast"></a>dynamic_cast</h3><h4 id="使用前提"><a href="#使用前提" class="headerlink" title="使用前提"></a>使用前提</h4><ul><li>判断一个父类指针是哪个子类指针隐性转换得到，需要当前父类或者父类的父类至少包含一个virtual函数。</li></ul><h3 id="static-cast"><a href="#static-cast" class="headerlink" title="static_cast"></a>static_cast</h3>]]></content>
      
      
      
        <tags>
            
            <tag> C++基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>管道（popen和pclose）</title>
      <link href="posts/3b37.html"/>
      <url>posts/3b37.html</url>
      
        <content type="html"><![CDATA[<p><strong>这两个函数实现的操作：创建一个管道，fork一个子进程，关闭管道不使用端，exec一个cmd命令，等待命令终止</strong></p><pre class=" language-c"><code class="language-c">       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span>       FILE <span class="token operator">*</span><span class="token function">popen</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>command<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token keyword">int</span> <span class="token function">pclose</span><span class="token punctuation">(</span>FILE <span class="token operator">*</span>stream<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h4><ul><li>函数popen先执行fork，然后调用exec以执行command，并且返回一个标准I/O文件指针。</li><li>如果type是”r“，则文件指针连接到cmd的标准输出</li><li>如果type是”w“，则文件指针连接到cmd的标准输入</li><li>pclose函数关闭标准I/O流，等待命令执行结束，然后返回cmd的终止状态；</li><li>如果cmd不能被执行，则pclose返回的终止状态与shell执行exit一样。</li></ul><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;ctype.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    FILE<span class="token operator">*</span> f <span class="token operator">=</span> <span class="token function">popen</span><span class="token punctuation">(</span><span class="token string">"cat ./test.txt"</span><span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//只读</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>f<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"popen"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">char</span> c<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">~</span><span class="token punctuation">(</span>c <span class="token operator">=</span> <span class="token function">fgetc</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">putchar</span><span class="token punctuation">(</span><span class="token function">toupper</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//小写字母变大写</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 系统编程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>进程通信</title>
      <link href="posts/d65.html"/>
      <url>posts/d65.html</url>
      
        <content type="html"><![CDATA[<h3 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h3><pre class=" language-tex"><code class="language-tex">每个进程各自有不同的用户地址空间，任何一个进程的全局变量在另一个进程中都看不到，所以进程之间要交换数据必须通过内核，在内核中开辟一块缓冲区。进程1把数据从用户空间拷到内核缓冲区，进程2再从内核缓冲区把数据读走，内核提供的这种机制称为进程间通信（IPC）进程通信是指在进程间传输数据(交换信息)。进程通信根据交换信息量的多少和效率的高低，分为低级通信（只能传递状态和整数值）和高级通信（提高信号通信的效率，传递大量数据，减轻程序编制的复杂度）。其中高级进程通信分为三种方式：共享内存模式、消息传递模式、共享文件模式。</code></pre><h3 id="管道"><a href="#管道" class="headerlink" title="管道"></a>管道</h3><h4 id="无名管道"><a href="#无名管道" class="headerlink" title="无名管道"></a>无名管道</h4><ul><li><p>一种最基本的ipc机制，由pipe函数创建</p></li><li><ul><li><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token keyword">int</span> <span class="token function">pipe</span><span class="token punctuation">(</span><span class="token keyword">int</span> filedes<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>调用pipe函数时，在内核开辟一块缓冲区（称为管道）用于通信，它有一个读端一个写端（单向通信），然后通过filedes参数传出给用户程序两个文件描述符。</p></li><li><p>filedes[0]：读端。（就像0是标准输入）</p></li><li><p>filedes[1]：写端。（就像1是标准输出）</p></li></ul></li></ul><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/*************************************************************************        > File Name: getPipe.c        > Author:        > Mail:        > Created Time: Fri 28 Jan 2022 01:01:33 PM CST ************************************************************************/</span><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/wait.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;errno.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> pip<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">pipe</span><span class="token punctuation">(</span>pip<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"pipe"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    pid_t pid <span class="token operator">=</span> <span class="token function">fork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>pid <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"fork"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>pid<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//在子进程</span>        <span class="token function">close</span><span class="token punctuation">(</span>pip<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//关闭写端</span>        <span class="token keyword">char</span><span class="token operator">*</span> buf<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"父进程你倒是快点发消息啊！！！\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span>pip<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> buf<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">write</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> buf<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//在父进程</span>        <span class="token function">close</span><span class="token punctuation">(</span>pip<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//关闭读端</span>        <span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//等待1秒我在写</span>        <span class="token function">write</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"我发了呀！！！\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token string">"我发了呀！！！\n"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">write</span><span class="token punctuation">(</span>pip<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">"hello child!!!\n"</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"child你倒是快点死呀！！！\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">wait</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h5 id="使用无名管道的特殊情况（假设都是阻塞I-O操作，没有设置O-NONBLOCK标志）"><a href="#使用无名管道的特殊情况（假设都是阻塞I-O操作，没有设置O-NONBLOCK标志）" class="headerlink" title="使用无名管道的特殊情况（假设都是阻塞I/O操作，没有设置O_NONBLOCK标志）"></a>使用无名管道的特殊情况（假设都是阻塞I/O操作，没有设置O_NONBLOCK标志）</h5><ul><li>1、如果所有指向管道写端的文件描述符都关闭了，而仍然有进程从管道的读端读数据，那么管道中剩余的数据都被读取后，再次read会返回0，就像读到文件末尾一样</li><li>2、如果有指向管道写端的文件描述符没关闭，而持有管道写端的进程也没有向管道中写数据，这时有进程从管道读取数据，那么管道中剩余的数据都被读取后，再次read会阻塞，直到管道中有数据可读才读取数据并返回。</li><li>3、如果所有指向管道读端的文件描述符都关闭了，这是有进程向管道的写端write，那么该进程会收到SIGPIPE，通常会导致进程异常终止。</li><li>4、如果有指向管道读端的文件描述符没关闭，而持有管道读端的进程也没有向管道中读取数据，这时有进程向管道写端写数据，那么在管道被写满时，再次write会阻塞，直到管道有空位置才写入数据并返回。</li></ul><h4 id="命名管道"><a href="#命名管道" class="headerlink" title="命名管道"></a>命名管道</h4><p><a href="">https://axieyun.top/posts/16da.html</a></p><h3 id="共享内存"><a href="#共享内存" class="headerlink" title="共享内存"></a>共享内存</h3><h3 id="消息队列"><a href="#消息队列" class="headerlink" title="消息队列"></a>消息队列</h3>]]></content>
      
      
      
        <tags>
            
            <tag> 系统编程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>wait与waitpid</title>
      <link href="posts/bc2f.html"/>
      <url>posts/bc2f.html</url>
      
        <content type="html"><![CDATA[<pre class=" language-c"><code class="language-c">       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span></span>       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/wait.h></span></span>       pid_t <span class="token function">wait</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>wstatus<span class="token punctuation">)</span><span class="token punctuation">;</span>       pid_t <span class="token function">waitpid</span><span class="token punctuation">(</span>pid_t pid<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>wstatus<span class="token punctuation">,</span> <span class="token keyword">int</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h4><ul><li>父进程调用wait或者waitpid时，可能会：</li><li><ul><li>1、阻塞（如果它所有的子进程都在运行）。</li><li>2、带子进程的终止信息立即返回（如果一个子进程已经终结，正等待父进程读取其终止信息）。</li><li>3、出错立即返回（它没有任何子进程）</li></ul></li></ul><h4 id="两个函数区别"><a href="#两个函数区别" class="headerlink" title="两个函数区别"></a>两个函数区别</h4><pre class=" language-tex"><code class="language-tex">如果父进程的所有子进程都在运行，调用wait将使父进程阻塞，而调用waitpid时，如果在options参数中指定WNOHANG（wnohang）可以时父进程不阻塞而立即返回0。wait等待一个终止的子进程。waitpid可以通过pid参数指定等待哪一个子进程。</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 系统编程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linux命令</title>
      <link href="posts/4635.html"/>
      <url>posts/4635.html</url>
      
        <content type="html"><![CDATA[<h2 id="进程"><a href="#进程" class="headerlink" title="进程"></a>进程</h2><h5 id="杀死进程"><a href="#杀死进程" class="headerlink" title="杀死进程"></a>杀死进程</h5><pre class=" language-shell"><code class="language-shell">kill -9 进程id </code></pre><h4 id="怎么清除僵尸进程？"><a href="#怎么清除僵尸进程？" class="headerlink" title="怎么清除僵尸进程？"></a>怎么清除僵尸进程？</h4><ul><li>杀掉父进程</li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>dup和dup2</title>
      <link href="posts/810c.html"/>
      <url>posts/810c.html</url>
      
        <content type="html"><![CDATA[<h4 id="函数原型"><a href="#函数原型" class="headerlink" title="函数原型"></a>函数原型</h4><pre class=" language-c"><code class="language-c">       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span>       <span class="token keyword">int</span> <span class="token function">dup</span><span class="token punctuation">(</span><span class="token keyword">int</span> oldfd<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token keyword">int</span> <span class="token function">dup2</span><span class="token punctuation">(</span><span class="token keyword">int</span> oldfd<span class="token punctuation">,</span> <span class="token keyword">int</span> newfd<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token macro property">#<span class="token directive keyword">define</span> _GNU_SOURCE             </span><span class="token comment" spellcheck="true">/* See feature_test_macros(7) */</span>       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;fcntl.h></span>              </span><span class="token comment" spellcheck="true">/* Obtain O_* constant definitions */</span>       <span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span>       <span class="token keyword">int</span> <span class="token function">dup3</span><span class="token punctuation">(</span><span class="token keyword">int</span> oldfd<span class="token punctuation">,</span> <span class="token keyword">int</span> newfd<span class="token punctuation">,</span> <span class="token keyword">int</span> flags<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h4><ul><li>dup：复制一份新的文件描述符（默认是没有使用的最小文件描述符），指向oldfd打开的文件。</li><li>dup2：newfd指定文件描述符位置，且复制一份新的文件描述符，指向oldfd打开的文件。</li></ul><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/stat.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;fcntl.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;errno.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> fd<span class="token punctuation">,</span> save_fd<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>fd <span class="token operator">=</span> <span class="token function">open</span><span class="token punctuation">(</span><span class="token string">"test.txt"</span><span class="token punctuation">,</span> O_RDWR<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"open"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    save_fd <span class="token operator">=</span> <span class="token function">dup</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">write</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"hello stdout\n"</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">dup2</span><span class="token punctuation">(</span>fd<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">close</span><span class="token punctuation">(</span>fd<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">write</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"hello test.txt\n"</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">dup2</span><span class="token punctuation">(</span>save_fd<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">close</span><span class="token punctuation">(</span>save_fd<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 系统编程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>exec函数族</title>
      <link href="posts/d811.html"/>
      <url>posts/d811.html</url>
      
        <content type="html"><![CDATA[<p><strong>当进程调用一种exec函数时，该进程的用户空间代码和数据完全被新程序替换，从新的程序的启动例程开始执行。</strong></p><p><strong>这些函数如果调用成功则加载新的程序从启动代码开始执行，不再返回，如果调用出错则返回-1，所以exec函数只有出错的返回值。</strong></p><h4 id="头文件"><a href="#头文件" class="headerlink" title="头文件"></a>头文件</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token keyword">extern</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token operator">*</span> environ<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">execl</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> path<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> arg<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">execlp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> file<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> arg<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">execle</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> path<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> arg<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> <span class="token keyword">const</span> envp<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>带有字母l（表示list）的exec函数要求将新程序的每个命令行参数都当作一个参数传给它，命令行参数的个数可变的，最后一个可变参数应该是<span class="token constant">NULL</span>，起哨兵作用        <span class="token keyword">int</span> <span class="token function">execv</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> path<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> <span class="token keyword">const</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">execvp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> file<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> <span class="token keyword">const</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">execvpe</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> file<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> <span class="token keyword">const</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> <span class="token keyword">const</span> envp<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>对于带有v（表示vector）的函数，则应该先构造一个指向各个参数的指针数组，然后将该数组的首地址当作参数传给它，数组最后一个指针为<span class="token constant">NULL</span>    不带字母p（表示path）的exec函数第一个参数必须是程序的相对路径或绝对路径，例如<span class="token string">"/bin/ls"</span>或<span class="token string">"./a.out"</span>。    对于带字母p的函数：如果参数中包含<span class="token operator">/</span>，则将其视为路径名。否则视为不带路径的程序名，在PATH环境变量的目录列表搜索这个程序。    对于以e（表示environment）结尾的exec函数，可以把一份新的环境变量传给它，其他exec函数仍然使用当前的环境变量表执行新程序。<span class="token keyword">int</span> <span class="token function">execve</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> finlename<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> <span class="token keyword">const</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> <span class="token keyword">const</span> envp<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">execlp</span><span class="token punctuation">(</span><span class="token string">"ls"</span><span class="token punctuation">,</span> <span class="token string">"ls"</span><span class="token punctuation">,</span> <span class="token string">"-al"</span><span class="token punctuation">,</span> <span class="token string">"-l"</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">perror</span><span class="token punctuation">(</span><span class="token string">"execlp"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 系统编程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linux之链接建立</title>
      <link href="posts/47c5.html"/>
      <url>posts/47c5.html</url>
      
        <content type="html"><![CDATA[<h4 id="硬连接"><a href="#硬连接" class="headerlink" title="硬连接"></a>硬连接</h4><pre class=" language-shell"><code class="language-shell">ln 原文件路径 建立的连接名</code></pre><ul><li><p>例如：为当前目录下test.txt建立硬链接</p></li><li><ul><li><pre class=" language-shell"><code class="language-shell">ln ./test.txt ttt</code></pre></li></ul></li></ul><h4 id="软链接"><a href="#软链接" class="headerlink" title="软链接"></a>软链接</h4><pre class=" language-shell"><code class="language-shell">ln -s 原文件路径 建立的连接名字</code></pre><ul><li><p>例如：为当前目录下test.txt建立软链接</p></li><li><ul><li><pre class=" language-shell"><code class="language-shell">ln -s ./test.txt ttt</code></pre></li></ul></li></ul><h4 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h4><ul><li>硬链接：在inode的引用原文件的计数+1，没有创建新的文件，你修改源文件内容，访问硬链接得到的内容就是修改后的内容。</li><li>软链接：创建新的文件，存储源（原）文件路径，例如ttt存储了./test.txt</li></ul><h4 id="stat命令"><a href="#stat命令" class="headerlink" title="stat命令"></a>stat命令</h4><ul><li>打印文件inode信息</li></ul><pre class=" language-shell"><code class="language-shell">stat 文件名</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> linux基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++实现智能指针shared_ptr</title>
      <link href="posts/c20c.html"/>
      <url>posts/c20c.html</url>
      
        <content type="html"><![CDATA[<p><em>自己写的，有错请指出，谢谢</em></p><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;memory></span></span>using std<span class="token punctuation">:</span><span class="token punctuation">:</span>cout<span class="token punctuation">;</span>using std<span class="token punctuation">:</span><span class="token punctuation">:</span>endl<span class="token punctuation">;</span>namespace master<span class="token punctuation">{</span>template<span class="token operator">&lt;</span>typename T<span class="token operator">></span>class shared_ptr<span class="token punctuation">{</span>public<span class="token punctuation">:</span>    virtual <span class="token operator">~</span><span class="token function">shared_ptr</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>_ptr<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token operator">*</span>_ref<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                delete _ptr<span class="token punctuation">;</span>                delete _ref<span class="token punctuation">;</span>                _ptr <span class="token operator">=</span> nullptr<span class="token punctuation">;</span>                _ref <span class="token operator">=</span> nullptr<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">shared_ptr</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token function">_ptr</span><span class="token punctuation">(</span>nullptr<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_ref</span><span class="token punctuation">(</span> new size_t<span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>         <span class="token comment" spellcheck="true">//没有管理的内存，计数为0</span>    <span class="token punctuation">}</span>    <span class="token function">shared_ptr</span><span class="token punctuation">(</span>T<span class="token operator">*</span> ptr<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token function">_ptr</span><span class="token punctuation">(</span>ptr<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_ref</span><span class="token punctuation">(</span> new size_t<span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//默认为0</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>_ptr <span class="token operator">!=</span> nullptr<span class="token punctuation">)</span> <span class="token operator">++</span><span class="token punctuation">(</span><span class="token operator">*</span>_ref<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//指针不为空才有管理的内存，计数+1</span>    <span class="token punctuation">}</span>    <span class="token function">shared_ptr</span><span class="token punctuation">(</span><span class="token keyword">const</span> shared_ptr<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token operator">&amp;</span> sp<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token function">_ptr</span><span class="token punctuation">(</span>sp<span class="token punctuation">.</span>_ptr<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_ref</span><span class="token punctuation">(</span> sp<span class="token punctuation">.</span>_ref <span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>this <span class="token operator">==</span> <span class="token operator">&amp;</span>sp<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>_ptr <span class="token operator">!=</span> nullptr<span class="token punctuation">)</span> <span class="token operator">++</span><span class="token punctuation">(</span><span class="token operator">*</span>_ref<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//指针不为空才有管理的内存，计数+1</span>    <span class="token punctuation">}</span>    <span class="token function">shared_ptr</span><span class="token punctuation">(</span>shared_ptr<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token operator">&amp;&amp;</span> sp<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token function">_ptr</span><span class="token punctuation">(</span>sp<span class="token punctuation">.</span>_ptr<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_ref</span><span class="token punctuation">(</span> sp<span class="token punctuation">.</span>_ref <span class="token punctuation">)</span> <span class="token punctuation">{</span>        sp<span class="token punctuation">.</span>_ptr <span class="token operator">=</span> nullptr<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 右值对象，置空</span>        sp<span class="token punctuation">.</span>_ref <span class="token operator">=</span> nullptr<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    shared_ptr<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token operator">&amp;</span> operator<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> shared_ptr<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token operator">&amp;</span> sp<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>this <span class="token operator">==</span> <span class="token operator">&amp;</span>sp<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">*</span>this<span class="token punctuation">;</span>        this<span class="token operator">-></span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        _ref <span class="token operator">=</span> sp<span class="token punctuation">.</span>_ref<span class="token punctuation">;</span>        _ptr <span class="token operator">=</span> sp<span class="token punctuation">.</span>_ptr<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>_ptr<span class="token punctuation">)</span> <span class="token operator">++</span><span class="token punctuation">(</span><span class="token operator">*</span>_ref<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//如果别人有管理的内存，计数才能+1</span>        <span class="token keyword">return</span> <span class="token operator">*</span>this<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    shared_ptr<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token operator">&amp;</span> operator<span class="token operator">=</span><span class="token punctuation">(</span>shared_ptr<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token operator">&amp;&amp;</span> sp<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>this <span class="token operator">==</span> <span class="token operator">&amp;</span>sp<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">*</span>this<span class="token punctuation">;</span>        this<span class="token operator">-></span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        _ref <span class="token operator">=</span> std<span class="token punctuation">:</span><span class="token punctuation">:</span>forward<span class="token operator">&lt;</span>shared_ptr<span class="token operator">&lt;</span>T<span class="token operator">>></span><span class="token punctuation">(</span>sp<span class="token punctuation">)</span><span class="token punctuation">.</span>_ref<span class="token punctuation">;</span>        _ptr <span class="token operator">=</span> std<span class="token punctuation">:</span><span class="token punctuation">:</span>forward<span class="token operator">&lt;</span>shared_ptr<span class="token operator">&lt;</span>T<span class="token operator">>></span><span class="token punctuation">(</span>sp<span class="token punctuation">)</span><span class="token punctuation">.</span>_ptr<span class="token punctuation">;</span>        sp<span class="token punctuation">.</span>_ptr <span class="token operator">=</span> nullptr<span class="token punctuation">;</span>        sp<span class="token punctuation">.</span>_ref <span class="token operator">=</span> nullptr<span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token operator">*</span>this<span class="token punctuation">;</span>    <span class="token punctuation">}</span>public<span class="token punctuation">:</span>    operator <span class="token function">bool</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> _ptr <span class="token operator">!=</span> nullptr<span class="token punctuation">;</span> <span class="token punctuation">}</span>    T<span class="token operator">*</span> operator<span class="token operator">-></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> _ptr<span class="token punctuation">;</span> <span class="token punctuation">}</span>    T<span class="token operator">&amp;</span> operator<span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token operator">*</span>_ptr<span class="token punctuation">;</span> <span class="token punctuation">}</span>public<span class="token punctuation">:</span>    <span class="token keyword">inline</span> size_t <span class="token function">use_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> _ref <span class="token operator">==</span> nullptr <span class="token operator">?</span> <span class="token number">0</span> <span class="token punctuation">:</span> <span class="token operator">*</span>_ref<span class="token punctuation">;</span> <span class="token punctuation">}</span>    <span class="token keyword">inline</span> T<span class="token operator">*</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> _ptr<span class="token punctuation">;</span> <span class="token punctuation">}</span>    <span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span>shared_ptr<span class="token operator">&amp;</span> sp<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>this <span class="token operator">==</span> <span class="token operator">&amp;</span>sp<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>        std<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">swap</span><span class="token punctuation">(</span>_ptr<span class="token punctuation">,</span> sp<span class="token punctuation">.</span>_ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>        std<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">swap</span><span class="token punctuation">(</span>_ref<span class="token punctuation">,</span> sp<span class="token punctuation">.</span>_ref<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">inline</span> bool <span class="token function">unique</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> _ref <span class="token operator">==</span> nullptr <span class="token operator">?</span> false <span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token operator">*</span>_ref<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>    <span class="token keyword">void</span> <span class="token function">reset</span><span class="token punctuation">(</span>T<span class="token operator">*</span> t <span class="token operator">=</span> nullptr<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//把自己干掉</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>_ptr <span class="token operator">!=</span> nullptr<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">--</span><span class="token punctuation">(</span><span class="token operator">*</span>_ref<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                delete _ptr<span class="token punctuation">;</span>                delete _ref<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            _ptr <span class="token operator">=</span> nullptr<span class="token punctuation">;</span>            _ref <span class="token operator">=</span> nullptr<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">!=</span> nullptr<span class="token punctuation">)</span> <span class="token punctuation">{</span>            _ptr <span class="token operator">=</span> t<span class="token punctuation">;</span>            _ref <span class="token operator">=</span> new size_t<span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>private<span class="token punctuation">:</span>    T<span class="token operator">*</span> _ptr<span class="token punctuation">;</span>    size_t<span class="token operator">*</span> _ref<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>template<span class="token operator">&lt;</span>typename T<span class="token punctuation">,</span> typename<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> ARGS<span class="token operator">></span><span class="token keyword">inline</span> shared_ptr<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token function">make_shared</span><span class="token punctuation">(</span>ARGS<span class="token operator">&amp;&amp;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> shared_ptr<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token punctuation">{</span> new T<span class="token punctuation">{</span>std<span class="token punctuation">:</span><span class="token punctuation">:</span>forward<span class="token operator">&lt;</span>ARGS<span class="token operator">></span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span>template<span class="token operator">&lt;</span>typename T<span class="token operator">></span><span class="token keyword">inline</span> shared_ptr<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token function">make_shared</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> shared_ptr<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token punctuation">{</span> new T<span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">struct</span> A<span class="token punctuation">{</span>    <span class="token keyword">int</span> _a<span class="token punctuation">;</span>    <span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token function">_a</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        std<span class="token punctuation">:</span><span class="token punctuation">:</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"A default constructor "</span> <span class="token operator">&lt;&lt;</span> this <span class="token operator">&lt;&lt;</span> std<span class="token punctuation">:</span><span class="token punctuation">:</span>endl<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">A</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token function">_a</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span>        std<span class="token punctuation">:</span><span class="token punctuation">:</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"A constructor int "</span> <span class="token operator">&lt;&lt;</span> this <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token operator">~</span><span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        std<span class="token punctuation">:</span><span class="token punctuation">:</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"A destructor "</span> <span class="token operator">&lt;&lt;</span> this <span class="token operator">&lt;&lt;</span> std<span class="token punctuation">:</span><span class="token punctuation">:</span>endl<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    std<span class="token punctuation">:</span><span class="token punctuation">:</span>shared_ptr<span class="token operator">&lt;</span>A<span class="token operator">></span> p<span class="token punctuation">;</span>    std<span class="token punctuation">:</span><span class="token punctuation">:</span>shared_ptr<span class="token operator">&lt;</span>A<span class="token operator">></span> p1<span class="token punctuation">{</span>new A<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    std<span class="token punctuation">:</span><span class="token punctuation">:</span>shared_ptr<span class="token operator">&lt;</span>A<span class="token operator">></span> <span class="token function">p2</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// p1.get();</span>    std<span class="token punctuation">:</span><span class="token punctuation">:</span>cout <span class="token operator">&lt;&lt;</span> p2<span class="token punctuation">.</span><span class="token function">use_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token punctuation">:</span><span class="token punctuation">:</span>endl<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//2</span>    std<span class="token punctuation">:</span><span class="token punctuation">:</span>cout <span class="token operator">&lt;&lt;</span> p1<span class="token punctuation">.</span><span class="token function">use_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token punctuation">:</span><span class="token punctuation">:</span>endl<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//2</span>    p1<span class="token punctuation">.</span><span class="token function">swap</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span>    p1<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// p1.unique();</span>    <span class="token comment" spellcheck="true">// p1.use_count();</span>    std<span class="token punctuation">:</span><span class="token punctuation">:</span>cout <span class="token operator">&lt;&lt;</span> p2<span class="token punctuation">.</span><span class="token function">use_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token punctuation">:</span><span class="token punctuation">:</span>endl<span class="token punctuation">;</span>    std<span class="token punctuation">:</span><span class="token punctuation">:</span>cout <span class="token operator">&lt;&lt;</span> p1<span class="token punctuation">.</span><span class="token function">use_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token punctuation">:</span><span class="token punctuation">:</span>endl<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//p2.reset();</span>    p <span class="token operator">=</span> std<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">move</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//p = p2;</span>    std<span class="token punctuation">:</span><span class="token punctuation">:</span>cout <span class="token operator">&lt;&lt;</span> p2<span class="token punctuation">.</span><span class="token function">use_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token punctuation">:</span><span class="token punctuation">:</span>endl<span class="token punctuation">;</span>    std<span class="token punctuation">:</span><span class="token punctuation">:</span>cout <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">.</span><span class="token function">use_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token punctuation">:</span><span class="token punctuation">:</span>endl<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    master<span class="token punctuation">:</span><span class="token punctuation">:</span>shared_ptr<span class="token operator">&lt;</span>A<span class="token operator">></span> p<span class="token punctuation">;</span>    master<span class="token punctuation">:</span><span class="token punctuation">:</span>shared_ptr<span class="token operator">&lt;</span>A<span class="token operator">></span> p1<span class="token punctuation">{</span>new A<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    master<span class="token punctuation">:</span><span class="token punctuation">:</span>shared_ptr<span class="token operator">&lt;</span>A<span class="token operator">></span> <span class="token function">p2</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// p1.get();</span>    std<span class="token punctuation">:</span><span class="token punctuation">:</span>cout <span class="token operator">&lt;&lt;</span> p2<span class="token punctuation">.</span><span class="token function">use_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token punctuation">:</span><span class="token punctuation">:</span>endl<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//2</span>    std<span class="token punctuation">:</span><span class="token punctuation">:</span>cout <span class="token operator">&lt;&lt;</span> p1<span class="token punctuation">.</span><span class="token function">use_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token punctuation">:</span><span class="token punctuation">:</span>endl<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//2</span>    p1<span class="token punctuation">.</span><span class="token function">swap</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span>    p1<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// p1.unique();</span>    <span class="token comment" spellcheck="true">// p1.use_count();</span>    std<span class="token punctuation">:</span><span class="token punctuation">:</span>cout <span class="token operator">&lt;&lt;</span> p2<span class="token punctuation">.</span><span class="token function">use_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token punctuation">:</span><span class="token punctuation">:</span>endl<span class="token punctuation">;</span>    std<span class="token punctuation">:</span><span class="token punctuation">:</span>cout <span class="token operator">&lt;&lt;</span> p1<span class="token punctuation">.</span><span class="token function">use_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token punctuation">:</span><span class="token punctuation">:</span>endl<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//p2.reset();</span>    p <span class="token operator">=</span> std<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">move</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//p = p2;</span>    std<span class="token punctuation">:</span><span class="token punctuation">:</span>cout <span class="token operator">&lt;&lt;</span> p2<span class="token punctuation">.</span><span class="token function">use_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token punctuation">:</span><span class="token punctuation">:</span>endl<span class="token punctuation">;</span>    std<span class="token punctuation">:</span><span class="token punctuation">:</span>cout <span class="token operator">&lt;&lt;</span> p<span class="token punctuation">.</span><span class="token function">use_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token punctuation">:</span><span class="token punctuation">:</span>endl<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token operator">*</span> argv<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//test1();</span>    master<span class="token punctuation">:</span><span class="token punctuation">:</span>shared_ptr<span class="token operator">&lt;</span>A<span class="token operator">></span> p6 <span class="token operator">=</span> master<span class="token punctuation">:</span><span class="token punctuation">:</span>make_shared<span class="token operator">&lt;</span>A<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    master<span class="token punctuation">:</span><span class="token punctuation">:</span>shared_ptr<span class="token operator">&lt;</span>A<span class="token operator">></span> p7 <span class="token operator">=</span> master<span class="token punctuation">:</span><span class="token punctuation">:</span>make_shared<span class="token operator">&lt;</span>A<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// master::shared_ptr&lt;int> p3, p4;</span>    <span class="token comment" spellcheck="true">// master::shared_ptr&lt;int> p5{new int{3}};</span>    <span class="token comment" spellcheck="true">// p3 = p5;</span>    <span class="token comment" spellcheck="true">// cout &lt;&lt; p3.use_count() &lt;&lt; endl;</span>    <span class="token comment" spellcheck="true">// cout &lt;&lt; p4.use_count() &lt;&lt; endl;</span>    <span class="token comment" spellcheck="true">// cout &lt;&lt; p5.use_count() &lt;&lt; endl;</span>    cout <span class="token operator">&lt;&lt;</span> p6<span class="token punctuation">.</span><span class="token function">use_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> p7<span class="token punctuation">.</span><span class="token function">use_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    p6 <span class="token operator">=</span> p7<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> p6<span class="token punctuation">.</span><span class="token function">use_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> p7<span class="token punctuation">.</span><span class="token function">use_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>       p6<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> p6<span class="token punctuation">.</span><span class="token function">use_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> p7<span class="token punctuation">.</span><span class="token function">use_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>       p7<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> p6<span class="token punctuation">.</span><span class="token function">use_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> p7<span class="token punctuation">.</span><span class="token function">use_count</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>     <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> C++基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>阻塞与非阻塞</title>
      <link href="posts/d9e8.html"/>
      <url>posts/d9e8.html</url>
      
        <content type="html"><![CDATA[<h3 id="阻塞"><a href="#阻塞" class="headerlink" title="阻塞"></a>阻塞</h3><ul><li>当进程调用一个阻塞的系统函数时，该进程被置于睡眠状态。这是内核调度其他进程运行，直到该进程等待的事件发生了（比如网络上接收到数据包，或者调用sleep指定的睡眠时间到了）它才有可能继续运行。</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 系统编程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>系统调用open函数</title>
      <link href="posts/ffb4.html"/>
      <url>posts/ffb4.html</url>
      
        <content type="html"><![CDATA[<h3 id="open"><a href="#open" class="headerlink" title="open()"></a>open()</h3><h4 id="头文件"><a href="#头文件" class="headerlink" title="头文件"></a>头文件</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/types.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/stat.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;fcntl.h></span></span></code></pre><h4 id="函数原型"><a href="#函数原型" class="headerlink" title="函数原型"></a>函数原型</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">open</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>pathname<span class="token punctuation">,</span> <span class="token keyword">int</span> flags<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">open</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>pathname<span class="token punctuation">,</span> <span class="token keyword">int</span> flags<span class="token punctuation">,</span> mode_t mode<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><ul><li><p>pathname:需要打开或者创建的文件的相对路径或者绝对路径</p></li><li><p>flags参数有一系列的常数值可以选择，可以同时选择多个常数用按位与运算连接起来，所以这些常数的宏定义都以o_开头，表示or</p></li><li><ul><li><p>必选项：以下三个常数必须指定一个，切仅能指定一个</p><pre class=" language-tex"><code class="language-tex">O_RDONLY 只读打开O_WRONLY 只写打开O_RDWR 可读可写打开</code></pre></li><li><p>可选项：以下常数可以同时指定0个或多个，和必选项按位与起来作为flags参数</p></li><li><pre class=" language-tex"><code class="language-tex">O_CREAT 若此文件不存在则创建它，必须提供第三个参数mode，表示文件的访问权限O_EXCL 如果同时指定了O_CREAT，并且文件存在，则返回出错O_TRUNC 如果文件存在，并且以只写或可读可写方式打开，则将其长度截断为0字节（清空）O_APPEND 表示追加。如果文件已有内容，这次打开文件所写的数据附加到文件的末尾O_NONBLOCK 对于设备文件，以O_NONBLOCKF方式打开可以做非阻塞I/O。</code></pre></li></ul></li><li><p>mode：指定文件权限，可以用八进制数表示，比如0644表示-rw-r–r–，也可以用宏定义按位与表示起来。</p></li></ul><h4 id="返回值"><a href="#返回值" class="headerlink" title="返回值"></a>返回值</h4><ul><li>该进程尚未使用的最小的文件描述符</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 系统编程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>进程创建fork函数与收尸wait函数</title>
      <link href="posts/6a9b.html"/>
      <url>posts/6a9b.html</url>
      
        <content type="html"><![CDATA[<p><em>一个进程，包括代码、数据和分配给进程的资源。</em></p><h3 id="fork"><a href="#fork" class="headerlink" title="fork()"></a>fork()</h3><p><strong>头文件：unistd.h</strong></p><h4 id="原型"><a href="#原型" class="headerlink" title="原型"></a>原型</h4><pre class=" language-c"><code class="language-c">pid_t <span class="token function">fork</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="返回值"><a href="#返回值" class="headerlink" title="返回值"></a>返回值</h4><ul><li><p>在父进程中，fork返回新创建子进程的进程标识符（process ID）；</p></li><li><p>在子进程中，fork返回0；</p></li><li><p>如果出现错误，fork返回一个负值；</p></li><li><ul><li><p>出错原因</p></li><li><pre class=" language-tex"><code class="language-tex">1、当前的进程数已经达到了系统规定的上限，这时errno的值被设置为EAGAIN。2、系统内存不足，这时errno的值被设置为ENOMEM。</code></pre></li></ul></li></ul><p><strong>也就是说，我们可以通过返回值判断当前处于那个进程中。</strong></p><ul><li>fork()函数通过系统调用创建一个与原来进程几乎完全相同的进程，也就是两个进程可以做完全相同的事，但如果初始参数或者传入的变量不同，两个进程也可以做不同的事。</li><li>一个进程调用fork()函数后，系统先给新的进程分配资源，将现在运行的进程的处理器状态、地址空间直接拷贝到新线程。例如存储数据和代码的空间。然后把原来的进程的所有值都复制到新的新进程中，只有少数值与原来的进程的值不同。相当于克隆了一个自己。</li></ul><h3 id="exit"><a href="#exit" class="headerlink" title="exit()"></a>exit()</h3><pre class=" language-c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">exit</span><span class="token punctuation">(</span><span class="token keyword">int</span> status<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class=" language-tex"><code class="language-tex">参数status表示当前进程退出时的结束状态。当用这个函数结束一个子进程时，status的值会作为子进程的结束状态被提供给wait的第一个参数。</code></pre><h3 id="wait"><a href="#wait" class="headerlink" title="wait()"></a>wait()</h3><pre class=" language-c"><code class="language-c">pid_t <span class="token function">wait</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> stat_loc<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class=" language-tex"><code class="language-tex">参数stst_loc存储等待的进程的结束状态值，也就是上面的exit(status)的status的值返回值：结束状态值的子进程的进程标识id；如果等待过程中出现错误（如没有可以等待的子进程），那么返回-1。</code></pre><h3 id="代码实践"><a href="#代码实践" class="headerlink" title="代码实践"></a>代码实践</h3><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;unistd.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;sys/wait.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> <span class="token string">"我是鸣人！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        pid_t pid <span class="token operator">=</span> <span class="token function">fork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//创建子进程</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>pid <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//说明我们没有在子进程中</span>        <span class="token keyword">int</span> status<span class="token punctuation">;</span>        pid_t result <span class="token operator">=</span> <span class="token function">wait</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">||</span> status <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> <span class="token string">"可恶，又失败了，再来一次！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> <span class="token string">"我负责性质变化！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//说明我们在子进程中</span>        pid_t second_pid <span class="token operator">=</span> <span class="token function">fork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>second_pid <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment" spellcheck="true">//说明我们在子进程中</span>            <span class="token keyword">int</span> new_status<span class="token punctuation">;</span>            pid_t new_result <span class="token operator">=</span> <span class="token function">wait</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>new_status<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//没有可以等待的子进程或者子进程没有退出</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>new_result <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">||</span> new_status <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token function">exit</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//子进程退出返回-1</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> <span class="token string">"我负责形态变化！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//子进程退出返回0</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><span class="token comment" spellcheck="true">//说明我们在孙进程中</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> <span class="token string">"我负责产生查克拉！"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 系统编程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>stdout和stdin和stderr</title>
      <link href="posts/9021.html"/>
      <url>posts/9021.html</url>
      
        <content type="html"><![CDATA[<pre class=" language-tex"><code class="language-tex">程序启动时会自动打开三个文件：标准输入、标准输出和标准错误输出。在C标准中分别用FILE* 指针stdin、stdout、stderr表示。这三个文件的文件描述符分别对应0、1、2的int型数据，保存在相应的FILE结构体中。其中文件描述符是文件描述符表（FILE结构体）的索引。</code></pre><p><em>在头文件unistd.h中有如下宏定义来表示这三个文件描述符</em></p><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">define</span> STDIN_FILEND 0</span><span class="token macro property">#<span class="token directive keyword">define</span> STDOUT_FILEND 1</span><span class="token macro property">#<span class="token directive keyword">define</span> STDERR_FILEND 2</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 系统编程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>五态模型</title>
      <link href="posts/5d55.html"/>
      <url>posts/5d55.html</url>
      
        <content type="html"><![CDATA[<h4 id="“僵尸进程”"><a href="#“僵尸进程”" class="headerlink" title="“僵尸进程”"></a>“僵尸进程”</h4><pre class=" language-tex"><code class="language-tex">UNIX 系统中，如果发生一个进程创建另一个进程的情况，那么在老进程从新进程获取信息前，新进程会一直停留在终止态；如果新进程终止后，仍在运行的老进程没有从新进程获取信息，那么新进程就会成为我们所说的“僵尸进程”，停留在系统内存中，导致系统变慢。</code></pre><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://img.kaikeba.com/a/45950170901202qwqd.png"></p><pre class=" language-tex"><code class="language-tex">地址空间指一个进程可以使用的全部内存的地址和它们存储的数据。</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 系统编程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C语言memset与memcpy</title>
      <link href="posts/3643.html"/>
      <url>posts/3643.html</url>
      
        <content type="html"><![CDATA[<h3 id="memset"><a href="#memset" class="headerlink" title="memset"></a>memset</h3><pre class=" language-c"><code class="language-c"><span class="token keyword">void</span> <span class="token operator">*</span> <span class="token function">memset</span> <span class="token punctuation">(</span> <span class="token keyword">void</span> <span class="token operator">*</span> ptr<span class="token punctuation">,</span> <span class="token keyword">int</span> value<span class="token punctuation">,</span> size_t num <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class=" language-tex"><code class="language-tex">memset函数将从ptr指针所指的位置开始的、大小为num字节的内存中的每个字节设为你所指定的数值value。这个函数在将一段不用的内存全部归零时非常实用。你也许会问，用这个函数和用循环语句把某一段位置都设为零有什么区别吗？一般来讲，memset在系统自带的库文件中被优化过了（因为很多人使用），因此用它的效率往往比用循环简单实现的更高。当你想要把一大段内存设为一个数值的时候，不妨考虑使用这个函数，而不是一般的循环。</code></pre><h3 id="memcpy"><a href="#memcpy" class="headerlink" title="memcpy"></a>memcpy</h3><pre class=" language-c"><code class="language-c"><span class="token keyword">void</span> <span class="token operator">*</span> <span class="token function">memcpy</span> <span class="token punctuation">(</span> <span class="token keyword">void</span> <span class="token operator">*</span> destination<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">void</span> <span class="token operator">*</span> source<span class="token punctuation">,</span> size_t num <span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class=" language-tex"><code class="language-tex">memcpy与memset类似，也是修改一段连续的内存的函数。它将由source开始的长度为num字节的内存复制到由destination开始的长度为num字节的内存中。与memset类似，它的实现也在编译器中被优化了，因此速度会比较快。</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> C语言 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C语言字符串函数</title>
      <link href="posts/63a6.html"/>
      <url>posts/63a6.html</url>
      
        <content type="html"><![CDATA[<h3 id="strcpy"><a href="#strcpy" class="headerlink" title="strcpy"></a>strcpy</h3><pre class=" language-c"><code class="language-c"><span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">strcpy</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span> dest<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> src<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class=" language-tex"><code class="language-tex">是一个将存放在src里的字符串复制到dest的字符串里的函数；它的返回值是dest。需要注意的是，strcpy在复制字符串时会自动在末尾加上\0，因此dest的长度必须比src多至少 1 个字符；如果dest的长度小于这个长度，你就会在运行时碰到 段错误（Segmentation Fault） 。这个看似很小的问题可能会导致你 debug 到凌晨三点，所以绝不要忘记！</code></pre><h3 id="strlen"><a href="#strlen" class="headerlink" title="strlen"></a>strlen</h3><pre class=" language-c"><code class="language-c">size_t <span class="token function">strlen</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class=" language-tex"><code class="language-tex">这个函数在输入的字符串str中寻找\0，返回从第一个字符到第一个\0的长度（不包括\0）。注意，如果你用一个长度为 \ 100 100 的数组存储了一个实际长度只有 \ 5 5 的字符串，strlen会返回 \ 5 5，而不是 \ 100 100。</code></pre><h3 id="strcat"><a href="#strcat" class="headerlink" title="strcat"></a>strcat</h3><pre class=" language-c"><code class="language-c"><span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">strcat</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> dest<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> src<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class=" language-tex"><code class="language-tex">它可以将src里存储的字符串接到dest的后面，它的返回值也是dest。</code></pre><h3 id="strcmp"><a href="#strcmp" class="headerlink" title="strcmp"></a>strcmp</h3><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">strcmp</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> str1<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> str2<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class=" language-tex"><code class="language-tex">这个函数可以比较两个字符串是否完全一致。如果函数返回 0，则表示两个输入的字符串完全一致；如果函数返回值大于 0，则str1与str2第一个分歧的字符处，str1的字符比str2的同位置字符对应更大的值（你可以参考 ASCII 表格来找到每个字符唯一对应的整数）；否则str2的第一个分歧字符大于str1的第一个分歧字符。</code></pre><h3 id="strtok"><a href="#strtok" class="headerlink" title="strtok"></a>strtok</h3><pre class=" language-c"><code class="language-c"><span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">strtok</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span> str<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> delimiters<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><pre class=" language-tex"><code class="language-tex">这个函数将输入的字符串str用输入的分隔符delimiters分为更短的字符串。delimiters是一个含有多个字符的字符串，其中每一个字符都是一个独立的分隔符。如\n\t中\n和\t分别可以作为独立的分隔符。需要注意的是，strtok会修改输入的字符串str；因此如果你想保留原有的字符串，最好先用strcpy将原有的字符串复制到另一个字符串里，然后再将字符串输入到strtok里分割。当我们将一个字符串str输入到strtok里后，strtok会返回一个指向第一个由非分隔符字符的指针的分割片段；之后的每一次调用，我们都会把NULL作为第一个参数，如果调用成功就会返回下一个分割片段，如果已经到达str的末尾则会返回NULL。</code></pre><h3 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h3><p>小开喜欢上了同一个办公室的小虹，于是给小虹写了一封情书，但他有点担心自己的情书不能充分表达自己的爱意。请你写一个程序帮小开数一数他的情书里出现了几次单词<code>love</code>（不忽略大小写，仅统计小写）。为了找出单词<code>love</code>，我们需要把情书分割为一个个单词，然后统计单词<code>love</code>出现的次数，最后为了方便小开检查，我们还要附上情书原文。读取情书和输出原文部分已经写好，你需要编写拆分单词和统计出现次数的部分。</p><h4 id="输入格式"><a href="#输入格式" class="headerlink" title="输入格式"></a>输入格式</h4><p>一个长度不超过 256 个字符的字符串，字符串中的单词由且仅由空格、<code>\t</code>、<code>\n</code>、<code>\r\n</code>、<code>"</code>、<code>'</code>、<code>,</code>或<code>.</code>分隔开。</p><h4 id="输出格式"><a href="#输出格式" class="headerlink" title="输出格式"></a>输出格式</h4><p>先按照顺序输出情书中出现的所有单词（不排除重复），每个占一行，然后输出一个整数（占一行），代表输入字符串中<code>love</code>出现的次数。最后输出情书的内容。</p><h4 id="样例输入"><a href="#样例输入" class="headerlink" title="样例输入"></a>样例输入</h4><pre class=" language-tex"><code class="language-tex">I love you so much, Ms.Ginger.My love is like a flame burning in my heart, making it difficult for me to think about anyone but you.Please accept my love.With love,Mr.Happy</code></pre><h4 id="样例输出"><a href="#样例输出" class="headerlink" title="样例输出"></a>样例输出</h4><pre class=" language-tex"><code class="language-tex">IloveyousomuchMsGingerMyloveislikeaflameburninginmyheartmakingitdifficultformetothinkaboutanyonebutyouPleaseacceptmyloveWithloveMrHappy4I love you so much, Ms.Ginger.My love is like a flame burning in my heart, making it difficult for me to think about anyone but you.Please accept my love.With love,Mr.Happy</code></pre><h4 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;malloc.h></span></span><span class="token keyword">const</span> <span class="token keyword">int</span> MAX_LENGTH <span class="token operator">=</span> <span class="token number">256</span><span class="token punctuation">;</span><span class="token keyword">char</span><span class="token operator">*</span> <span class="token function">get_letter</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">static</span> <span class="token keyword">char</span> letter<span class="token punctuation">[</span><span class="token number">1000000</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    letter<span class="token punctuation">[</span><span class="token number">999999</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">' '</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> <span class="token operator">*</span>p <span class="token operator">=</span> letter<span class="token punctuation">;</span>    <span class="token keyword">int</span> size <span class="token operator">=</span> MAX_LENGTH<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">feof</span><span class="token punctuation">(</span><span class="token constant">stdin</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>size <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token function">fgets</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> size <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token constant">stdin</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">*</span>p <span class="token operator">!=</span> <span class="token string">'\0'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            p<span class="token operator">++</span><span class="token punctuation">;</span>            size<span class="token operator">--</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> letter<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">char</span> <span class="token operator">*</span>str <span class="token operator">=</span> <span class="token function">get_letter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> <span class="token operator">*</span>tp_str <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token function">strlen</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    tp_str <span class="token operator">=</span> <span class="token function">strcpy</span><span class="token punctuation">(</span>tp_str<span class="token punctuation">,</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//char* dim = malloc(9);</span>    <span class="token keyword">char</span><span class="token operator">*</span> dim <span class="token operator">=</span> <span class="token string">" \t\n\r\"\',."</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// dim[0] = ' ';</span>    <span class="token comment" spellcheck="true">// dim[1] = '\t';</span>    <span class="token comment" spellcheck="true">// dim[2] = '\n';</span>    <span class="token comment" spellcheck="true">// dim[3] = '\r';</span>    <span class="token comment" spellcheck="true">// dim[4] = '\"';</span>    <span class="token comment" spellcheck="true">// dim[5] = '\'';</span>    <span class="token comment" spellcheck="true">// dim[6] = ',';</span>    <span class="token comment" spellcheck="true">// dim[7] = '.';</span>    <span class="token comment" spellcheck="true">// dim[8] = '\0';</span>    <span class="token keyword">char</span><span class="token operator">*</span> s <span class="token operator">=</span> <span class="token function">strtok</span><span class="token punctuation">(</span>tp_str<span class="token punctuation">,</span> dim<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>s <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">strcmp</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token string">"love"</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">++</span>cnt<span class="token punctuation">;</span>        s <span class="token operator">=</span> <span class="token function">strtok</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span> dim<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> cnt<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>tp_str<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// free(dim);    </span>    <span class="token function">puts</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token macro property">#<span class="token directive keyword">undef</span> MAX_LENGTH</span></code></pre>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>C语言realloc</title>
      <link href="posts/64c9.html"/>
      <url>posts/64c9.html</url>
      
        <content type="html"><![CDATA[<ul><li>当<code>realloc</code>第一个参数所指向的内存空间大小不足够扩大为第二个参数所指定的的大小时，<code>realloc</code>将新分配一段足够大的内存空间，将旧的那段内存空间里的内容拷贝过去然后释放旧的内存空间。</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> C语言基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实现vector模块</title>
      <link href="posts/a3e.html"/>
      <url>posts/a3e.html</url>
      
        <content type="html"><![CDATA[<pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string></span></span>using std<span class="token punctuation">:</span><span class="token punctuation">:</span>cout<span class="token punctuation">;</span>using std<span class="token punctuation">:</span><span class="token punctuation">:</span>endl<span class="token punctuation">;</span>namespace master<span class="token punctuation">{</span>    template<span class="token operator">&lt;</span>typename T<span class="token operator">></span>    class vector<span class="token punctuation">{</span>    private<span class="token punctuation">:</span>        T<span class="token operator">*</span> _begin<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//数组的起始地址</span>        T<span class="token operator">*</span> _capacity<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//数组最后一个元素后面 元素地址</span>        T<span class="token operator">*</span> _end<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//插入元素的最后一个元素后面 元素地址</span>    public<span class="token punctuation">:</span>        <span class="token keyword">inline</span> T<span class="token operator">*</span> <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> _begin<span class="token punctuation">;</span> <span class="token punctuation">}</span>        <span class="token keyword">inline</span> T<span class="token operator">*</span> <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> _end<span class="token punctuation">;</span> <span class="token punctuation">}</span>        <span class="token keyword">inline</span> T<span class="token operator">*</span> <span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> _capacity<span class="token punctuation">;</span> <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">// 空返回true，非空返回false</span>        <span class="token keyword">inline</span> bool <span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">(</span>this<span class="token operator">-></span>_end <span class="token operator">==</span> this<span class="token operator">-></span>_begin<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">//获取当前元素个数</span>        size_t <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token punctuation">(</span>this<span class="token operator">-></span>_end <span class="token operator">-</span> this<span class="token operator">-></span>_begin<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">//获取可以容纳元素最大数量</span>        size_t <span class="token function">maxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> _capacity <span class="token operator">-</span> _begin<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">// flag = true：默认数据转移</span>        <span class="token keyword">void</span> <span class="token function">reserve</span><span class="token punctuation">(</span>size_t n<span class="token punctuation">,</span> bool flag <span class="token operator">=</span> true<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">></span> <span class="token function">maxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                size_t countVal <span class="token operator">=</span> this<span class="token operator">-></span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                T<span class="token operator">*</span> p <span class="token operator">=</span> nullptr<span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>this<span class="token operator">-></span>_begin <span class="token operator">!=</span> nullptr<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//本来容器有数据</span>                    <span class="token comment" spellcheck="true">// cout &lt;&lt; "本来容器有数据!" &lt;&lt; endl;</span>                    p <span class="token operator">=</span> <span class="token punctuation">(</span>T<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">realloc</span><span class="token punctuation">(</span>this<span class="token operator">-></span>_begin<span class="token punctuation">,</span> n <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">==</span> nullptr<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// realloc扩容失败</span>                        <span class="token comment" spellcheck="true">// cout &lt;&lt; "realloc扩容失败!" &lt;&lt; endl; </span>                        p <span class="token operator">=</span> <span class="token punctuation">(</span>T<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span>n <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">==</span> nullptr<span class="token punctuation">)</span> <span class="token punctuation">{</span>                            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"malloc failed!"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>                            <span class="token keyword">return</span> <span class="token punctuation">;</span>                        <span class="token punctuation">}</span>                                            <span class="token keyword">if</span> <span class="token punctuation">(</span>flag <span class="token operator">==</span> true<span class="token punctuation">)</span> <span class="token punctuation">{</span>                            <span class="token comment" spellcheck="true">// 原来数据转移到新空间上</span>                            <span class="token comment" spellcheck="true">// cout &lt;&lt; "原来数据转移到新空间上!" &lt;&lt; endl;</span>                            <span class="token keyword">for</span> <span class="token punctuation">(</span>size_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> countVal<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>                                <span class="token operator">*</span><span class="token punctuation">(</span>p <span class="token operator">+</span> i<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token operator">*</span><span class="token punctuation">(</span>this<span class="token operator">-></span>_begin <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>                            <span class="token punctuation">}</span>                                                        <span class="token comment" spellcheck="true">//释放原本空间 </span>                            delete<span class="token punctuation">[</span><span class="token punctuation">]</span> this<span class="token operator">-></span>_begin<span class="token punctuation">;</span>                              this<span class="token operator">-></span>_begin <span class="token operator">=</span> nullptr<span class="token punctuation">;</span>                                             <span class="token punctuation">}</span>                    <span class="token punctuation">}</span>                                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//本来容器没有数据</span>                    p <span class="token operator">=</span> <span class="token punctuation">(</span>T<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span>n <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>                                this<span class="token operator">-></span>_begin <span class="token operator">=</span> p<span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>flag <span class="token operator">==</span> true<span class="token punctuation">)</span> this<span class="token operator">-></span>_end <span class="token operator">=</span> this<span class="token operator">-></span>_begin <span class="token operator">+</span> countVal<span class="token punctuation">;</span>                <span class="token keyword">else</span> this<span class="token operator">-></span>_end <span class="token operator">=</span> this<span class="token operator">-></span>_begin<span class="token punctuation">;</span>                this<span class="token operator">-></span>_capacity <span class="token operator">=</span> this<span class="token operator">-></span>_begin <span class="token operator">+</span> n<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span>master<span class="token punctuation">:</span><span class="token punctuation">:</span>vector<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token operator">&amp;</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//万能匹配</span>            std<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">swap</span><span class="token punctuation">(</span>this<span class="token operator">-></span>_begin<span class="token punctuation">,</span> v<span class="token punctuation">.</span>_begin<span class="token punctuation">)</span><span class="token punctuation">;</span>            std<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">swap</span><span class="token punctuation">(</span>this<span class="token operator">-></span>_end<span class="token punctuation">,</span> v<span class="token punctuation">.</span>_end<span class="token punctuation">)</span><span class="token punctuation">;</span>            std<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">swap</span><span class="token punctuation">(</span>this<span class="token operator">-></span>_capacity<span class="token punctuation">,</span> v<span class="token punctuation">.</span>_capacity<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    public<span class="token punctuation">:</span>        <span class="token function">vector</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">:</span> <span class="token function">_begin</span><span class="token punctuation">(</span>nullptr<span class="token punctuation">)</span>        <span class="token punctuation">,</span> <span class="token function">_end</span><span class="token punctuation">(</span>nullptr<span class="token punctuation">)</span>        <span class="token punctuation">,</span> <span class="token function">_capacity</span><span class="token punctuation">(</span>nullptr<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token punctuation">}</span>        <span class="token function">vector</span><span class="token punctuation">(</span>size_t<span class="token operator">&amp;&amp;</span> size<span class="token punctuation">,</span> <span class="token keyword">const</span> T<span class="token operator">&amp;</span> value <span class="token operator">=</span> T<span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 调用T的默认构造</span>        <span class="token punctuation">:</span> <span class="token function">_begin</span><span class="token punctuation">(</span>nullptr<span class="token punctuation">)</span>        <span class="token punctuation">,</span> <span class="token function">_end</span><span class="token punctuation">(</span>nullptr<span class="token punctuation">)</span>        <span class="token punctuation">,</span> <span class="token function">_capacity</span><span class="token punctuation">(</span>nullptr<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">reserve</span><span class="token punctuation">(</span>size<span class="token punctuation">,</span> false<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span>size<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token operator">*</span>_end <span class="token operator">=</span> value<span class="token punctuation">;</span>                <span class="token operator">++</span>_end<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">// 左值拷贝构造</span>        explicit <span class="token function">vector</span><span class="token punctuation">(</span><span class="token keyword">const</span> master<span class="token punctuation">:</span><span class="token punctuation">:</span>vector<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token operator">&amp;</span> v<span class="token punctuation">)</span>        <span class="token punctuation">:</span> <span class="token function">_begin</span><span class="token punctuation">(</span>nullptr<span class="token punctuation">)</span>        <span class="token punctuation">,</span> <span class="token function">_end</span><span class="token punctuation">(</span>nullptr<span class="token punctuation">)</span>        <span class="token punctuation">,</span> <span class="token function">_capacity</span><span class="token punctuation">(</span>nullptr<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>this <span class="token operator">==</span> <span class="token operator">&amp;</span>v<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>            <span class="token function">reserve</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">maxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span>size_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> v<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token operator">*</span>_end <span class="token operator">=</span> <span class="token operator">*</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span>_begin <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token operator">++</span>_end<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">// 右值拷贝构造</span>        explicit <span class="token function">vector</span><span class="token punctuation">(</span>master<span class="token punctuation">:</span><span class="token punctuation">:</span>vector<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token operator">&amp;&amp;</span> v<span class="token punctuation">)</span>         <span class="token punctuation">:</span> <span class="token function">_begin</span><span class="token punctuation">(</span>nullptr<span class="token punctuation">)</span>        <span class="token punctuation">,</span> <span class="token function">_end</span><span class="token punctuation">(</span>nullptr<span class="token punctuation">)</span>        <span class="token punctuation">,</span> <span class="token function">_capacity</span><span class="token punctuation">(</span>nullptr<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>this <span class="token operator">==</span> <span class="token operator">&amp;</span>v<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>            <span class="token function">swap</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>            v<span class="token punctuation">.</span>_begin <span class="token operator">=</span> nullptr<span class="token punctuation">;</span>            v<span class="token punctuation">.</span>_end <span class="token operator">=</span> nullptr<span class="token punctuation">;</span>            v<span class="token punctuation">.</span>_capacity <span class="token operator">=</span> nullptr<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        master<span class="token punctuation">:</span><span class="token punctuation">:</span>vector<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token operator">&amp;</span> operator<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> master<span class="token punctuation">:</span><span class="token punctuation">:</span>vector<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token operator">&amp;</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>this <span class="token operator">==</span> <span class="token operator">&amp;</span>v<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">*</span>this<span class="token punctuation">;</span>            <span class="token function">reserve</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">maxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> false<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span>size_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> v<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token operator">*</span>_end <span class="token operator">=</span> <span class="token operator">*</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span>_begin <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token operator">++</span>_end<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">return</span> <span class="token operator">*</span>this<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        master<span class="token punctuation">:</span><span class="token punctuation">:</span>vector<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token operator">&amp;</span> operator<span class="token operator">=</span><span class="token punctuation">(</span>master<span class="token punctuation">:</span><span class="token punctuation">:</span>vector<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token operator">&amp;&amp;</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>this <span class="token operator">==</span> <span class="token operator">&amp;</span>v<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">*</span>this<span class="token punctuation">;</span>            <span class="token function">swap</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>            v<span class="token punctuation">.</span>_begin <span class="token operator">=</span> nullptr<span class="token punctuation">;</span>            v<span class="token punctuation">.</span>_end <span class="token operator">=</span> nullptr<span class="token punctuation">;</span>            v<span class="token punctuation">.</span>_capacity <span class="token operator">=</span> nullptr<span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token operator">*</span>this<span class="token punctuation">;</span>        <span class="token punctuation">}</span>           virtual <span class="token operator">~</span><span class="token function">vector</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>_begin <span class="token operator">!=</span> nullptr<span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token comment" spellcheck="true">//手动调用元素析构函数</span>                <span class="token keyword">for</span> <span class="token punctuation">(</span>size_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>                    _begin<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token operator">~</span><span class="token function">T</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>            _begin <span class="token operator">=</span> nullptr<span class="token punctuation">;</span>            _end <span class="token operator">=</span> nullptr<span class="token punctuation">;</span>            _capacity <span class="token operator">=</span> nullptr<span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//delete _begin;</span>        <span class="token punctuation">}</span>         public<span class="token punctuation">:</span>        T<span class="token operator">&amp;</span> operator<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span>size_t index<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token operator">*</span><span class="token punctuation">(</span>_begin <span class="token operator">+</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        T<span class="token operator">&amp;</span> <span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token operator">*</span><span class="token punctuation">(</span>_end <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">void</span> <span class="token function">push_back</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>_end <span class="token operator">==</span> _capacity<span class="token punctuation">)</span> <span class="token punctuation">{</span>                size_t len <span class="token operator">=</span> <span class="token function">maxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                len <span class="token operator">=</span> <span class="token punctuation">(</span>len <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">;</span>                <span class="token function">reserve</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"push&amp;"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>            <span class="token operator">*</span>_end <span class="token operator">=</span> std<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">move</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//右值 赋值</span>            <span class="token operator">++</span>_end<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">void</span> <span class="token function">push_back</span><span class="token punctuation">(</span>T<span class="token operator">&amp;&amp;</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>_end <span class="token operator">==</span> _capacity<span class="token punctuation">)</span> <span class="token punctuation">{</span>                size_t len <span class="token operator">=</span> <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                len <span class="token operator">=</span> <span class="token punctuation">(</span>len <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">;</span>                <span class="token function">reserve</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token comment" spellcheck="true">// cout &lt;&lt; "push&amp;&amp;" &lt;&lt; endl;</span>            <span class="token operator">*</span>_end <span class="token operator">=</span> std<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">move</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token operator">++</span>_end<span class="token punctuation">;</span>        <span class="token punctuation">}</span>                <span class="token keyword">void</span> <span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>this<span class="token operator">-></span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token operator">--</span>_end<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">void</span> <span class="token function">outVector</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span>size_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span><span class="token punctuation">(</span>_begin <span class="token operator">+</span> i<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"\n"</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">testString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"string test\n"</span><span class="token punctuation">;</span>    master<span class="token punctuation">:</span><span class="token punctuation">:</span>vector<span class="token operator">&lt;</span>std<span class="token punctuation">:</span><span class="token punctuation">:</span>string<span class="token operator">></span> <span class="token function">arr1</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">"sd3d23"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    arr1<span class="token punctuation">.</span><span class="token function">outVector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> arr1<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> arr1<span class="token punctuation">.</span><span class="token function">maxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> arr1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    arr1<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"dsvdchfgskjhgskjdhfska"</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// arr1.outVector();</span>    arr1<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    arr1<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    arr1<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    arr1<span class="token punctuation">.</span><span class="token function">outVector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> arr1<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    arr1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token string">"fdvdfv"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    arr1<span class="token punctuation">.</span><span class="token function">outVector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">testInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">testChar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    master<span class="token punctuation">:</span><span class="token punctuation">:</span>vector<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">></span> <span class="token function">v</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token string">'4'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    v<span class="token punctuation">.</span><span class="token function">outVector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    v<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'5'</span><span class="token punctuation">;</span>    v<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'6'</span><span class="token punctuation">;</span>    v<span class="token punctuation">.</span><span class="token function">outVector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    v<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    v<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    v<span class="token punctuation">.</span><span class="token function">outVector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token string">'&amp;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    v<span class="token punctuation">.</span><span class="token function">outVector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">testChar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span></code></pre><h3 id="版本二"><a href="#版本二" class="headerlink" title="版本二"></a>版本二</h3><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string></span></span>using std<span class="token punctuation">:</span><span class="token punctuation">:</span>cout<span class="token punctuation">;</span>using std<span class="token punctuation">:</span><span class="token punctuation">:</span>endl<span class="token punctuation">;</span>namespace master<span class="token punctuation">{</span>    template<span class="token operator">&lt;</span>typename T<span class="token operator">></span>    class vector<span class="token punctuation">{</span>    private<span class="token punctuation">:</span>        T<span class="token operator">*</span> _begin<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//数组的起始地址</span>        T<span class="token operator">*</span> _capacity<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//数组最后一个元素后面 元素地址</span>        T<span class="token operator">*</span> _end<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//插入元素的最后一个元素后面 元素地址</span>    public<span class="token punctuation">:</span>        class iterator<span class="token punctuation">{</span>        private<span class="token punctuation">:</span>            master<span class="token punctuation">:</span><span class="token punctuation">:</span>vector<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token operator">*</span> pVector<span class="token punctuation">;</span>            size_t pos<span class="token punctuation">;</span>        public<span class="token punctuation">:</span>            <span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token function">pVector</span><span class="token punctuation">(</span>nullptr<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">pos</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token punctuation">}</span>            <span class="token function">iterator</span><span class="token punctuation">(</span>master<span class="token punctuation">:</span><span class="token punctuation">:</span>vector<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token operator">*</span> vector<span class="token punctuation">,</span> size_t offset <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span>            <span class="token punctuation">:</span> <span class="token function">pVector</span><span class="token punctuation">(</span>vector<span class="token punctuation">)</span>            <span class="token punctuation">,</span> <span class="token function">pos</span><span class="token punctuation">(</span>offset<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token punctuation">}</span>            bool operator<span class="token operator">!=</span><span class="token punctuation">(</span><span class="token keyword">const</span> iterator<span class="token operator">&amp;</span> it<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>this<span class="token operator">-></span>pVector <span class="token operator">==</span> it<span class="token punctuation">.</span>pVector<span class="token punctuation">)</span>                     <span class="token keyword">return</span> pos <span class="token operator">!=</span> it<span class="token punctuation">.</span>pos<span class="token punctuation">;</span>                <span class="token keyword">else</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            iterator<span class="token operator">&amp;</span> operator<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> iterator<span class="token operator">&amp;</span> it<span class="token punctuation">)</span> <span class="token punctuation">{</span>                cout <span class="token operator">&lt;&lt;</span> <span class="token string">"++"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">&amp;</span>it <span class="token operator">==</span> this<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">*</span>this<span class="token punctuation">;</span>                pVector <span class="token operator">=</span> it<span class="token punctuation">.</span>pVector<span class="token punctuation">;</span>                pos <span class="token operator">=</span> it<span class="token punctuation">.</span>pos<span class="token punctuation">;</span>                <span class="token keyword">return</span> <span class="token operator">*</span>this<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            iterator<span class="token operator">&amp;</span> operator<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> master<span class="token punctuation">:</span><span class="token punctuation">:</span>vector<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token operator">&amp;</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>                cout <span class="token operator">&lt;&lt;</span> <span class="token string">"------"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> this<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">*</span>this<span class="token punctuation">;</span>                <span class="token operator">*</span>this <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> <span class="token operator">*</span>this<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token comment" spellcheck="true">// iterator&amp; operator=(iterator&amp;&amp; it) {</span>            <span class="token comment" spellcheck="true">//     if (&amp;it == this) return *this;</span>            <span class="token comment" spellcheck="true">//     pVector = it.pVector;</span>            <span class="token comment" spellcheck="true">//     pos = it.pos;</span>            <span class="token comment" spellcheck="true">//     it.pos = 0;</span>            <span class="token comment" spellcheck="true">//     it.pVector = nullptr;</span>            <span class="token comment" spellcheck="true">//     return *this;</span>            <span class="token comment" spellcheck="true">// }</span>            iterator<span class="token operator">&amp;</span> operator<span class="token operator">++</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token operator">++</span>pos<span class="token punctuation">;</span>                <span class="token keyword">return</span> <span class="token operator">*</span>this<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            iterator operator<span class="token operator">++</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                iterator it<span class="token punctuation">{</span>pVector<span class="token punctuation">,</span> pos<span class="token punctuation">}</span><span class="token punctuation">;</span>                pos<span class="token operator">++</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> it<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            iterator<span class="token operator">&amp;</span> operator<span class="token operator">--</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token operator">--</span>pos<span class="token punctuation">;</span>                <span class="token keyword">return</span> <span class="token operator">*</span>this<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            iterator operator<span class="token operator">--</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                iterator <span class="token function">it</span><span class="token punctuation">(</span>pVector<span class="token punctuation">,</span> pos<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token operator">--</span>pos<span class="token punctuation">;</span>                <span class="token keyword">return</span> it<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            iterator operator<span class="token operator">+</span><span class="token punctuation">(</span>size_t offset<span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> iterator<span class="token punctuation">{</span>pVector<span class="token punctuation">,</span> pos <span class="token operator">+</span> offset<span class="token punctuation">}</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            iterator operator<span class="token operator">-</span><span class="token punctuation">(</span>size_t offset<span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> iterator<span class="token punctuation">{</span>pVector<span class="token punctuation">,</span> pos <span class="token operator">-</span> offset<span class="token punctuation">}</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            T<span class="token operator">&amp;</span> operator<span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token operator">*</span><span class="token punctuation">(</span>pVector<span class="token operator">-></span>_begin <span class="token operator">+</span> pos<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            T<span class="token operator">*</span> operator<span class="token operator">-></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token punctuation">(</span>pVector<span class="token operator">-></span>_begin <span class="token operator">+</span> pos<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>                      T<span class="token operator">&amp;</span> operator<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span>size_t offset<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token operator">*</span><span class="token punctuation">(</span>pVector<span class="token operator">-></span>_begin <span class="token operator">+</span> offset<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>          <span class="token punctuation">}</span><span class="token punctuation">;</span>    public<span class="token punctuation">:</span>        <span class="token keyword">inline</span> iterator <span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> iterator<span class="token punctuation">{</span>this<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>        <span class="token keyword">inline</span> iterator <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> iterator<span class="token punctuation">{</span>this<span class="token punctuation">,</span> <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>        <span class="token keyword">inline</span> iterator <span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> iterator<span class="token punctuation">{</span>this<span class="token punctuation">,</span> <span class="token function">maxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">// 空返回true，非空返回false</span>        <span class="token keyword">inline</span> bool <span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">(</span>this<span class="token operator">-></span>_end <span class="token operator">==</span> this<span class="token operator">-></span>_begin<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">//获取当前元素个数</span>        size_t <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token punctuation">(</span>this<span class="token operator">-></span>_end <span class="token operator">-</span> this<span class="token operator">-></span>_begin<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">//获取可以容纳元素最大数量</span>        size_t <span class="token function">maxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> _capacity <span class="token operator">-</span> _begin<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">// flag = true：默认数据转移</span>        <span class="token keyword">void</span> <span class="token function">reserve</span><span class="token punctuation">(</span>size_t n<span class="token punctuation">,</span> bool flag <span class="token operator">=</span> true<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">></span> <span class="token function">maxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                size_t countVal <span class="token operator">=</span> this<span class="token operator">-></span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                T<span class="token operator">*</span> p <span class="token operator">=</span> nullptr<span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>this<span class="token operator">-></span>_begin <span class="token operator">!=</span> nullptr<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//本来容器有数据</span>                    <span class="token comment" spellcheck="true">// cout &lt;&lt; "本来容器有数据!" &lt;&lt; endl;</span>                    p <span class="token operator">=</span> <span class="token punctuation">(</span>T<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">realloc</span><span class="token punctuation">(</span>this<span class="token operator">-></span>_begin<span class="token punctuation">,</span> n <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">==</span> nullptr<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// realloc扩容失败</span>                        <span class="token comment" spellcheck="true">// cout &lt;&lt; "realloc扩容失败!" &lt;&lt; endl; </span>                        p <span class="token operator">=</span> <span class="token punctuation">(</span>T<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span>n <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">==</span> nullptr<span class="token punctuation">)</span> <span class="token punctuation">{</span>                            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"malloc failed!"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>                            <span class="token keyword">return</span> <span class="token punctuation">;</span>                        <span class="token punctuation">}</span>                                            <span class="token keyword">if</span> <span class="token punctuation">(</span>flag <span class="token operator">==</span> true<span class="token punctuation">)</span> <span class="token punctuation">{</span>                            <span class="token comment" spellcheck="true">// 原来数据转移到新空间上</span>                            <span class="token comment" spellcheck="true">// cout &lt;&lt; "原来数据转移到新空间上!" &lt;&lt; endl;</span>                            <span class="token keyword">for</span> <span class="token punctuation">(</span>size_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> countVal<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>                                <span class="token operator">*</span><span class="token punctuation">(</span>p <span class="token operator">+</span> i<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token operator">*</span><span class="token punctuation">(</span>this<span class="token operator">-></span>_begin <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>                            <span class="token punctuation">}</span>                                                        <span class="token comment" spellcheck="true">//释放原本空间 </span>                            delete<span class="token punctuation">[</span><span class="token punctuation">]</span> this<span class="token operator">-></span>_begin<span class="token punctuation">;</span>                              this<span class="token operator">-></span>_begin <span class="token operator">=</span> nullptr<span class="token punctuation">;</span>                                             <span class="token punctuation">}</span>                    <span class="token punctuation">}</span>                                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//本来容器没有数据</span>                    p <span class="token operator">=</span> <span class="token punctuation">(</span>T<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span>n <span class="token operator">*</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>T<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>                                this<span class="token operator">-></span>_begin <span class="token operator">=</span> p<span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>flag <span class="token operator">==</span> true<span class="token punctuation">)</span> this<span class="token operator">-></span>_end <span class="token operator">=</span> this<span class="token operator">-></span>_begin <span class="token operator">+</span> countVal<span class="token punctuation">;</span>                <span class="token keyword">else</span> this<span class="token operator">-></span>_end <span class="token operator">=</span> this<span class="token operator">-></span>_begin<span class="token punctuation">;</span>                this<span class="token operator">-></span>_capacity <span class="token operator">=</span> this<span class="token operator">-></span>_begin <span class="token operator">+</span> n<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span>master<span class="token punctuation">:</span><span class="token punctuation">:</span>vector<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token operator">&amp;</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//万能匹配</span>            std<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">swap</span><span class="token punctuation">(</span>this<span class="token operator">-></span>_begin<span class="token punctuation">,</span> v<span class="token punctuation">.</span>_begin<span class="token punctuation">)</span><span class="token punctuation">;</span>            std<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">swap</span><span class="token punctuation">(</span>this<span class="token operator">-></span>_end<span class="token punctuation">,</span> v<span class="token punctuation">.</span>_end<span class="token punctuation">)</span><span class="token punctuation">;</span>            std<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">swap</span><span class="token punctuation">(</span>this<span class="token operator">-></span>_capacity<span class="token punctuation">,</span> v<span class="token punctuation">.</span>_capacity<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    public<span class="token punctuation">:</span>        <span class="token function">vector</span><span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token punctuation">:</span> <span class="token function">_begin</span><span class="token punctuation">(</span>nullptr<span class="token punctuation">)</span>        <span class="token punctuation">,</span> <span class="token function">_end</span><span class="token punctuation">(</span>nullptr<span class="token punctuation">)</span>        <span class="token punctuation">,</span> <span class="token function">_capacity</span><span class="token punctuation">(</span>nullptr<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token punctuation">}</span>        <span class="token function">vector</span><span class="token punctuation">(</span>size_t<span class="token operator">&amp;&amp;</span> size<span class="token punctuation">,</span> <span class="token keyword">const</span> T<span class="token operator">&amp;</span> value <span class="token operator">=</span> T<span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 调用T的默认构造</span>        <span class="token punctuation">:</span> <span class="token function">_begin</span><span class="token punctuation">(</span>nullptr<span class="token punctuation">)</span>        <span class="token punctuation">,</span> <span class="token function">_end</span><span class="token punctuation">(</span>nullptr<span class="token punctuation">)</span>        <span class="token punctuation">,</span> <span class="token function">_capacity</span><span class="token punctuation">(</span>nullptr<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">reserve</span><span class="token punctuation">(</span>size<span class="token punctuation">,</span> false<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span>size<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token operator">*</span>_end <span class="token operator">=</span> value<span class="token punctuation">;</span>                <span class="token operator">++</span>_end<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">// 左值拷贝构造</span>        explicit <span class="token function">vector</span><span class="token punctuation">(</span><span class="token keyword">const</span> master<span class="token punctuation">:</span><span class="token punctuation">:</span>vector<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token operator">&amp;</span> v<span class="token punctuation">)</span>        <span class="token punctuation">:</span> <span class="token function">_begin</span><span class="token punctuation">(</span>nullptr<span class="token punctuation">)</span>        <span class="token punctuation">,</span> <span class="token function">_end</span><span class="token punctuation">(</span>nullptr<span class="token punctuation">)</span>        <span class="token punctuation">,</span> <span class="token function">_capacity</span><span class="token punctuation">(</span>nullptr<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>this <span class="token operator">==</span> <span class="token operator">&amp;</span>v<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>            <span class="token function">reserve</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">maxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span>size_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> v<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token operator">*</span>_end <span class="token operator">=</span> <span class="token operator">*</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span>_begin <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token operator">++</span>_end<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">// 右值拷贝构造</span>        explicit <span class="token function">vector</span><span class="token punctuation">(</span>master<span class="token punctuation">:</span><span class="token punctuation">:</span>vector<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token operator">&amp;&amp;</span> v<span class="token punctuation">)</span>         <span class="token punctuation">:</span> <span class="token function">_begin</span><span class="token punctuation">(</span>nullptr<span class="token punctuation">)</span>        <span class="token punctuation">,</span> <span class="token function">_end</span><span class="token punctuation">(</span>nullptr<span class="token punctuation">)</span>        <span class="token punctuation">,</span> <span class="token function">_capacity</span><span class="token punctuation">(</span>nullptr<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>this <span class="token operator">==</span> <span class="token operator">&amp;</span>v<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>            <span class="token function">swap</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>            v<span class="token punctuation">.</span>_begin <span class="token operator">=</span> nullptr<span class="token punctuation">;</span>            v<span class="token punctuation">.</span>_end <span class="token operator">=</span> nullptr<span class="token punctuation">;</span>            v<span class="token punctuation">.</span>_capacity <span class="token operator">=</span> nullptr<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        master<span class="token punctuation">:</span><span class="token punctuation">:</span>vector<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token operator">&amp;</span> operator<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> master<span class="token punctuation">:</span><span class="token punctuation">:</span>vector<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token operator">&amp;</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>this <span class="token operator">==</span> <span class="token operator">&amp;</span>v<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">*</span>this<span class="token punctuation">;</span>            <span class="token function">reserve</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">maxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> false<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span>size_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> v<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token operator">*</span>_end <span class="token operator">=</span> <span class="token operator">*</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span>_begin <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token operator">++</span>_end<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">return</span> <span class="token operator">*</span>this<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        master<span class="token punctuation">:</span><span class="token punctuation">:</span>vector<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token operator">&amp;</span> operator<span class="token operator">=</span><span class="token punctuation">(</span>master<span class="token punctuation">:</span><span class="token punctuation">:</span>vector<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token operator">&amp;&amp;</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>this <span class="token operator">==</span> <span class="token operator">&amp;</span>v<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">*</span>this<span class="token punctuation">;</span>            <span class="token function">swap</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>            v<span class="token punctuation">.</span>_begin <span class="token operator">=</span> nullptr<span class="token punctuation">;</span>            v<span class="token punctuation">.</span>_end <span class="token operator">=</span> nullptr<span class="token punctuation">;</span>            v<span class="token punctuation">.</span>_capacity <span class="token operator">=</span> nullptr<span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token operator">*</span>this<span class="token punctuation">;</span>        <span class="token punctuation">}</span>           virtual <span class="token operator">~</span><span class="token function">vector</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>_begin <span class="token operator">!=</span> nullptr<span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token comment" spellcheck="true">//手动调用元素析构函数</span>                <span class="token keyword">for</span> <span class="token punctuation">(</span>size_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>                    _begin<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token operator">~</span><span class="token function">T</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>            _begin <span class="token operator">=</span> nullptr<span class="token punctuation">;</span>            _end <span class="token operator">=</span> nullptr<span class="token punctuation">;</span>            _capacity <span class="token operator">=</span> nullptr<span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//delete _begin;</span>        <span class="token punctuation">}</span>         public<span class="token punctuation">:</span>        T<span class="token operator">&amp;</span> operator<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span>size_t index<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token operator">*</span><span class="token punctuation">(</span>_begin <span class="token operator">+</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        T<span class="token operator">&amp;</span> <span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token operator">*</span><span class="token punctuation">(</span>_end <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">void</span> <span class="token function">push_back</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>_end <span class="token operator">==</span> _capacity<span class="token punctuation">)</span> <span class="token punctuation">{</span>                size_t len <span class="token operator">=</span> <span class="token function">maxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                len <span class="token operator">=</span> <span class="token punctuation">(</span>len <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">;</span>                <span class="token function">reserve</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"push&amp;"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>            <span class="token operator">*</span>_end <span class="token operator">=</span> std<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">move</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//右值 赋值</span>            <span class="token operator">++</span>_end<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">void</span> <span class="token function">push_back</span><span class="token punctuation">(</span>T<span class="token operator">&amp;&amp;</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>_end <span class="token operator">==</span> _capacity<span class="token punctuation">)</span> <span class="token punctuation">{</span>                size_t len <span class="token operator">=</span> <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                len <span class="token operator">=</span> <span class="token punctuation">(</span>len <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">;</span>                <span class="token function">reserve</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token comment" spellcheck="true">// cout &lt;&lt; "push&amp;&amp;" &lt;&lt; endl;</span>            <span class="token operator">*</span>_end <span class="token operator">=</span> std<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">move</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token operator">++</span>_end<span class="token punctuation">;</span>        <span class="token punctuation">}</span>                <span class="token keyword">void</span> <span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>this<span class="token operator">-></span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token operator">--</span>_end<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">void</span> <span class="token function">outVector</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span>size_t i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span><span class="token punctuation">(</span>_begin <span class="token operator">+</span> i<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"\n"</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">struct</span> Point<span class="token punctuation">{</span>    <span class="token keyword">double</span> x<span class="token punctuation">,</span> y<span class="token punctuation">;</span>    <span class="token function">Point</span><span class="token punctuation">(</span><span class="token keyword">double</span> x <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token keyword">double</span> y <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token function">x</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">y</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">testClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    master<span class="token punctuation">:</span><span class="token punctuation">:</span>vector<span class="token operator">&lt;</span>Point<span class="token operator">></span> <span class="token function">arr1</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">1.3</span><span class="token punctuation">,</span> <span class="token number">2.3</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    master<span class="token punctuation">:</span><span class="token punctuation">:</span>vector<span class="token operator">&lt;</span>Point<span class="token operator">></span><span class="token punctuation">:</span><span class="token punctuation">:</span>iterator it <span class="token operator">=</span> <span class="token operator">&amp;</span>arr1<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> it<span class="token operator">-></span>x <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> it<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    it<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">23.3</span><span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> it<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">testString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"string test\n"</span><span class="token punctuation">;</span>    master<span class="token punctuation">:</span><span class="token punctuation">:</span>vector<span class="token operator">&lt;</span>std<span class="token punctuation">:</span><span class="token punctuation">:</span>string<span class="token operator">></span> <span class="token function">arr1</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">"sd3d23"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    master<span class="token punctuation">:</span><span class="token punctuation">:</span>vector<span class="token operator">&lt;</span>std<span class="token punctuation">:</span><span class="token punctuation">:</span>string<span class="token operator">></span><span class="token punctuation">:</span><span class="token punctuation">:</span>iterator it <span class="token operator">=</span> <span class="token operator">&amp;</span>arr1<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> it <span class="token operator">!=</span> arr1<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    it <span class="token operator">=</span> <span class="token operator">&amp;</span>arr1<span class="token punctuation">;</span>    arr1<span class="token punctuation">.</span><span class="token function">outVector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> arr1<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> arr1<span class="token punctuation">.</span><span class="token function">maxSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> arr1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    arr1<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"dsvdchfgskjhgskjdhfska"</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// arr1.outVector();</span>    arr1<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    arr1<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    arr1<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    arr1<span class="token punctuation">.</span><span class="token function">outVector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> arr1<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    arr1<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token string">"fdvdfv"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    arr1<span class="token punctuation">.</span><span class="token function">outVector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">testInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">testChar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    master<span class="token punctuation">:</span><span class="token punctuation">:</span>vector<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">></span> <span class="token function">v</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token string">'4'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    v<span class="token punctuation">.</span><span class="token function">outVector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    v<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'5'</span><span class="token punctuation">;</span>    v<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'6'</span><span class="token punctuation">;</span>    v<span class="token punctuation">.</span><span class="token function">outVector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    v<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    v<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    v<span class="token punctuation">.</span><span class="token function">outVector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token string">'3'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token string">'&amp;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    v<span class="token punctuation">.</span><span class="token function">outVector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">testClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> C++基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>forward与move</title>
      <link href="posts/55cf.html"/>
      <url>posts/55cf.html</url>
      
        <content type="html"><![CDATA[<h4 id="forward-向前传递"><a href="#forward-向前传递" class="headerlink" title="forward(向前传递)"></a>forward(向前传递)</h4><ul><li><code>forward</code>用来把是一个引用的参数传递出去。</li><li><code>forward</code>的一大作用就是把声明为右值引用的参数传递给别人并且以后再也不使用它。</li><li></li></ul><h4 id="move"><a href="#move" class="headerlink" title="move"></a>move</h4><h4 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h4><ul><li><code>forward</code>用来把是一个引用的参数传递出去， <strong>这个参数在形式上声明为右值引用</strong> 。</li><li><code>move</code>在传递 <strong>左值引用类型的对象</strong> 的同时，用来“声称”一个左值引用指向的对象已经再也不需要使用了。</li></ul><h4 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h4><ul><li>如果对函数参数使用<code>move</code>和<code>forward</code>，那么这个参数最好不要在其他地方被用到。毕竟一个右值引用传了出去，这个对象可能就已经不在了。毕竟一个右值引用传了出去，这个对象可能就已经不在了。</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> C++基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>元编程</title>
      <link href="posts/1768.html"/>
      <url>posts/1768.html</url>
      
        <content type="html"><![CDATA[<h3 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h3><pre class=" language-tex"><code class="language-tex">从编程范式上来说，C++模板元编程是函数式编程，利用递归形式实现循环结构的功能，利用C++模板特化提供了条件判断能力，这两点使得其具有和普通语言一样的能力（图灵完备性）</code></pre><h4 id="图灵完备性"><a href="#图灵完备性" class="headerlink" title="图灵完备性"></a>图灵完备性</h4><ul><li>1、需要具有基本的数据类型，比如数字、字符串、布尔值等</li><li>2、需要某种方法，将基础类型组合起来，表达更高级的概念。比如C语言中的struct，就是一种组合方法。数组和字典也是组合方法</li><li>3、需要流程控制。典型就是顺序、分支、循环</li><li>4、需要输入、输出</li></ul><p><em>具备图灵完备性，就可以写出满足任何需求的程序</em></p>]]></content>
      
      
      
        <tags>
            
            <tag> C++基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++之三五法则</title>
      <link href="posts/e098.html"/>
      <url>posts/e098.html</url>
      
        <content type="html"><![CDATA[<ul><li><p>需要析构函数的类也需要拷贝构造函数和拷贝赋值函数。</p></li><li><p>需要拷贝操作的类也需要赋值操作，反之亦然。</p></li><li><p>析构函数不能是删除的。</p></li><li><p>如果一个类有删除的或不可访问的析构函数，那么其默认和拷贝构造函数会被定义为删除的。</p></li><li><p>如果一个类有const或引用成员，则不能使用合成的拷贝赋值操作。</p></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> C++基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>封装总结</title>
      <link href="posts/2a0f.html"/>
      <url>posts/2a0f.html</url>
      
        <content type="html"><![CDATA[<p><em>继承往往被过度使用。在设计过程中，<strong>耦合关系要尽量弱</strong>。如果类与类之间关系可以有多种方式表达，就使用关系最弱的那种。而继承几乎是最强烈的关系。</em></p><h3 id="参考原则"><a href="#参考原则" class="headerlink" title="参考原则"></a>参考原则</h3><ul><li>如果组合可行，就不用考虑继承</li><li>如果私有继承🆗，不要使用public继承</li><li>如果类之间可以使用多张关系，就使用耦合最弱的一种</li><li>避免使用多重继承</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> C++基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>记录一个C++虚继承内存地址相关问题</title>
      <link href="posts/adb5.html"/>
      <url>posts/adb5.html</url>
      
        <content type="html"><![CDATA[<p><em>运行环境：64位win电脑</em></p><h4 id="贴出代码"><a href="#贴出代码" class="headerlink" title="贴出代码"></a>贴出代码</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">// 解决菱形继承问题</span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span>using std<span class="token punctuation">:</span><span class="token punctuation">:</span>cout<span class="token punctuation">;</span>using std<span class="token punctuation">:</span><span class="token punctuation">:</span>endl<span class="token punctuation">;</span>class A <span class="token punctuation">{</span>public<span class="token punctuation">:</span>    <span class="token keyword">int</span> a<span class="token punctuation">;</span> public<span class="token punctuation">:</span>    <span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"A constructor"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span>class A2 <span class="token punctuation">:</span> virtual public A<span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//在类的首地址生成一个虚基表指针，占8字节</span>public<span class="token punctuation">:</span>    <span class="token function">A2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"A2 constructor"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>class A1 <span class="token punctuation">:</span> virtual public A<span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//在类的首地址生成一个虚基表指针，占8字节</span>public<span class="token punctuation">:</span>    <span class="token function">A1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"A1 constructor"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 调用父类构造函数顺序？</span><span class="token comment" spellcheck="true">// 调用父类构造函数与父类继承顺序有关，析构顺序相反</span>class Derived <span class="token punctuation">:</span> virtual public A1<span class="token punctuation">,</span> virtual public A2 <span class="token punctuation">{</span>public<span class="token punctuation">:</span>    <span class="token function">Derived</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Derived constructor"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>A1<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>A2<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>Derived<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    A a<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Address a = "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Address a.a = "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>a<span class="token punctuation">.</span>a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    A1 a1<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Address a1 = "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>a1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Address a = "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>a1<span class="token punctuation">.</span>a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    A2 a2<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Address a2 = "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>a2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Address a = "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>a2<span class="token punctuation">.</span>a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    Derived d<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 问题一：为啥65行于68行输出地址相差8字节</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Address d = "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>d <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//问题二：为啥下面3行输出地址一样</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Address a = "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span>d<span class="token punctuation">.</span>a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>A1<span class="token punctuation">:</span><span class="token punctuation">:</span>a<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>A2<span class="token punctuation">:</span><span class="token punctuation">:</span>a<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="问题一"><a href="#问题一" class="headerlink" title="问题一"></a>问题一</h4><p><strong>当代码中class Derived : virtual public A1, virtual public A2{}改成class Derived : public A1, public A2{}的时候，会出现代码中的问题一，字节相差数量由8变成16，那么相差16我知道是存储了2个8字节的虚基表指针，相差8字节的话可以理解成存储1个8字节的虚基表指针吗？</strong></p><pre class=" language-tex"><code class="language-tex">但是sizeof(Derived)在代码改变前后一直不变为24.如果理解成存储1个8字节的虚基表指针，那么按照8字节对齐，为啥sizeof(Derived) = 24字节相差数量 = 16，可以理解存储了2个8字节的虚基表指针，最后8字节存储两个int</code></pre><h4 id="问题二：对于代码中，为啥出现下面问题"><a href="#问题二：对于代码中，为啥出现下面问题" class="headerlink" title="问题二：对于代码中，为啥出现下面问题"></a>问题二：对于代码中，为啥出现下面问题</h4><pre class=" language-tex"><code class="language-tex">    问题二：为啥下面3行输出地址一样    cout << "Address a = " << &d.a << endl;    cout << &(d.A1::a) << endl;    cout << &(d.A2::a) << endl;</code></pre><p><em>有待解决</em></p>]]></content>
      
      
      
        <tags>
            
            <tag> 问题 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++实现简单的分数类</title>
      <link href="posts/3e83.html"/>
      <url>posts/3e83.html</url>
      
        <content type="html"><![CDATA[<pre class=" language-c++"><code class="language-c++">#include <iostream>#include <algorithm>using std::cout;using std::endl;class Fraction{private:    int _molecule; //分子    int _denominator; // 分母    inline int gcd(int a, int b) {        return a ? gcd(b % a, a) : b;    }    inline int lcm(int a, int b) {        return a * b / gcd(a, b);    }public:    ~Fraction() {    }    Fraction() : _molecule(1), _denominator(1) {    }    // a / b    Fraction(int a, int b) : _molecule(a), _denominator(b) {            }    Fraction(const Fraction& f) : _molecule(f._molecule), _denominator(f._denominator){    }    //f1 + f2    Fraction operator+(const Fraction& f) {        int lc = lcm(f._denominator, _denominator);        Fraction f1{f._molecule * (lc / _denominator) + _molecule * (lc / f._denominator), lc};        int gc = gcd(f1._denominator, f1._molecule);        f1._denominator /= gc, f1._molecule /= gc;        return f1;    }    //f1 - f2    Fraction operator-(const Fraction& f) {        int lc = lcm(f._denominator, _denominator);        Fraction f1{_molecule * (lc / f._denominator) - f._molecule * (lc / _denominator), lc};        return f1;    }    // -f    Fraction operator-() {        Fraction f{-_molecule, _denominator};        return f;    }    // f1 = f    Fraction operator=(const Fraction& f) {        Fraction f1{f._molecule, f._denominator};        return f1;    }        // f1 /= a    Fraction& operator/=(int a) {        int gc = gcd(a, _molecule);        if (gc == 1) {            _denominator *= a;        } else {            _molecule /= gc;            _denominator *= a / gc;        }        return *this;    }     // f1 / a    Fraction operator/(int a) {        Fraction f{*this};        int gc = gcd(a, f._molecule);        if (gc == 1) {            f._denominator *= a;        } else {            f._molecule /= gc;            f._denominator *= a / gc;        }        return f;    }     // f1 *= a    Fraction& operator*=(int a) {        _molecule *= a;        int gc = gcd(_molecule, _denominator);        _molecule /= gc;        _denominator /= gc;        return *this;    }         //f1 * f2    Fraction operator*(const Fraction& f) {        Fraction f1{_molecule * f._molecule, _denominator * f._denominator};        int gc = gcd(f1._molecule, f1._denominator);        return (f1 /= gc);    }    // f1 == f2    bool operator==(const Fraction& f) const {        // _molecule * f._denominator == f._molecule * _denominator        return _molecule == f._molecule && _denominator == f._denominator;    }    // f1 < f2    bool operator<(const Fraction& f) const {        // a/c < b/d => ad < bc;        return _molecule * f._denominator < f._molecule * _denominator;    }    // f1 > f2    bool operator>(const Fraction& f) const {        // a/c > b/d => ad > bc;        return _molecule * f._denominator > f._molecule * _denominator;    }    friend std::ostream & operator<<(std::ostream& os, const Fraction& f) {        os << f._molecule << "/" << f._denominator;        return os;    }};int main() {    Fraction f1{1, 6};    Fraction f2{1, 4};    Fraction f3 = f2;    cout << &f3 << " " << &f2 << endl;    cout << f1 << endl;    cout << f2 << endl;    cout << f1 + f2 << endl;    cout << f1 * f2 << endl;    cout << -f1 << endl;    cout << (f1 + f2) / 2 << endl;    if (f1 == f2) {        cout << " equalin\n";    } else if (f1 < f2) {        cout << " smaller\n";    } else {        cout << "bigger\n";    }}</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> C++基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++实现简单的string</title>
      <link href="posts/23c6.html"/>
      <url>posts/23c6.html</url>
      
        <content type="html"><![CDATA[<pre class=" language-c++"><code class="language-c++">#include <iostream>#include <string.h>#include <stdlib.h>#include <string>using namespace std;  class MyString {private:        size_t _length;  // 字符串的长度    size_t _capcity; // 开辟的内存数组长度    char *_date;     // 开辟的内存的首地址public:    MyString():_date(nullptr), _length(0), _capcity(0) {        cout << "MyString constructor" << endl;    }    ~MyString() {        if (_date != nullptr) delete[] _date;        cout << "MyString destructor" << endl;    }    MyString(const char* s)    : _length(strlen(s))    , _capcity(_length + 1)    , _date{new char(_capcity)} {        strcpy(_date, s);        cout << "char* constructor" << endl;    }    MyString(const MyString& s)    : _length(s._length)    , _capcity(s._capcity)    , _date{new char(_capcity)} {        strcpy(_date, s._date);        cout << "copy constructor" << endl;    }public:    // 不写这个的话，s = "223423"，会发生    // s隐式转换为MyString类型，此时发生char *参数构造，生成个临时MyString类型数据    // 然后，进行下面哪个MyString operator= 操作，最后析构 临时MyString类型数据。    // 造成效率降低，增加内存消耗    MyString& operator=(const char* s) {        if (this->_date == s) return *this;        cout << "char* operator= overloading" << endl;        if (_date != nullptr) delete _date;        _length = strlen(s);        _capcity = _length + 1;        _date = new char(_capcity);        strcpy(_date, s);        return *this;    }    MyString& operator=(const MyString& s) {        if (this == &s) return *this;        cout << "MyString operator= overloading" << endl;        if (_date != nullptr) delete[] _date;        _length = strlen(s._date);        _capcity = _length + 1;        _date = new char(_capcity);        strcpy(_date, s._date);           return *this;    }       MyString& operator+=(const char* s) {        if (_date != nullptr) {            size_t lenS = strlen(s);            while (lenS + _length >= _capcity) _capcity <<= 1;                        char *p = (char *)realloc(_date, _capcity);            if (p != nullptr) {                _date = p;            } else {                p = (char *)malloc(_capcity);                strncpy(p, _date, _length);                delete[] _date; //释放原来数据                _date = p;            }            strncpy(_date + _length, s, lenS);            _length += lenS;            _date[_length] = '\0';        } else {            _length = strlen(s);            _date = new char(_length + 1);            _capcity = _length + 1;            strcpy(_date, s);            _date[_length] = '\0';        }        return *this;    }    MyString& operator+=(const MyString& s) {        return (*this) += s._date;    }    char& operator[](size_t ind) {        return _date[ind];    }    MyString operator+(const char* s) {        return MyString{(*this += s)};    }    MyString operator+(const MyString& s) {        return MyString{(*this += s)};    }    friend ostream& operator<<(ostream& os, const MyString& s) {        os << "string = " << s._date;        return os;    }};void test() {    // 参数构造    MyString s1{"123"};     cout << s1 << endl;    // 拷贝构造    MyString s2 = s1;    MyString s3{s2};    cout << s2 << endl;    cout << s3 << endl;    s1 = "32dhjskdfhsj";    cout << s1 << endl;    s1 = "32dhjs674563453kdfhsj";    cout << s1 << endl;    s1 = s2;    cout << s1 << endl;    s1 += "234234";    cout << s1 << endl;    s1 += s2;    cout << s1 << endl;       cout << s1 + s2 << endl; //会发生析构    s1[5] = 'G';    cout << s1 << endl;        s1 = s1;    cout << s1 << endl;    return  ; }int main() {    test();    return 0;}</code></pre><p><strong>添加左值与右值</strong></p><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string></span></span>using namespace std<span class="token punctuation">;</span>  class MyString <span class="token punctuation">{</span>private<span class="token punctuation">:</span>        size_t _length<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// 字符串的长度</span>    size_t _capcity<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 开辟的内存数组长度</span>    <span class="token keyword">char</span> <span class="token operator">*</span>_date<span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">// 开辟的内存的首地址</span>public<span class="token punctuation">:</span>    <span class="token function">MyString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token function">_date</span><span class="token punctuation">(</span>nullptr<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_length</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">_capcity</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"MyString constructor"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token operator">~</span><span class="token function">MyString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>_date <span class="token operator">!=</span> nullptr<span class="token punctuation">)</span> delete<span class="token punctuation">[</span><span class="token punctuation">]</span> _date<span class="token punctuation">;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"MyString destructor"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">MyString</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> s<span class="token punctuation">)</span>    <span class="token punctuation">:</span> <span class="token function">_length</span><span class="token punctuation">(</span><span class="token function">strlen</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">,</span> <span class="token function">_capcity</span><span class="token punctuation">(</span>_length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>    <span class="token punctuation">,</span> _date<span class="token punctuation">{</span>new <span class="token keyword">char</span><span class="token punctuation">(</span>_capcity<span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token punctuation">{</span>        <span class="token function">strcpy</span><span class="token punctuation">(</span>_date<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"char* constructor"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">MyString</span><span class="token punctuation">(</span><span class="token keyword">const</span> MyString<span class="token operator">&amp;</span> s<span class="token punctuation">)</span>    <span class="token punctuation">:</span> <span class="token function">_length</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>_length<span class="token punctuation">)</span>    <span class="token punctuation">,</span> <span class="token function">_capcity</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>_capcity<span class="token punctuation">)</span>    <span class="token punctuation">,</span> _date<span class="token punctuation">{</span>new <span class="token keyword">char</span><span class="token punctuation">(</span>_capcity<span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token punctuation">{</span>        <span class="token function">strcpy</span><span class="token punctuation">(</span>_date<span class="token punctuation">,</span> s<span class="token punctuation">.</span>_date<span class="token punctuation">)</span><span class="token punctuation">;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"copy constructor"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">MyString</span><span class="token punctuation">(</span>MyString<span class="token operator">&amp;&amp;</span> s<span class="token punctuation">)</span>    <span class="token punctuation">:</span> <span class="token function">_length</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>_length<span class="token punctuation">)</span>    <span class="token punctuation">,</span> <span class="token function">_capcity</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>_capcity<span class="token punctuation">)</span> <span class="token punctuation">{</span>        _date <span class="token operator">=</span> s<span class="token punctuation">.</span>_date<span class="token punctuation">;</span>        s<span class="token punctuation">.</span>_date <span class="token operator">=</span> nullptr<span class="token punctuation">;</span>        s<span class="token punctuation">.</span>_length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        s<span class="token punctuation">.</span>_capcity <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"constructor &amp;&amp;"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">}</span>public<span class="token punctuation">:</span>    <span class="token comment" spellcheck="true">// 不写这个的话，s = "223423"，会发生</span>    <span class="token comment" spellcheck="true">// s隐式转换为MyString类型，此时发生char *参数构造，生成个临时MyString类型数据</span>    <span class="token comment" spellcheck="true">// 然后，进行下面哪个MyString operator= 操作，最后析构 临时MyString类型数据。</span>    <span class="token comment" spellcheck="true">// 造成效率降低，增加内存消耗</span>    MyString<span class="token operator">&amp;</span> operator<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>this<span class="token operator">-></span>_date <span class="token operator">==</span> s<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">*</span>this<span class="token punctuation">;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"char* operator= overloading"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>_date <span class="token operator">!=</span> nullptr<span class="token punctuation">)</span> delete _date<span class="token punctuation">;</span>        _length <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>        _capcity <span class="token operator">=</span> _length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>        _date <span class="token operator">=</span> new <span class="token keyword">char</span><span class="token punctuation">(</span>_capcity<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">strcpy</span><span class="token punctuation">(</span>_date<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token operator">*</span>this<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    MyString<span class="token operator">&amp;</span> operator<span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> MyString<span class="token operator">&amp;</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>this <span class="token operator">==</span> <span class="token operator">&amp;</span>s<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">*</span>this<span class="token punctuation">;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"MyString operator= overloading"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>_date <span class="token operator">!=</span> nullptr<span class="token punctuation">)</span> delete<span class="token punctuation">[</span><span class="token punctuation">]</span> _date<span class="token punctuation">;</span>        _length <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>_date<span class="token punctuation">)</span><span class="token punctuation">;</span>        _capcity <span class="token operator">=</span> _length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>        _date <span class="token operator">=</span> new <span class="token keyword">char</span><span class="token punctuation">(</span>_capcity<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">strcpy</span><span class="token punctuation">(</span>_date<span class="token punctuation">,</span> s<span class="token punctuation">.</span>_date<span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token keyword">return</span> <span class="token operator">*</span>this<span class="token punctuation">;</span>    <span class="token punctuation">}</span>       MyString<span class="token operator">&amp;</span> operator<span class="token operator">=</span><span class="token punctuation">(</span>MyString<span class="token operator">&amp;&amp;</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>this <span class="token operator">==</span> <span class="token operator">&amp;</span>s<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">*</span>this<span class="token punctuation">;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"MyString&amp;&amp; operator= overloading"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>_date <span class="token operator">!=</span> nullptr<span class="token punctuation">)</span> delete<span class="token punctuation">[</span><span class="token punctuation">]</span> _date<span class="token punctuation">;</span>        _length <span class="token operator">=</span> s<span class="token punctuation">.</span>_length<span class="token punctuation">;</span>        _capcity <span class="token operator">=</span> s<span class="token punctuation">.</span>_capcity<span class="token punctuation">;</span>        _date <span class="token operator">=</span> s<span class="token punctuation">.</span>_date<span class="token punctuation">;</span>        s<span class="token punctuation">.</span>_length <span class="token operator">=</span> s<span class="token punctuation">.</span>_capcity <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        s<span class="token punctuation">.</span>_date <span class="token operator">=</span> nullptr<span class="token punctuation">;</span>          <span class="token keyword">return</span> <span class="token operator">*</span>this<span class="token punctuation">;</span>    <span class="token punctuation">}</span>       MyString<span class="token operator">&amp;</span> operator<span class="token operator">+</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>_date <span class="token operator">!=</span> nullptr<span class="token punctuation">)</span> <span class="token punctuation">{</span>            size_t lenS <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span>lenS <span class="token operator">+</span> _length <span class="token operator">>=</span> _capcity<span class="token punctuation">)</span> _capcity <span class="token operator">&lt;&lt;=</span> <span class="token number">1</span><span class="token punctuation">;</span>                        <span class="token keyword">char</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">realloc</span><span class="token punctuation">(</span>_date<span class="token punctuation">,</span> _capcity<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> nullptr<span class="token punctuation">)</span> <span class="token punctuation">{</span>                _date <span class="token operator">=</span> p<span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span>_capcity<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token function">strncpy</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> _date<span class="token punctuation">,</span> _length<span class="token punctuation">)</span><span class="token punctuation">;</span>                delete<span class="token punctuation">[</span><span class="token punctuation">]</span> _date<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//释放原来数据</span>                _date <span class="token operator">=</span> p<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token function">strncpy</span><span class="token punctuation">(</span>_date <span class="token operator">+</span> _length<span class="token punctuation">,</span> s<span class="token punctuation">,</span> lenS<span class="token punctuation">)</span><span class="token punctuation">;</span>            _length <span class="token operator">+</span><span class="token operator">=</span> lenS<span class="token punctuation">;</span>            _date<span class="token punctuation">[</span>_length<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'\0'</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            _length <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>            _date <span class="token operator">=</span> new <span class="token keyword">char</span><span class="token punctuation">(</span>_length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            _capcity <span class="token operator">=</span> _length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token function">strcpy</span><span class="token punctuation">(</span>_date<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>            _date<span class="token punctuation">[</span>_length<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'\0'</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token operator">*</span>this<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    MyString<span class="token operator">&amp;</span> operator<span class="token operator">+</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">const</span> MyString<span class="token operator">&amp;</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">*</span>this<span class="token punctuation">)</span> <span class="token operator">+</span><span class="token operator">=</span> s<span class="token punctuation">.</span>_date<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">char</span><span class="token operator">&amp;</span> operator<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span>size_t ind<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> _date<span class="token punctuation">[</span>ind<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    MyString operator<span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> MyString<span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token operator">*</span>this <span class="token operator">+</span><span class="token operator">=</span> s<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    MyString operator<span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword">const</span> MyString<span class="token operator">&amp;</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> MyString<span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token operator">*</span>this <span class="token operator">+</span><span class="token operator">=</span> s<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    friend ostream<span class="token operator">&amp;</span> operator<span class="token operator">&lt;&lt;</span><span class="token punctuation">(</span>ostream<span class="token operator">&amp;</span> os<span class="token punctuation">,</span> <span class="token keyword">const</span> MyString<span class="token operator">&amp;</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>        os <span class="token operator">&lt;&lt;</span> <span class="token string">"string = "</span> <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span>_date<span class="token punctuation">;</span>        <span class="token keyword">return</span> os<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// 参数构造</span>    MyString s1<span class="token punctuation">{</span><span class="token string">"123"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>     cout <span class="token operator">&lt;&lt;</span> s1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 拷贝构造</span>    MyString s2 <span class="token operator">=</span> s1<span class="token punctuation">;</span>    MyString s3<span class="token punctuation">{</span>s2<span class="token punctuation">}</span><span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> s2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> s3 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    s1 <span class="token operator">=</span> <span class="token string">"32dhjs674563453kdfhsj"</span><span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> s1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    s1 <span class="token operator">=</span> s2<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> s1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    s1 <span class="token operator">+</span><span class="token operator">=</span> <span class="token string">"234234"</span><span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> s1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    s1 <span class="token operator">+</span><span class="token operator">=</span> s2<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> s1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>       cout <span class="token operator">&lt;&lt;</span> s1 <span class="token operator">+</span> s2 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//会发生析构</span>    s1<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'G'</span><span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> s1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        s1 <span class="token operator">=</span> s1<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> s1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    s1 <span class="token operator">=</span> s2 <span class="token operator">=</span> s3<span class="token punctuation">;</span>    <span class="token keyword">return</span>  <span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//test();</span>    MyString s<span class="token punctuation">{</span><span class="token string">"ffv2"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    MyString s1<span class="token punctuation">{</span><span class="token function">move</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>        cout <span class="token operator">&lt;&lt;</span> s1 <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        s <span class="token operator">=</span> <span class="token function">move</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> s <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> C++基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++多态与重载</title>
      <link href="posts/aade.html"/>
      <url>posts/aade.html</url>
      
        <content type="html"><![CDATA[<h3 id="重载"><a href="#重载" class="headerlink" title="重载"></a>重载</h3><h4 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h4><pre class=" language-tex"><code class="language-tex"><返回值类型> operator<重载的运算符> (<参数列表>) {// 函数体}</code></pre><h4 id="不能重载的运算符"><a href="#不能重载的运算符" class="headerlink" title="不能重载的运算符"></a>不能重载的运算符</h4><ul><li>? : 条件运算符</li><li>.(成员访问运算符)</li><li>*(成员指针访问运算符)</li><li>::(域运算符)</li><li>sizeof(sizeof是运算符，不是函数)</li></ul><h3 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h3><ul><li>多态按字面的意思就是多种形态，相同的方法调用，但是有不同的实现方式。</li><li>多态性可以简单地概括为“一个接口，多种方法”。</li><li>C++有两种多态形式：</li><li><ul><li>静态多态</li><li>动态多态</li></ul></li></ul><h4 id="静态多态"><a href="#静态多态" class="headerlink" title="静态多态"></a>静态多态</h4><ul><li>也称为编译期间的多态，编译器在编译期间完成的，编译器根据函数实参的类型(可能会进行隐式类型转换)，可推断出要调用那个函数，如果有对应的函数就调用该函数，否则出现编译错误。</li><li>静态多态有两种实现方式</li><li><ul><li>函数重载：包括普通函数的重载和成员函数的重载</li><li>函数模板的使用</li><li>宏的使用</li></ul></li></ul><h4 id="动态多态"><a href="#动态多态" class="headerlink" title="动态多态"></a>动态多态</h4><ul><li>动态多态（动态绑定）：即运行时的多态，在程序执行期间(非编译期)判断所引用对象的实际类型，根据其实际类型调用相应的方法。</li></ul><h3 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h3><pre class=" language-c++"><code class="language-c++">#include <iostream>using namespace std;class Point {private:    float _x, _y;public:    Point() : _x(0), _y(0) {    }    Point(float x, float y) : _x(x), _y(y) {    }    // 多态实现    // 成员函数重载    void print(int n) { //5printi        cout << "int :" << "_x = " << (int)_x << ", _y = " << (int)_y << endl;    }    void print(float n) { //5printf        cout << "float :" << "_x = " << _x << ", _y = " << _y << endl;    }    void print(float, int) { // 5printfi    }    void print(float, float) { // 5printff    }    void print(int, int) { // 5printii    }    void print(int, float) { // 5printif    }    // +    Point operator+ (const Point& p) {        return Point{_x + p._x, _y + p._y};    }    // +    Point operator- (const Point& p) {        return Point{_x - p._x, _y - p._y};    }    // p++    Point operator++ (int) {        Point p{_x, _y};        _x += 1.0f;        _y += 1.0f;        return p;    }    // ++p    Point& operator++ () {        _x += 1.0f;        _y += 1.0f;        return *this;    }    // p--    Point operator-- (int) {        Point p{_x, _y};        _x -= 1.0f;        _y -= 1.0f;        return p;    }    // --p    Point& operator-- () {        _x -= 1.0f;        _y -= 1.0f;        return *this;    }    // +=    Point& operator+= (const Point& p) {        _x += p._x;        _y += p._y;        return *this;    }    // -=    Point& operator-= (const Point& p) {        _x -= p._x;        _y -= p._y;        return *this;    }    // *=    Point& operator*= (const Point& p) {        _x *= p._x;        _y *= p._y;        return *this;    }    // /=    Point& operator/= (const Point& p) {        _x /= p._x;        _y /= p._y;        return *this;    }    float operator*(const Point& p) {        return _x * p._x + _y * p._y;    }    friend ostream & operator<<(ostream& os, const Point& p) {        os << "_x = " << p._x << ", _y = " << p._y;        return os;    }    friend void print(const Point& p, int n);    friend void print(const Point& p, float n);};// 普通函数重载void print(const Point& p, int n) { //5printi    cout << "_x = " << (int)p._x << ", _y = " << (int)p._y << endl;}void print(const Point& p, float n) { //5printf    cout << "_x = " << p._x << ", _y = " << p._y << endl;}int main() {    Point p1{1.2f, 2.3f}, p2{2.4f, 5.2f};        p1.print(1);    p2.print(1.0f);    print(p1, 1);    print(p2, 1.0f);    // p1.print(1.0); //报错     // 1.0是double类型，编译器隐式转换为int类型或者float类型，但是转换为int与float相同，报错    cout << p1 << p2 << endl;    cout << typeid(p1).name() << endl;    cout << p1 + p2 << endl; //(3.6, 7.5)    cout << p1 - p2 << endl; //(-1.3, -2.9)    cout << ++p1 << endl; // (1.2, 2.3) => (2.2, 3.3)    cout << p1++ << endl; // (2.2, 3.3) => (3.2, 4.3)    cout << --p2 << endl; // (2.4, 5.2) => (1.4, 4.2)    cout << p2-- << endl; // (1.4, 4.2) => (0.2, 3.2)    cout << p1 * p2 << endl; // (3.2, 4.3) * (0.2, 3.2) = 15.04    return 0;}</code></pre><h4 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h4><h4 id="静态多态与动态多态的区别？"><a href="#静态多态与动态多态的区别？" class="headerlink" title="静态多态与动态多态的区别？"></a>静态多态与动态多态的区别？</h4>]]></content>
      
      
      
        <tags>
            
            <tag> C++基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++之声明、定义、初始化与赋值</title>
      <link href="posts/8fdc.html"/>
      <url>posts/8fdc.html</url>
      
        <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><ul><li>区分声明和定义可以让C++支持分开编译</li><li>声明常常见于头文件中</li></ul><h3 id="声明-Declaration"><a href="#声明-Declaration" class="headerlink" title="声明(Declaration)"></a>声明(Declaration)</h3><ul><li>声明是向编译器介绍名字－－标识符。它告诉编译器“<strong>这个函数或变量在某处可找到，它的模样象什么”。</strong></li></ul><h4 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h4><ul><li>只是规定了变量的类型和名字，而<strong>没有进行内存分配</strong>。</li></ul><h4 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h4><pre class=" language-c++"><code class="language-c++">extern int i; // 声明declarationint j; // 声明并定义jextern double pi = 3.1416; // 定义definition</code></pre><h3 id="定义definition"><a href="#定义definition" class="headerlink" title="定义definition"></a>定义definition</h3><ul><li><p>定义是说：“<strong>在这里建立变量”或“在这里建立函数”。它为名字分配存储空间</strong>。无论定义的是函数还是变量，编译器都要为它们在定义点分配存储空间。</p></li><li><p>不仅规定了变量的类型和名字，而且<strong>进行了内存分配</strong>，也<strong>可能</strong>会对量进行初始化。</p></li></ul><h3 id="初始化initialization"><a href="#初始化initialization" class="headerlink" title="初始化initialization"></a>初始化initialization</h3><ul><li>初始化是在对象创建期获得一个默认值，并不是赋值。</li><li>在函数外部定义的全局变量(global variable)，函数内部定义的局部静态变量(local static object)全部初始化为0。</li><li>函数内部定义的局部变量，以及类中不在初始化成员列表和构造函数里体的成员变量都是未初始化的</li></ul><pre class=" language-c++"><code class="language-c++">#include <iostream> using namespace std; class Box {   friend int main();public:   // 默认构造函数   Box() : _i(1), _j(20) {      // 函数体内部赋值为二次赋值   }   // 不能给i和j配默认值，即不能这样写：Box(int i = 0, j = 0)，会与默认构造函数冲突   Box(int i, int j) : _i(i), _j(j) {   }private:   int _i;   int _j;   // 声明   static int count1; // 非const类型的静态类成员必须类外初始化   static int count2; // 非const类型的静态类成员必须类外初始化   static int count3; // 非const类型的静态类成员必须类外初始化   const static int avg = 0; // const静态类成员可以直接初始化};int Box::count1{5}; //初始化int Box::count2(2); //初始化int Box::count3; //默认初始化为0int i; // 初始化为0int main(void) {   Box b; // 调用默认构造初始化了   int j; //没有初始化   cout << i << " " << j << endl;   cout << b._i << " " << b._j << endl;   cout << "count1 = " << Box::count1 << endl;   cout << "count2 = " << Box::count2 << endl;   cout << "count3 = " << Box::count3 << endl;   cout << "avg = " << Box::avg << endl;   return 0;}</code></pre><h3 id="赋值assignment"><a href="#赋值assignment" class="headerlink" title="赋值assignment"></a>赋值assignment</h3><ul><li><strong>擦除</strong>原有的值，并赋予<strong>新值</strong>。</li><li>= 即为赋值</li></ul><h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><ul><li><p><strong>内联函数的声明和定义需要在同一个文件里，否则无法通过编译。</strong></p></li><li><p>类的定义可以放到头文件中</p></li><li><p>值在编译时就已知的const 变量的定义可以放到头文件中<br>如：const int num（10）;</p></li><li><p>C++中变量的定义必须有且仅有一次，而变量的声明可以多次。</p></li><li><p>类的静态函数成员可以在类内部或者外部定义，而静态数据成员(const除外)则只能在外部定义以及初始化</p></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> C++基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++类方法与类属性</title>
      <link href="posts/f9b1.html"/>
      <url>posts/f9b1.html</url>
      
        <content type="html"><![CDATA[<h3 id="类属性（静态变量成员）"><a href="#类属性（静态变量成员）" class="headerlink" title="类属性（静态变量成员）"></a>类属性（静态变量成员）</h3><ul><li>static修饰的变量</li><li>非const修饰static类型的变量只能类外定义初始化，只能在类内声明</li><li>const修饰的数据必须初始化</li></ul><h3 id="类方法（静态函数成员）"><a href="#类方法（静态函数成员）" class="headerlink" title="类方法（静态函数成员）"></a>类方法（静态函数成员）</h3><ul><li>static修饰的方法</li><li>类方法只能访问修改类属性</li></ul><h3 id="为什么要用得静态成员变量和静态成员函数"><a href="#为什么要用得静态成员变量和静态成员函数" class="headerlink" title="为什么要用得静态成员变量和静态成员函数"></a><strong>为什么要用得静态成员变量和静态成员函数</strong></h3><ul><li>为了实现共享。因为静态成员函数和静态成员变量属于类，不属于类的实体，这样可以被多个对象所共享</li></ul><h3 id="静态成员的作用、优点"><a href="#静态成员的作用、优点" class="headerlink" title="静态成员的作用、优点"></a><strong>静态成员的作用、优点</strong></h3><ul><li>静态成员函数主要为了调用方便，不需要生成对象就能调用</li></ul><h3 id="静态成员函数与非静态成员函数的区别"><a href="#静态成员函数与非静态成员函数的区别" class="headerlink" title="静态成员函数与非静态成员函数的区别"></a><strong>静态成员函数与非静态成员函数的区别</strong></h3><ul><li>类的静态成员(数据成员和函数成员)为类本身所有，在类加载的时候就会分配内存，可以通过类名直接访问；非静态成员(数据成员和函数成员)属于类的实例所有，所以只有在创建类的实例的时候才会分配内存，并通过实例去访问。</li></ul><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><ul><li>static修饰的变量存储在静态区，只属于类，</li><li>类的静态数据成员是静态存储，它是静态生存周期，必须进行初始化。</li><li>静态数据成员的初始化在类体外进行，前面不加static以免与一般静态变量或者对象混淆。</li><li>要访问类的非静态成员可以通过对象来实现。</li><li>静态成员函数不能访问非静态成员</li><li>类对象可以调用静态成员，且可以修改静态变量成员</li></ul><pre class=" language-c++"><code class="language-c++">#include <iostream> using namespace std; class Box {   friend int main();public:   // 默认构造函数   Box() : _i(1), _j(20) {      // 函数体内部赋值为二次赋值   }   // 不能给i和j配默认值，即不能这样写：Box(int i = 0, j = 0)，会与默认构造函数冲突   Box(int i, int j) : _i(i), _j(j) {   }private:   int _i;   int _j;   // 声明   static int count1; // 非const类型的静态类成员必须类外初始化   static int count2; // 非const类型的静态类成员必须类外初始化   static int count3; // 非const类型的静态类成员必须类外初始化   const static int avg = 0; // const静态类成员可以直接初始化   static int getCount() {         // _i += _j; //报错      return count1;   }   };int Box::count1{5}; //初始化int Box::count2(2); //初始化int Box::count3; //默认初始化为0int i; // 初始化为0int main(void) {   Box b; // 调用默认构造初始化了   int j; //没有初始化   cout << i << " " << j << endl;   cout << b._i << " " << b._j << endl;   cout << "count1 = " << Box::count1 << endl;   cout << "count2 = " << Box::count2 << endl;   cout << "count3 = " << Box::count3 << endl;   cout << "avg = " << Box::avg << endl;   cout << b.count1 << endl;   b.count1 += 1;   cout << b.count1 << endl;   return 0;}</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> C++基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++之const</title>
      <link href="posts/e664.html"/>
      <url>posts/e664.html</url>
      
        <content type="html"><![CDATA[<h3 id="常方法"><a href="#常方法" class="headerlink" title="常方法"></a>常方法</h3><ul><li>在普通成员函数后面加const修饰 ，就是成员函数了</li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://img-blog.csdnimg.cn/20210409144517261.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl81MDg4NjUxNA==,size_16,color_FFFFFF,t_70"></p><ul><li>常方法可以访问对象中的常成员，也可以访问普通成员</li><li>常方法不允许修改任何数据</li><li>常方法可以修改mutable修饰的数据</li></ul><pre class=" language-c++"><code class="language-c++">#include <iostream>#include <algorithm>#include <string.h>#include <vector>#ifndef _MSC_VER#define strcpy_s(DST,SIZE,SRC) strcpy((DST),(SRC))#endifusing namespace std;class People{private:    double height;    double weight;    // mutable 表示该变量易变，可以被常方法修改    mutable int age;    // const类型数据只能在构造函数初始化列表初始化    const int score;    char *name;public:    // 常方法    // const修饰的方法    char *getName() const {        addAge();        return name;    }    // void addAge(const People* const this);    void addAge() const {        age++;    }        People()    : name{ new char(20) }    , score(0)    , age(18)    , height(180)    , weight(65) {        strcpy_s(name, 20, "Axieyun");    }};</code></pre><h3 id="常数据"><a href="#常数据" class="headerlink" title="常数据"></a>常数据</h3><ul><li><p>const修饰的类型定义时必须赋值也就是初始化，在类中定义时，在参数列表初始化</p></li><li><p>即，不能先定义，后赋值</p></li><li><ul><li><pre class=" language-c"><code class="language-c"><span class="token keyword">const</span> <span class="token keyword">int</span> a<span class="token punctuation">;</span>a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 错误</span></code></pre></li></ul></li><li><p>应该这样</p></li><li><ul><li><pre class=" language-c"><code class="language-c"><span class="token keyword">const</span> <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//正确</span></code></pre></li></ul></li></ul><h4 id="使用情况（修饰指针）"><a href="#使用情况（修饰指针）" class="headerlink" title="使用情况（修饰指针）"></a>使用情况（修饰指针）</h4><ul><li><p>const int *p与int const *p等价：说明不能通过修改<code>*p</code>来修改p指向的值</p></li><li><ul><li>即，不能</li></ul></li><li><ul><li><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//不能这样</span></code></pre></li><li><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token operator">&amp;</span>b<span class="token punctuation">;</span>p <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 可以这样</span></code></pre></li></ul></li><li><p>int * const p: 说明不能修改p的值（地址）</p></li><li><ul><li><p>即，不能</p></li><li><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token operator">*</span> <span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token operator">&amp;</span>b<span class="token punctuation">;</span>p <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 不可以这样</span></code></pre></li><li><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token operator">*</span> <span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token operator">*</span>p<span class="token punctuation">)</span><span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//可以这样</span></code></pre></li></ul></li><li><p>const int * const p ：说明两种情况都不行</p></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> C++基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>构造与析构</title>
      <link href="posts/3bd.html"/>
      <url>posts/3bd.html</url>
      
        <content type="html"><![CDATA[<h3 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h3><ul><li>类的一种特殊的成员函数</li><li>它会在每次创建类的新对象时执行</li><li>名字与类名相同，没有任何返回值</li></ul><h5 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h5><ul><li>用于为某些成员变量设置初始值</li></ul><h4 id="默认构造"><a href="#默认构造" class="headerlink" title="默认构造"></a>默认构造</h4><ul><li><p>没有参数的构造</p></li><li><p>类存在有参构造函数时，编译器不会自动添加默认构造函数，这时想要编译器添加默认构造函数，解决：<strong>People() = default;</strong></p></li><li><pre class=" language-c++"><code class="language-c++">class People{private:    string name;    int age;public:    // 默认构造    People() = default; //让编译器自动添加默认构造函数    // People() = delete; //该构造函数不能使用    People(string newName) {        name = newName;        age = 18;    }    People(int newAge) {        name = "People";        age = newAge;    }    People(string newName, int newAge) {        name = newName;        age = newAge;    }};</code></pre></li></ul><pre class=" language-c++"><code class="language-c++">class People{private:    string name;    int age;public:    // 默认构造    People();};</code></pre><h4 id="有参构造"><a href="#有参构造" class="headerlink" title="有参构造"></a>有参构造</h4><ul><li>有参数的构造</li></ul><pre class=" language-c++"><code class="language-c++">#include <iostream>#include <string>using std::cout;using std::endl;using std::string;class People{private:    string name;    int age;public:    // 默认构造    People() {        name = "People";        age = 18;   }   // 显性 explicit   // 隐式 implicit   explicit People(string newName) {        name = newName;        age = 18;    }    People(int newAge) {        name = "People";        age = newAge;    }    People(string newName, int newAge) {        name = newName;        age = newAge;    }};int main() {   return 0;}</code></pre><p><strong>注意：</strong></p><ul><li>不能存在参数类型顺序相同的构造函数</li><li>即People(int a) 与 People(int b) 有且只能存在一个；</li><li>只有一个参数时，编译器默认进行隐式转换</li></ul><h4 id="拷贝构造函数"><a href="#拷贝构造函数" class="headerlink" title="拷贝构造函数"></a>拷贝构造函数</h4><ul><li>拷贝构造函数不写的话，编译器自动生成一个浅拷贝的拷贝构造函数</li></ul><pre class=" language-c++"><code class="language-c++">class People{private:    string name;    int age;public:    // 默认构造    People() {        name = "People";        age = 18;    }    // 有参构造函数    People(string newName) {        name = newName;        age = 18;    }    People(int newAge) {        name = "People";        age = newAge;    }    People(string newName, int newAge) {        name = newName;        age = newAge;    }    // 拷贝构造    People(const People& p) {        name = p.name;        age = p.age;    }};</code></pre><h5 id="为啥传const类型的引用？"><a href="#为啥传const类型的引用？" class="headerlink" title="为啥传const类型的引用？"></a>为啥传const类型的引用？</h5><ul><li>引用的C++底层原理为const类型的指针, 不能先定义后赋值；</li><li>值传递会造成拷贝构造函数死循环。</li></ul><h4 id="参数初始化列表"><a href="#参数初始化列表" class="headerlink" title="参数初始化列表"></a>参数初始化列表</h4><h5 id="意义与作用"><a href="#意义与作用" class="headerlink" title="意义与作用"></a>意义与作用</h5><ul><li>引用参数初始化列表, 没有进入函数体内部</li><li>直接调用name的构造有参构造函数</li><li>进入函数体内部前，初始化完成。</li><li>写在函数体内部时</li><li><ul><li>第一步调用name的默认构造函数初始化；</li><li>第二步调用string operator= 的操作符重载函数；</li></ul></li></ul><p><strong>代码1测试</strong></p><pre class=" language-c++"><code class="language-c++">#include <iostream>using namespace std;class Point{private:    float x, y;public:    ~Point() {        cout << "Point析构" << endl;    }    Point() : x(0), y(0) {        cout << "Point默认构造" << endl;    }    Point(float xy) : x(xy), y(x) {        cout << "Point一个参数的构造" << endl;    }    Point(float x, float y) : x(x), y(y) {        cout << "Point两个参数的构造" << endl;    }    Point(const Point& p) : x(p.x), y(p.y) {        cout << "Point拷贝构造" << endl;    }    Point& operator=(const Point& p) {        cout << "赋值运算符重载";        if (this != &p) {            this->x = p.x;            this->y = p.y;            cout << ", ..., 赋值运算符重载成功!" << endl;        }        return *this;    }};class Line{private:    Point p1, p2;public:    ~Line() {        cout << "Line析构" << endl;    }    Line() : p1{0, 0}, p2{0, 0} {        cout << "Line的默认构造" << endl;    }    Line(const Point& p) : p1(p), p2(p1) {        cout << "Line的一个参数的构造" << endl;    }    // 发生两次Point的拷贝构造，一次Line的拷贝构造    // Line(const Point& p1, const Point& p2) : p1(p1), p2(p2) {    //     cout << "Line的两个参数的构造" << endl;    // }    Line(const Point& p1, const Point& p2) {        cout << "Line的两个参数的构造开始" << endl;        this->p1 = p1;        this->p2 = p2;        cout << "Line的两个参数的构造完成" << endl;    }    Line(const Line& l) : p1(l.p1), p2(l.p2) {        cout << "Line拷贝构造" << endl;    }};int main() {    Point p1(1.1f, 2.3f), p2(1.2f, 2.3f);    cout << "&&&&&&&&&&&&&&&&&&" << endl;    Line l(p1, p2);    cout << "&&&&&&&&&&&&&&&&&&" << endl;    Line l1;    return 0;}</code></pre><p><strong>代码2测试</strong></p><pre class=" language-c++"><code class="language-c++">#include <iostream>using namespace std;class Point{private:    float x, y;public:    ~Point() {        cout << "Point析构" << endl;    }    Point() : x(0), y(0) {        cout << "Point默认构造" << endl;    }    Point(float xy) : x(xy), y(x) {        cout << "Point一个参数的构造" << endl;    }    Point(float x, float y) : x(x), y(y) {        cout << "Point两个参数的构造" << endl;    }    Point(const Point& p) : x(p.x), y(p.y) {        cout << "Point拷贝构造" << endl;    }    Point& operator=(const Point& p) {        cout << "赋值运算符重载";        if (this != &p) {            this->x = p.x;            this->y = p.y;            cout << ", ..., 赋值运算符重载成功!" << endl;        }        return *this;    }};class Line{private:    Point p1, p2;public:    ~Line() {        cout << "Line析构" << endl;    }    Line() : p1{0, 0}, p2{0, 0} {        cout << "Line的默认构造" << endl;    }    Line(const Point& p) : p1(p), p2(p1) {        cout << "Line的一个参数的构造" << endl;    }    // 发生两次Point的拷贝构造，一次Line的拷贝构造    Line(const Point& p1, const Point& p2) : p1(p1), p2(p2) {        cout << "Line的两个参数的构造" << endl;    }    // Line(const Point& p1, const Point& p2) {    //     cout << "Line的两个参数的构造开始" << endl;    //     this->p1 = p1;    //     this->p2 = p2;    //     cout << "Line的两个参数的构造完成" << endl;    // }    Line(const Line& l) : p1(l.p1), p2(l.p2) {        cout << "Line拷贝构造" << endl;    }};int main() {    Point p1(1.1f, 2.3f), p2(1.2f, 2.3f);    cout << "&&&&&&&&&&&&&&&&&&" << endl;    Line l(p1, p2);    cout << "&&&&&&&&&&&&&&&&&&" << endl;    Line l1;    return 0;}</code></pre><p><strong>测试结果</strong></p><pre class=" language-apl"><code class="language-apl"><span class="token number">1</span>、代码<span class="token number">1</span>测试结果Point两个参数的构造Point两个参数的构造<span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span>Point默认构造Point默认构造Line的两个参数的构造开始赋值运算符重载<span class="token function">,</span> <span class="token dyadic-operator operator">.</span><span class="token dyadic-operator operator">.</span><span class="token dyadic-operator operator">.</span><span class="token function">,</span> 赋值运算符重载成功<span class="token function">!</span>赋值运算符重载<span class="token function">,</span> <span class="token dyadic-operator operator">.</span><span class="token dyadic-operator operator">.</span><span class="token dyadic-operator operator">.</span><span class="token function">,</span> 赋值运算符重载成功<span class="token function">!</span>Line的两个参数的构造完成<span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span>Point两个参数的构造Point两个参数的构造Line的默认构造Line析构Point析构Point析构Line析构Point析构Point析构Point析构Point析构<span class="token number">2</span>、代码二测试结果Point两个参数的构造Point两个参数的构造<span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span>Point拷贝构造Point拷贝构造Line的两个参数的构造<span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span><span class="token monadic-operator operator">&amp;</span>Point两个参数的构造Point两个参数的构造Line的默认构造Line析构Point析构Point析构Line析构Point析构Point析构Point析构Point析构</code></pre><p><strong>分析</strong></p><ul><li>可以看出来，结果二比结果一少了赋值运操作</li></ul><pre class=" language-c++"><code class="language-c++">#include <iostream>#include <string>using namespace std;class People{    friend int main();    //用友员函数不用成员函数的原因：    /*    1、cout是ostream类的对象    2、这个函数的第一个对象不是当前类的对象，而是ostream类的    */    friend ostream& operator<<(ostream& os, const People&);private:    string name;    int age;public:    // 默认构造    People() : name("People"), age(18) {        // 引用参数初始化列表, 没有进入函数体内部        // 直接调用name的构造有参构造函数        // 进入函数体内部前，初始化完成。        // 写在函数体内部：        name = "People";        // 第一步调用name的默认构造函数，        // 第二部调用string operator= 的操作符重载函数        // age = 18;    }    // 有参构造    People(string s) : name(s), age(18) {        cout << "string constructor" << endl;    }    // implicit 隐式转换    // explicit 显式构造    // 编译器默认隐式转换，即为implicit    explicit People (int age) : name("People"), age(age) {        cout << "int constructor" << endl;    }    // 拷贝构造函数    People(const People& p) : name(p.name), age(p.age) {        // 引用的C++底层原理为const类型的指针, 不能先定义后赋值;        cout << "copy constructor" << endl;        // 值传递会造成拷贝构造函数死循环    }    ~People() {        cout << "destructor" << endl;    }     // 赋值运算符重载    People& operator= (const People& p) {        name = p.name;        age = p.age;        cout << "call operator=" << endl;        return *this;    }    // 法一    // 使用方法：p << cout;    // 原因：当前函数的第一个参数是该类的对象    // ostream& operator<< (ostream& os) {    //     os << "name = " << name << ", age = " << age << endl;    //     return os;    // }    // 法二设置为友员函数};ostream& operator<< (ostream& os, const People& p) {    os << "name = " << p.name << ", age = " << p.age << endl;    return os;}int main() {    People p("Axieyun");    cout << "name = " << p.name << ", age = " << p.age << endl;    People p1(p);    cout << p;    cout << "p.arrces = " << &p << ", p1.arrces = " << &p1 << endl;    // 赋值构造    People p2 = People(18); // 隐式转换为People对象，再拷贝构造给p2;    p2 = p;    // p << cout;    cout << p;    return 0;}</code></pre><h3 id="析构"><a href="#析构" class="headerlink" title="析构"></a>析构</h3><ul><li>默认构造函数前加~</li></ul><pre class=" language-c++"><code class="language-c++">class People{private:    string name;    int age;public:    ~People() {        cout << "destructor" << endl;        // delete操作    };};</code></pre><h3 id="35法则"><a href="#35法则" class="headerlink" title="35法则"></a>35法则</h3><ul><li><p>需要析构函数的类也需要拷贝构造函数和拷贝赋值函数</p></li><li><p>需要拷贝操作的类也需要赋值操作，反之亦然</p></li><li><p>析构函数不能删除</p></li><li><p>如果一个类有删除的或不可访问的析构函数，那么其默认和拷贝构造函数会被定义为删除的</p></li><li><p>如果一个类有const或引用成员，则不能使用合成的拷贝赋值操作，即</p></li><li><ul><li><p>不能进行以下操作</p><pre class=" language-c++"><code class="language-c++">int b = 1;int& a;a = b;</code></pre></li><li><p>应该这样写</p></li><li><pre class=" language-c++"><code class="language-c++">int b = 1;int& a = b;</code></pre></li><li><p>const类型同理。</p></li></ul></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> C++基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>前置声明与头文件</title>
      <link href="posts/e4e3.html"/>
      <url>posts/e4e3.html</url>
      
        <content type="html"><![CDATA[<h3 id="使用前置声明"><a href="#使用前置声明" class="headerlink" title="使用前置声明"></a>使用前置声明</h3><p><em>point.cpp文件</em></p><pre class=" language-c++"><code class="language-c++">#include "point.h"Point::Point(float x, float y):_x(x), _y(y) {}</code></pre><p><em>point.h文件</em></p><pre class=" language-c++"><code class="language-c++">// 在预编译期，防止重复引用#ifndef _POINT_H_#define _POINT_H_/*能用前置声明就用前置声明啥时候用：    没有使用类的成员属性或者方法时可以用*/// 添加前置声明class Line;class Point {    friend class Line;public:    Point(float x = 0, float y = 0); private:    float _x, _y;};#endif</code></pre><p><em>line.h文件</em></p><pre class=" language-c++"><code class="language-c++">#ifndef _LINE_H_#define _LINE_H_#include "point.h"class Line {public:    Line(const Point& p1, const Point& p2);    float getDistance();private:    Point p1, p2;};#endif</code></pre><p><em>line.cpp文件</em></p><pre class=" language-c++"><code class="language-c++">#include "line.h"#include <math.h>Line::Line(const Point& p1, const Point& p2):p1(p1), p2(p2) {}float Line::getDistance() {    return sqrt(pow(p1._x - p2._x, 2) + pow(p1._y - p2._y, 2));}</code></pre><h3 id="使用头文件"><a href="#使用头文件" class="headerlink" title="使用头文件"></a>使用头文件</h3><p><em>point.cpp文件</em></p><pre class=" language-c++"><code class="language-c++">#include "point.h"Point::Point(float x, float y):_x(x), _y(y) {}</code></pre><p><em>point.h文件</em></p><p><strong>使用头文件，调用类的成员方法</strong></p><pre class=" language-c++"><code class="language-c++">// 防止重复引用#ifndef _POINT_H_#define _POINT_H_#include "line.h"//使用头文件class Point {    //调用类的成员方法    friend float Line::getDistance();    public:    Point(float x=0, float y=0); private:    float _x, _y;};#endif</code></pre><p><em>line.h文件</em></p><pre class=" language-c++"><code class="language-c++">#ifndef _LINE_H_#define _LINE_H_//使用前置声明class Point;class Line {public:    Line(const Point& p1, const Point& p2);    float getDistance();private:    //使用指针类型，不调用Point的默认构造函数    Point *p1, *p2;};#endif</code></pre><p><em>line.cpp文件</em></p><pre class=" language-c++"><code class="language-c++">#include "line.h"#include <math.h>#include "point.h"Line::Line(const Point& p1, const Point& p2) {    this->p1 = new Point(p1);    this->p2 = new Point(p2);}float Line::getDistance() {    return sqrt(pow(p1->_x - p2->_x, 2) + pow(p1->_y - p2->_y, 2));}</code></pre><h3 id="主函数文件调用"><a href="#主函数文件调用" class="headerlink" title="主函数文件调用"></a>主函数文件调用</h3><p><em>main.cpp文件</em></p><pre class=" language-c++"><code class="language-c++">#include <iostream>#include "point.h"#include "line.h"using namespace std;int main() {        Point p1{32.4f, 42.4f}, p2{24.9f, 23.5f};    Line line(p1, p2);    cout << line.getDistance() << endl;    return 0;}</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> C++基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>struct和class区别</title>
      <link href="posts/a683.html"/>
      <url>posts/a683.html</url>
      
        <content type="html"><![CDATA[<h3 id="两个区别"><a href="#两个区别" class="headerlink" title="两个区别"></a>两个区别</h3><ul><li><code>struct</code>的成员和基类默认都是<code>public</code>访问权限，而<code>class</code>是<code>private</code>。</li><li>当前置声明的时候，如果对于同一个类型，有的时候用<code>class</code>，有的时候用<code>struct</code>，或者前置声明跟实际不一样，会有警告。</li></ul><ul><li>C 语言的<code>struct</code>有单独的命名空间，所以你甚至可以这样定义一个跟类型名字一样的变量：</li></ul><pre class=" language-c"><code class="language-c"><span class="token keyword">struct</span> Student Student<span class="token punctuation">;</span></code></pre><ul><li>C++ 则没有区分这些命名空间，如果你这样做的话，会给你一个警告，说你覆盖了名称，后面就用不了<code>Student</code>做类型了。</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> C++基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>深复制与浅复制</title>
      <link href="posts/c2a8.html"/>
      <url>posts/c2a8.html</url>
      
        <content type="html"><![CDATA[<h3 id="浅拷贝"><a href="#浅拷贝" class="headerlink" title="浅拷贝"></a>浅拷贝</h3><ul><li><p>自己没有定义复制构造函数的话，系统默认定义一个构造函数，该构造函数就是浅复制。</p></li><li><p>当一个对象被建立的时候，我们知道，通过我们定义的构造函数，系统会新建一个对象，包括两个成员变量<code>size</code>和<code>data</code>。</p></li><li><p>然后，构造函数会使用动态内存分配建立一个新的堆对象，并且让<code>data</code>指向这个堆对象。下图表示：</p></li><li><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://res.jisuanke.com/img/upload/2b93a90d1799542abfd319fe1b9350b4490707d4.png" alt="下图表示"></p></li><li><p>如果我们自己不定义复制构造函数的话，系统默认的复制构造函数在调用的时候，就会建立一个完全相同的对象——换句话说，其<code>data</code>指针的地址也是完全相同的。</p></li><li><p>这就意味着，新的对象所包含的<code>data</code>指针，指向的实际上是被复制的对象所建立的堆对象：</p></li><li><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://res.jisuanke.com/img/upload/ffafd0c5b3f523427323ce4d3480d1070e486477.png"></p></li></ul><h3 id="深拷贝"><a href="#深拷贝" class="headerlink" title="深拷贝"></a>深拷贝</h3><ul><li>复制构造的对象应该有自己的堆对象，并且堆对象内存储的数据跟被复制的对象完全一样。</li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://res.jisuanke.com/img/upload/71aad9ab08a4b530e09add2ff8b2b6e2d4465d29.png"></p><pre class=" language-c++"><code class="language-c++">#include <iostream>//#include <vector>#include <string>#include <algorithm>using namespace std;class vector{private:    int * data;    int size;public:    vector(int size){        this->size = size;        data=new int[size];    }    //深复制    vector(vector& v){        size=v.size;        data=new int[size];        for (int i = 0; i < size; i++) {              data[i]=v.data[i];        }    }    ~vector(){        delete[] data;    }    void print() {        // 输出大小与地址        cout << size << " " << data << endl;    }};int main() {    vector v(10);    v.print();    vector v1(v);    v1.print();        return 0;    }</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> C++基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>模板定义的array类</title>
      <link href="posts/ca4c.html"/>
      <url>posts/ca4c.html</url>
      
        <content type="html"><![CDATA[<h3 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h3><ul><li>定义一一个可以保存数组，并且支持多种类型的 <code>array</code></li><li>定义的 <code>array</code> 需要支持以下功能：</li><li><ul><li>构造的时候，给予一个整数参数 <code>n</code>，确定对象的容量（即内部要开多大的数组）</li><li>通过insert成员函数在数组内的末尾插入一个元素，如果容量已经满了则输出 <code>array full</code></li><li>通过showAll成员函数，输出所有元素，每个占一行</li></ul></li></ul><pre class=" language-c++"><code class="language-c++">#include <iostream>#include <string>#include <cstdlib>using namespace std;// 模板定义template <class T>class Array {private:    T* p;    int size;    int i;public:    // 申请堆内存    Array(int size) {        p = new T[size];        this->size = size;        i = 0;    }    // 释放堆内存    ~Array() {        delete[] p;    }    // 插入元素    void insert(const int& val) {        if (i < size) {            p[i++] = val;        } else {            cout << "array full" << endl;        }    }    // 按行输入所有元素    void showAll() {        for (int j = 0; j < i; j++) {            cout << p[j] << endl;        }    }};int main() {    string str1="yangzhou301";    Array<char> arr1(str1.length());    for(auto c:str1)    {        arr1.insert(c);    }    arr1.showAll();    int num[]={1,9,2,6,0,8,1,7};    Array<int>arr2(sizeof(num)/sizeof(int));    for(auto c:num)    {        arr2.insert(c);    }    arr2.showAll();    arr2.insert(301);    return 0;}</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> C++基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++之new和delete</title>
      <link href="posts/35c4.html"/>
      <url>posts/35c4.html</url>
      
        <content type="html"><![CDATA[<h3 id="new"><a href="#new" class="headerlink" title="new"></a>new</h3><ul><li><p>申请内存，调用构造函数</p></li><li><p>语法</p></li><li><pre class=" language-c++"><code class="language-c++">new 数据类型(初始化参数列表);// 内存申请成功，那么new运算符就会返回一个指向新分配内存区域首地址的指针;</code></pre></li><li><p>例子</p></li><li><pre class=" language-c++"><code class="language-c++">double *point;point=new double(2);sizeof(p) = 4; 指针占8字节sizeof(*p) = 8; 指向首地址，存储double类型数据对象，占8字节。        int *point = new int;//没有初值int *point = new int();//初始值为0</code></pre></li></ul><h3 id="delete"><a href="#delete" class="headerlink" title="delete"></a>delete</h3><ul><li><p>删除一个用<code>new</code>建立的对象，回收堆内存，调用析构函数</p></li><li><p>使用</p></li><li><pre class=" language-c++"><code class="language-c++">delete line;//对于基本类型或者对象的指针delete[] a;//对于指向数组的指针</code></pre></li><li><p>对nullptr调用delete或者delete[]都不会发生异常。</p></li></ul><h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><ul><li><strong>所有用<code>new</code>分配的内存，都必须使用<code>delete</code>进行回收，否则会导致动态分配的内存无法回收，造成内存泄露</strong>。</li></ul><h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><pre class=" language-c++"><code class="language-c++">#include <iostream>#include <cmath>using namespace std;class Point{public:    Point(int newX=0,int newY=0) {        cout << "calling constructor" << endl;        x = newX;        y = newY;    }    Point(Point &p) {        x = p.x;        y = p.y;    }    ~Point() {        cout << "calling destructor " << endl;    }    void move(int x,int y) {        this->x += x;        this->y += y;    }    int getX() {        return x;    }    int getY() {        return y;    }private:    int x,y;};class PointsArray {public:    PointsArray(int size):size(size) {        array = new Point[size];    }    Point &getElement(int index) {        if(index >= 0 && index < size) {            return array[index];        } else {            cout << "invalid index!" << endl;        }    }    ~PointsArray() {        delete[] array;    }private:    Point * array;    int size;};int main(){    Point * p = new Point(1, 2);    delete p;    int n;    cin >> n;    PointsArray pa(n);    cout << pa.getElement(0).getX() << " " << pa.getElement(0).getY() << endl;    pa.getElement(1).move(1, 1);    cout << pa.getElement(1).getX() << " " << pa.getElement(1).getY() << endl;    return 0;}</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> C++基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++之对象指针</title>
      <link href="posts/ca40.html"/>
      <url>posts/ca40.html</url>
      
        <content type="html"><![CDATA[<h3 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h3><ul><li>跟基本类型的变量一样，每一个对象在初始化之后，都会在内存中占据一定的空间——所以我们同样也可以通过地址来访问一个对象。</li><li>尽管对象同时包含了数据和函数两种成员，但是对象所占据的内存空间只用于存放数据成员——函数成员并不在每一个对象的存储副本之中。</li><li>对象指针就是用于存放对象地址的变量——对象指针遵循一般变量指针的各种规则。</li></ul><h3 id="语法形式"><a href="#语法形式" class="headerlink" title="语法形式"></a>语法形式</h3><pre class=" language-c++"><code class="language-c++">类名 * 对象指针名;</code></pre><h3 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h3><ul><li>访问对象成员 == (*对象指针名).成员名</li></ul><pre class=" language-c++"><code class="language-c++">对象指针名->成员名 // == (*对象指针名).成员名</code></pre><h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><ul><li>对象指针在使用的时候，也一定要先进行初始化，让它指向一个已经声明过的对象，然后才能进行使用，同时，我们也可以使用 <strong>动态内存分配</strong> ，为指针建立一个新的堆对象。</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> C++基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++11之decltype</title>
      <link href="posts/7fcc.html"/>
      <url>posts/7fcc.html</url>
      
        <content type="html"><![CDATA[<ul><li>decltype与auto关键字一样，用于进行编译时类型推导。</li><li>decltype实际上有点像auto的反函数，auto可以让你声明一个变量，而decltype则可以从一个变量或表达式中得到类型。</li><li>注意，decltype 仅仅“查询”表达式的类型，并不会对表达式进行“求值”。</li><li>注意，auto参数类型只能用在lambda上面，不能用在普通函数上面。</li></ul><ul><li>例子1</li></ul><pre class=" language-c++"><code class="language-c++">int x = 1;decltype(x) y = x;</code></pre><ul><li>例子2</li></ul><pre class=" language-c++"><code class="language-c++">int    i;float  f;double d; typedef decltype(i + f) type1;  // floattypedef decltype(f + d) type2;  // doubletypedef decltype(f < d) type3;  // bool</code></pre><ul><li>例子3</li></ul><pre class=" language-c++"><code class="language-c++">template<typename T, typename U>auto Add(T t, U u) -> decltype(t + u) {    return t + u;}</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> C++11 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>16进制转8进制</title>
      <link href="posts/24db.html"/>
      <url>posts/24db.html</url>
      
        <content type="html"><![CDATA[<h3 id="看个好东西"><a href="#看个好东西" class="headerlink" title="看个好东西"></a>看个好东西</h3><table><thead><tr><th>16进制数</th><th align="right">2进制数</th><th align="right">2进制数</th><th>8进制数</th></tr></thead><tbody><tr><td>1A</td><td align="right">1 1010</td><td align="right">11 010</td><td>32</td></tr><tr><td>10</td><td align="right">1 0000</td><td align="right">10 000</td><td>20</td></tr><tr><td>3b</td><td align="right">11 1011</td><td align="right">111 011</td><td>73</td></tr></tbody></table><p><strong>从该表格可以看出，一位16进制的数对应2进制数的4位！！！</strong></p><p><em>比如，b = 1011, 0 = 0000;</em></p><p><em>3 = 011,  2 = 20</em></p><h4 id="字符转换为10进制数"><a href="#字符转换为10进制数" class="headerlink" title="字符转换为10进制数"></a>字符转换为10进制数</h4><pre class=" language-c++"><code class="language-c++">int myAtoi(const char& c) {    if (c >= '0' && c <= '9') return c - '0';    else if (c >= 'a') return 10 + c - 'a';    return 10 + c - 'A';}</code></pre><h3 id="16进制转2进制"><a href="#16进制转2进制" class="headerlink" title="16进制转2进制"></a>16进制转2进制</h3><pre class=" language-c++"><code class="language-c++">string _16To2(const string& s16) {    string s2;    for (int it = s16.size() - 1; it >= 0; it--) {        int num = myAtoi(s16[it]); // 每位16进制转化为10进制        s2 += _10To2(num);        // 转化为整数        // num = atoi(s.c_str());    }    reverse(s2.begin(), s2.end());    // 去除前导0     while (s2[0] == '0') s2 = &s2[1]; // 地址左移    return s2;}</code></pre><h3 id="10进制转2进制"><a href="#10进制转2进制" class="headerlink" title="10进制转2进制"></a>10进制转2进制</h3><pre class=" language-c++"><code class="language-c++">string _10To2(int num) {    string a;    while (num) {        a += char(num % 2 + 48);        num >>= 1;    }    //reverse(a.begin(), a.end());    while (a.size() != 4) {        a += '0';    }    return a;} </code></pre><h3 id="2进制转8进制"><a href="#2进制转8进制" class="headerlink" title="2进制转8进制"></a>2进制转8进制</h3><pre class=" language-c++"><code class="language-c++">// 一位8进制的数等于4位2进制  string _2To8(string& s2) {    //if (s2 != "") cout << "s2 = " << s2 << endl;    reverse(s2.begin(), s2.end());    //if (s2 != "") cout << "s2 = " << s2 << endl;    string s8;    for (int i = 0; i < (int)s2.size(); i += 3) {        int num = 0;        for (int j = i; j < i + 3 && j < (int)s2.size(); j++) {            num += ((s2[j] - '0') << (j - i));        }        // cout << "num = " << num << endl;        s8 += (num + 48);    }    reverse(s8.begin(), s8.end());    return s8;} </code></pre><h3 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h3><pre class=" language-c++"><code class="language-c++">#include <string>#include <iostream>#include <algorithm>using namespace std;int myAtoi(const char& c) {    if (c >= '0' && c <= '9') return c - '0';    else if (c >= 'a') return 10 + c - 'a';    return 10 + c - 'A';}string _10To2(int num) {    string a;    while (num) {        a += char(num % 2 + 48);        num >>= 1;    }    //reverse(a.begin(), a.end());    while (a.size() != 4) {        a += '0';    }    return a;} // 16进制转化为二进制字符串 // 一位16进制的数等于4位2进制 string _16To2(const string& s16) {    string s2;    for (int it = s16.size() - 1; it >= 0; it--) {        int num = myAtoi(s16[it]); // 每位16进制转化为10进制        s2 += _10To2(num);        // 转化为整数        // num = atoi(s.c_str());    }    reverse(s2.begin(), s2.end());    // 去除前导0     while (s2[0] == '0') s2 = &s2[1]; // 地址左移    return s2;}// 一位8进制的数等于4位2进制  string _2To8(string& s2) {    //if (s2 != "") cout << "s2 = " << s2 << endl;    reverse(s2.begin(), s2.end());    //if (s2 != "") cout << "s2 = " << s2 << endl;    string s8;    for (int i = 0; i < (int)s2.size(); i += 3) {        int num = 0;        for (int j = i; j < i + 3 && j < (int)s2.size(); j++) {            num += ((s2[j] - '0') << (j - i));        }        // cout << "num = " << num << endl;        s8 += (num + 48);    }    reverse(s8.begin(), s8.end());    return s8;} string _16To8(string& s16) {    string s2 = _16To2(s16);    s2 = _2To8(s2);    return s2;}int main() {    ios::sync_with_stdio(false);    string s16;    int n;    cin >> n;    // 输入n个16进制字符串    while (n--) {        cin >> s16;        cout << _16To8(s16) << endl;    }    return 0;}</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 进制转换 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL之性别约束男、女</title>
      <link href="posts/5a6e.html"/>
      <url>posts/5a6e.html</url>
      
        <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p><em>对于课本上的check检查约束，在MySQL不支持使用，本人发现使用过程中其不会报错，但查看建表语句发现不存在check,网上查找资料发现</em></p><h3 id="枚举enum字段类型"><a href="#枚举enum字段类型" class="headerlink" title="枚举enum字段类型"></a>枚举enum字段类型</h3><pre class=" language-mysql"><code class="language-mysql">create table supplier_contact(    supplier_contact_id       varchar(11) not null comment '联系人id'        primary key,    supplier_contact_sex enum ('男','女') not null comment '联系人性别',    supplier_contact_phone     varchar(20) not null comment '联系电话',    supplier_contact_name varchar(10) not null comment '联系人名字',    vend_id    int         not null comment '供应商id',    foreign key (vend_id) references vendors(vend_id))    comment '供应商联系人表' charset = utf8mb4;</code></pre><h3 id="不建议使用enum，除非能保证枚举范围只有像男、女这样不要改。"><a href="#不建议使用enum，除非能保证枚举范围只有像男、女这样不要改。" class="headerlink" title="不建议使用enum，除非能保证枚举范围只有像男、女这样不要改。"></a>不建议使用enum，除非能保证枚举范围只有像男、女这样不要改。</h3>]]></content>
      
      
      
        <tags>
            
            <tag> MySQL笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL之事务</title>
      <link href="posts/80b5.html"/>
      <url>posts/80b5.html</url>
      
        <content type="html"><![CDATA[<h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><ul><li><p>事务: 指的是 逻辑上的⼀组操作 ，组成这组操作的各个单元要么全都成功，要么全都失败。</p></li><li><pre class=" language-mysql"><code class="language-mysql">begin; #开启事务</code></pre></li><li><pre class=" language-mysql"><code class="language-mysql">rollback; # 事务回滚</code></pre></li><li><pre class=" language-mysql"><code class="language-mysql">commit;  # 事务提交</code></pre></li></ul><h4 id="隐式提交"><a href="#隐式提交" class="headerlink" title="隐式提交"></a>隐式提交</h4><p><strong>当我们使⽤ start transaction 或者 begin 语句时开启了⼀个事务。或者把系统变量的值设置为 off 时，事物就不会进⾏⾃动提交。 如果我们输⼊了某些语句，且这些语句会导致之前的事物，悄悄的提交（就像输⼊了 commit 命令⼀样），那么因为某种特殊的语句⽽导 致，事务提交的情况称为 隐式提交 。</strong></p><p><strong>会导致隐式提交的语句有：</strong></p><ul><li>数据库定义语⾔ DDL，像 create、alter、drop</li><li>事务控制或关于锁定的语句，⽐如，前⼀个事务未提交，⼜开启了⼀个新的事务</li><li>加载数据的语句，⽐如 load data </li><li>关于 MySQL 复制的⼀些语句 ：slave</li></ul><h4 id="保存点"><a href="#保存点" class="headerlink" title="保存点"></a>保存点</h4><p><strong>如果你已经开启了⼀个事物，并且输⼊了很多语句，这是忽然发现前⾯已经执⾏完的某个语句。参数写错了，只好使⽤ rollback 语句， 让数据库状态恢复到事务执⾏之前的样⼦，然后⼀切从头再来。 这种感觉很不爽，因此就有了保存点的概念。</strong></p><p><strong>语法：</strong></p><ul><li><pre class=" language-mysql"><code class="language-mysql">-- 定义保存点savepoint 保存点名称;-- 回滚到某个保存点，如果rollback后面不跟随保存点名称，则直接回滚到事务之前的状态rollback [work] to [savepoint] 保存点名称 ;-- 删除保存点release savepoint 保存点名称;</code></pre></li></ul><h3 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h3><ul><li>事务作⽤：保证在⼀个事务中多次 SQL 操作要么全都成功,要么全都失败。</li></ul><h3 id="事务的四⼤特性（ACID）"><a href="#事务的四⼤特性（ACID）" class="headerlink" title="事务的四⼤特性（ACID）"></a>事务的四⼤特性（ACID）</h3><h4 id="原子性（Atomicity）"><a href="#原子性（Atomicity）" class="headerlink" title="原子性（Atomicity）"></a>原子性（Atomicity）</h4><ul><li>原⼦性是指事务包含的所有操作要么全部成功，要么全部失败回滚，</li></ul><h4 id="⼀致性（Consistency）"><a href="#⼀致性（Consistency）" class="headerlink" title="⼀致性（Consistency）"></a>⼀致性（Consistency）</h4><ul><li>⼀致性是指事务必须使数据库从⼀个⼀致性状态变换到另⼀个⼀致性状态，也就是说⼀个事务执⾏之前和执⾏之后都必须处于⼀致性状态。</li><li>拿转账来说，假设⽤户 A 和⽤户 B 两者的钱加起来⼀共是 5000，那么不管 A 和 B 之间如何转账，转⼏次账，事务结束后两个⽤户的钱 相加起来应该还得是 5000，这就是事务的⼀致性。</li></ul><h4 id="隔离性（Isolation）"><a href="#隔离性（Isolation）" class="headerlink" title="隔离性（Isolation）"></a>隔离性（Isolation）</h4><ul><li>隔离性是当多个⽤户并发访问数据库时，⽐如操作同⼀张表时，数据库为每⼀个⽤户开启的事务，不能被其他事务的操作所⼲扰，多个并 发事务之间要相互隔离。</li><li> ⼀个事务的执⾏不能被其他事务⼲扰。⼀个事务内部的操作及使⽤的数据，对并发的其他事务是隔离的，并发执⾏的各个事务之间不能互 相⼲扰。</li><li> 关于事务的隔离性数据库提供了多种隔离级别。</li></ul><h4 id="持久性（Durability）"><a href="#持久性（Durability）" class="headerlink" title="持久性（Durability）"></a>持久性（Durability）</h4><ul><li>持久性是指⼀个事务⼀旦被提交了，那么对数据库中的数据的改变就是永久性的，即便是在数据库系统遇到故障的情况下也不会丢失提交 事务的操作。</li></ul><h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><ul><li>⽐如：银⾏转账，⼩明有 50 元，⼩红有 10 元，⼩明向⼩红转账 10 元，在数据库操作中相当于执⾏了两条 SQL 语句。</li><li>我们想让这两个操作要么全成功，要么全失败。如何保证呢？就需要把他们放到同⼀个事务⾥⾯进⾏操作。</li></ul><pre class=" language-mysql"><code class="language-mysql">SHOW VARIABLES LIKE 'autocommit'; # 查看事务是否默认提交SET AUTOCOMMIT = off; # 设置不默认提交SET AUTOCOMMIT = on; # 设置不默认提交CREATE TABLE account(    id int primary key auto_increment comment '卡号',    name varchar(20) comment '姓名',    money double comment '余额');drop TABLE account;insert into account(id, name, money) values (1, '小明', 1213);insert into account(id, name, money) values (2, '小红', 3234);insert into account(id, name, money) values (3, '小1红', 3234);insert into account(id, name, money) values (4, '小s明', 1213);insert into account(id, name, money) values (5, '小a明', 1213);select * from account;BEGIN; # 开启事务update account SET money = money + 10 where id = 1;savepoint up1; # 定义保存点up1select * from account;UPDATE account set money = money - 10 WHERE id = 2;SELECT * FROM account;rollback to up1; # 回滚到保存点状态release savepoint up1;  # 删除保存点SELECT * from account;rollback; # 回滚到事务开始前的状态commit;   # 事务提交</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL之视图</title>
      <link href="posts/7a16.html"/>
      <url>posts/7a16.html</url>
      
        <content type="html"><![CDATA[<h3 id="视图作⽤"><a href="#视图作⽤" class="headerlink" title="视图作⽤"></a>视图作⽤</h3><ul><li>视图是 虚拟的表 。与包含数据的表不⼀样，视图只包含使⽤时动态检索数据的查询。</li><li>在视图创建之后，可以⽤与表基本相同的⽅式利⽤它们。可以对视图执⾏ SELECT 操作，过滤和排序数据，将视图联结到其他视图或 表，甚⾄能添加和更新数据。</li><li>重要的是知道视图仅仅是⽤来查看存储在别处的数据的⼀种设施。</li><li>视图本身不包含数据 ，因此它们返回的数据是从其他表中检索出来的。</li><li>在添加或更改这些表中的数据时，视图将返回改变过的数据。</li><li>因为视图不包含数据，所以每次使⽤视图时，都必须处理查询执⾏时所需的任⼀个检索。</li><li>如果你⽤多个联结和过滤创建了复杂的视图或者 嵌套了视图，可能会发现性能下降得很厉害。所以 不要滥用视图 。</li></ul><h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><ul><li>与表⼀样，视图必须唯⼀命名（不能给视图取与别的视图或表相同的名字）。</li><li>对于可以创建的视图数⽬没有限制。</li><li>为了创建视图，必须具有⾜够的访问权限。这些限制通常由数据库管理⼈员授予。</li><li>视图可以嵌套，即可以利⽤从其他视图中检索数据的查询来构造⼀个视图。</li><li>ORDER BY 可以⽤在视图中，但如果从该视图检索数据 SELECT 中也含有 ORDER BY，那么该视图中的 ORDER BY 将被覆盖。</li><li>视图不能索引，也不能有关联的触发器或默认值。</li><li>视图可以和表⼀起使⽤。例如，编写⼀条联结表和视图的 SELECT 语句。</li></ul><h3 id="视图创建"><a href="#视图创建" class="headerlink" title="视图创建"></a>视图创建</h3><h4 id="格式1"><a href="#格式1" class="headerlink" title="格式1"></a>格式1</h4><pre class=" language-mysql"><code class="language-mysql">create view 视图名 (列名，列名，...)as (select语句)(with check option);</code></pre><h4 id="语法格式"><a href="#语法格式" class="headerlink" title="语法格式"></a>语法格式</h4><pre class=" language-mysql"><code class="language-mysql">CREATE [OR REPLACE] [ALGORITHM={UNDEFIEND | MERGE | TEMPTABLE}]VIEW view_name [(column_list)]AS SELECT_statement[WITH [CASCADED | LOCAL] CHECK OPTION];</code></pre><ul><li>CREATE：表示创建视图的关键字</li><li>OR REPLACE：如果给定了此子句，表示该语句能够替换已有视图</li><li>ALGORIGHM：可选参数，表示视图选择的算法</li><li>UNDEFIEND：表示MySQL将自动选择，所有使用的算法</li><li>MERGE：表示将使用视图的语句，与视图定义合并起来，使得视图定义的某一部分，取代语句的对应部分</li><li>TEMPTABLE：表示将视图的结果存入临时表，然后使用临时表执行语句</li><li>View_name：表示要创建的视图名称</li><li>Column_list：可选参数，表示属性清单，指定了视图中各个属性的名称，默认情况下，与SELECT语句中查询的属性相同</li><li>AS：表示指定视图要执行的操作</li><li>SELECT_statement：是一个完整的查询语句，表示从某个表或视图中查出，某些满足条件的记录，将这些记录导入视图中</li><li>LOCAL：可选参数，表示创建视图时，只要满足该视图本身定义的条件即可</li><li>CASCADED：可选参数，表示创建视图时，需要满足跟该视图有关的，所有相关视图和表的条件，该参数为默认值</li><li>WITH CHECK OPTION：可选参数，表示创建视图时，要保证在该视图的权限范围之内</li></ul><h3 id="查看视图"><a href="#查看视图" class="headerlink" title="查看视图"></a>查看视图</h3><pre class=" language-mysql"><code class="language-mysql">SHOW CREATE VIEW view_name;</code></pre><h3 id="删除视图"><a href="#删除视图" class="headerlink" title="删除视图"></a>删除视图</h3><pre class=" language-mysql"><code class="language-mysql">drop view view_name;</code></pre><h3 id="更新视图"><a href="#更新视图" class="headerlink" title="更新视图"></a>更新视图</h3><h4 id="方式1"><a href="#方式1" class="headerlink" title="方式1"></a>方式1</h4><ul><li>可以先⽤ DROP 再⽤ CREATE</li></ul><h4 id="方式二"><a href="#方式二" class="headerlink" title="方式二"></a>方式二</h4><ul><li>⽤ CREATE OR REPLACE VIEW ，如果要更新的视图不存在，则会创建⼀个视图；如果要更新的视图存在，则会替换原有视图。</li></ul><h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><h4 id="创建视图"><a href="#创建视图" class="headerlink" title="创建视图"></a>创建视图</h4><pre class=" language-mysql"><code class="language-mysql">create view bt_s(s_no, s_name, s_birth)asselect s_no, s_name, 2014-s_agefrom student;create view s_g(s_no, g_avg)asselect s_no, avg(g_rade)from scgroup by s_no; # 分组</code></pre><h4 id="实战"><a href="#实战" class="headerlink" title="实战"></a>实战</h4><pre class=" language-mysql"><code class="language-mysql">## 查询订单编号为20005的：产品名称，供应商名称，产品价格，购买数量# 没有视图SELECT prod_name, vend_name, prod_price, quantityFROM orderitems         JOIN products ON orderitems.prod_id = products.prod_id         JOIN vendors ON products.vend_id = vendors.vend_idWHERE orderitems.order_num = 20005;# 有视图CREATE VIEW order_detail AS # 创建视图SELECT prod_name, vend_name, prod_price, quantity, order_numFROM orderitems         JOIN products ON orderitems.prod_id = products.prod_id         JOIN vendors ON products.vend_id = vendors.vend_id;# 删除视图DROP VIEW order_detail;# 更新视图CREATE OR REPLACE VIEW order_datail();# 查看创建视图的语句SHOW CREATE VIEW order_detail;# 查询视图所有数据SELECT *FROM order_detail;# 从视图过滤数据SELECT prod_name, vend_name, prod_price, quantityFROM order_detailWHERE order_num = 20005;</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL之表关联查询</title>
      <link href="posts/cb91.html"/>
      <url>posts/cb91.html</url>
      
        <content type="html"><![CDATA[<h3 id="内连接"><a href="#内连接" class="headerlink" title="内连接"></a>内连接</h3><h4 id="习题1"><a href="#习题1" class="headerlink" title="习题1"></a>习题1</h4><pre class=" language-mysql"><code class="language-mysql">-- 假设现在我想查询给我们供货的供应商的名称，以及商品名称和商品价格。此时我们发现，要查询的字段不在同⼀张表⾥。供应商名称-- 在 vendors 表⾥，⽽商品名称和商品价格在 products 表⾥，这时可以使⽤内联查询，将两张表进⾏关联之后进⾏查询。## 大概输出SELECT *FROM vendors,     productsWHERE vendors.vend_id = products.vend_id;## 隐性内连接 == 隐式内联SELECT vend_name, prod_name, prod_priceFROM vendors,     productsWHERE vendors.vend_id = products.vend_id; #供应商id相同#起别名SELECT vend_name, prod_name, prod_priceFROM vendors as v,     products as pWHERE v.vend_id = p.vend_id; #供应商id相同SELECT vend_name, prod_name, prod_priceFROM vendors v,     products pWHERE v.vend_id = p.vend_id; #供应商id相同## 显示内联SELECT vendors.vend_name, products.prod_name, products.prod_priceFROM vendors         INNER JOIN products ON products.vend_id = vendors.vend_id;SELECT vendors.vend_name, products.prod_name, products.prod_priceFROM products         INNER JOIN vendors ON products.vend_id = vendors.vend_id;# inner可以省略SELECT vendors.vend_name, products.prod_name, products.prod_priceFROM products         JOIN vendors ON products.vend_id = vendors.vend_id;</code></pre><h4 id="习题2"><a href="#习题2" class="headerlink" title="习题2"></a>习题2</h4><pre class=" language-mysql"><code class="language-mysql">-- 编写 SQL 语句，返回 customers 表中的顾客名称 cust_name 和 orders 表中的相关订单号 order_num，并按顾客名称再按订单号对结果进⾏排序。## 大概输出SELECT *FROM orders o,     customers cWHERE c.cust_id = o.cust_id;## 隐性内连接SELECT c.cust_name, o.order_numFROM orders o,     customers cWHERE c.cust_id = o.cust_idORDER BY cust_name, order_num;SELECT c.cust_name, o.order_numFROM orders AS o,     customers AS cWHERE c.cust_id = o.cust_idORDER BY cust_name DESC, order_num;SELECT cust_name, order_numFROM orders,     customersWHERE orders.cust_id = customers.cust_idORDER BY cust_name ASC, order_num DESC;## 内连接# 别名+内连接SELECT c.cust_name, o.order_numFROM customers c         JOIN orders o ON c.cust_id = o.cust_id;</code></pre><h3 id="笛卡尔积"><a href="#笛卡尔积" class="headerlink" title="笛卡尔积"></a>笛卡尔积</h3><ul><li>笛卡⼉积（cartesian product） 由没有联结条件的表关系返回的结果为笛卡⼉积。检索出的⾏的数⽬将是第⼀个表中的⾏数乘以第⼆个 表中的⾏数。</li></ul><pre class=" language-mysql"><code class="language-mysql">SELECT v.vend_name, p.prod_name, p.prod_priceFROM products p, vendors v ORDER BY vend_name,prod_name;</code></pre><h4 id="用处"><a href="#用处" class="headerlink" title="用处"></a>用处</h4><ul><li>当然笛卡尔积也不是丝毫没有⽤处，⽐如商品型号和颜⾊的组合就可以⽤笛卡尔积。</li></ul><h3 id="多表关联"><a href="#多表关联" class="headerlink" title="多表关联"></a>多表关联</h3><h4 id="习题1-1"><a href="#习题1-1" class="headerlink" title="习题1"></a>习题1</h4><pre class=" language-mysql"><code class="language-mysql"># 假设现在要查询订单编号为 20005 的产品名称、产品价格、产品订购数量、供应商名称。该如何查询呢？# 隐式连接SELECT prod_name, prod_price, quantity, vend_nameFROM products p,     vendors v,     orderitems oWHERE p.prod_id = o.prod_id  AND p.vend_id = v.vend_id  AND o.order_num = 20005;# 显示连接SELECT p.prod_name, p.prod_price, o.quantity, v.vend_nameFROM products p         INNER JOIN orderitems o ON p.prod_id = o.prod_id         INNER JOIN vendors v ON p.vend_id = v.vend_idWHERE o.order_num = 20005;SELECT SUM(o.quantity), v.vend_nameFROM products AS p #内连接         JOIN orderitems AS o ON p.prod_id = o.prod_id         JOIN vendors AS v ON p.vend_id = v.vend_idWHERE order_num = 20005 #筛选GROUP BY v.vend_name # 分组条件HAVING sum(o.quantity) > 4 # 过滤ORDER BY v.vend_name ASC; #排序SELECT p.prod_name, p.prod_price, o.quantity, v.vend_nameFROM products AS p         JOIN orderitems AS o ON p.prod_id = o.prod_id         JOIN vendors AS v ON p.vend_id = v.vend_idWHERE o.order_num = 20005ORDER BY p.prod_price DESC ;SELECT p.prod_name, p.prod_price, o.quantity, v.vend_nameFROM products p         JOIN orderitems o ON p.prod_id = o.prod_id         JOIN vendors v ON p.vend_id = v.vend_idWHERE o.order_num = 20005;</code></pre><h3 id="外连接"><a href="#外连接" class="headerlink" title="外连接"></a>外连接</h3><h4 id="习题1-2"><a href="#习题1-2" class="headerlink" title="习题1"></a>习题1</h4><ul><li>查询所有客户的订单情况 cust_id order_num，包括没有订单的客户</li></ul><h5 id="左外连接"><a href="#左外连接" class="headerlink" title="左外连接"></a>左外连接</h5><pre class=" language-mysql"><code class="language-mysql"># 查询所有客户的订单情况 cust_id order_num，包括没有订单的客户# 左外连接SELECT c.cust_id, o.order_numFROM customers c #使⽤ LEFT OUTER JOIN 从 FROM ⼦句的左边表（customers 表）中选择所有⾏         LEFT OUTER JOIN orders o ON c.cust_id = o.cust_id;# 右外连接:SELECT c.cust_id, o.order_numFROM orders o # 从右边的表中选择所有⾏，应该使⽤ RIGHT OUTER JOIN         RIGHT OUTER JOIN customers c ON c.cust_id = o.cust_id;</code></pre><h5 id="右外连接"><a href="#右外连接" class="headerlink" title="右外连接"></a>右外连接</h5><pre class=" language-mysql"><code class="language-mysql"># 右外连接:SELECT c.cust_id, o.order_numFROM orders o # 从右边的表中选择所有⾏，应该使⽤ RIGHT OUTER JOIN         RIGHT OUTER JOIN customers c ON c.cust_id = o.cust_id;</code></pre><h3 id="自连接"><a href="#自连接" class="headerlink" title="自连接"></a>自连接</h3><h4 id="习题1-3"><a href="#习题1-3" class="headerlink" title="习题1"></a>习题1</h4><ul><li>假设你发现商品 id 为 60001 的商品存在质量缺陷，现在需要查找，60001 供应商所提供的所有商品的名称和商品 id。请问如何编写 SQL 语句？</li></ul><pre class=" language-mysql"><code class="language-mysql">SELECT prod_name, prod_id, vend_idFROM products;# 先查询供应商idSELECT prod_name, prod_id, vend_idFROM productsWHERE prod_id = 60001;# 多表查询SELECT prod_name, prod_id, vend_idFROM productsWHERE vend_id IN (    SELECT vend_id    FROM products    WHERE prod_id = 60001);# 自连接SELECT p1.vend_id, p1.prod_name, p1.prod_id# 假设我有两张表FROM products p1,     products p2WHERE p1.vend_id = p2.vend_idAND p2.prod_id = 60001;</code></pre><h3 id="作业1"><a href="#作业1" class="headerlink" title="作业1"></a>作业1</h3><pre class=" language-mysql"><code class="language-mysql"># 1.⽤ innor join 编写 SQL，查询每个下单顾客的名称，和所有订单号；SELECT c.cust_name, o.order_numFROM customers c         INNER JOIN orders o ON c.cust_id = o.cust_id;SELECT c.cust_name, o.order_numFROM customers c         JOIN orders o ON c.cust_id = o.cust_id;# 2.修改上⼀题的 SQL 语句，列出所有顾客，即使他们没有下过订单# 左连接SELECT c.cust_name, o.order_numFROM customers cLEFT OUTER JOIN orders o ON c.cust_id = o.cust_id;SELECT c.cust_name, o.order_numFROM customers cLEFT JOIN orders o ON c.cust_id = o.cust_id;# 右连接SELECT c.cust_name, o.order_numFROM orders o         RIGHT OUTER JOIN customers c ON c.cust_id = o.cust_id;SELECT c.cust_name, o.order_numFROM orders o         RIGHT JOIN customers c ON c.cust_id = o.cust_id;# 3. 使⽤ outer join 连接 products 表和 orderitems 表，返回产品名称 prod_name 和与之相关的订单号 order_num 的列表，并按商品名称排序。SELECT p.prod_name, o.order_numFROM products pLEFT JOIN orderitems o ON p.prod_id = o.prod_idORDER BY p.prod_name DESC ;# 4. 修改上⼀题中创建的 SQL 语句，使其返回每⼀项产品的总订单数（不是订单号）。SELECT p.prod_name, COUNT(o.order_num)FROM products AS p #左连接         LEFT JOIN orderitems AS o ON p.prod_id = o.prod_idGROUP BY p.prod_name # 分组ORDER BY COUNT(o.order_num) DESC;# 5. 编写 SQL 语句，列出供应商 id（vend_id）及其可供产品的数量，包括没有产品的供应商。SELECT vendors.vend_id, count(prod_id)FROM vendorsLEFT JOIN products p ON vendors.vend_id = p.vend_idGROUP BY vendors.vend_id;SELECT products.vend_id, orderitems.prod_id, COUNT(quantity), SUM(quantity)FROM orderitems,     productsWHERE products.prod_id = orderitems.prod_idGROUP BY vend_idORDER BY vend_id;</code></pre><h3 id="作业2"><a href="#作业2" class="headerlink" title="作业2"></a>作业2</h3><pre class=" language-mysql"><code class="language-mysql"># 1. 使⽤innor join 编写SQL，查询每个下单顾客的名称，和所有订单号。SELECT cust_name, order_numFROM orders,     customersWHERE orders.cust_id = customers.cust_id;SELECT c.cust_name, o.order_numFROM customers c         INNER JOIN orders o ON c.cust_id = o.cust_id;# 2. 修改上⼀题的SQL语句，列出所有顾客，即使他们没有下过订单。SELECT c.cust_name, o.order_numFROM customers c         LEFT JOIN orders o ON c.cust_id = o.cust_id;#3. 使⽤outer join 连接products表和orderitems表，返回产品名称# prod_name 和与之相关的订单号order_num的列表，并按商品名称排序。SELECT prod_name, order_numFROM orderitems oINNER JOIN products p ON o.prod_id = p.prod_idORDER BY prod_name;# 4. 修改上⼀题中创建的SQL语句，使其返回每⼀项产品的总订单数（不是# 订单号）。SELECT prod_name, COUNT(order_num)FROM products p         JOIN orderitems o ON p.prod_id = o.prod_idGROUP BY prod_name;# 5. 编写SQL语句，列出供应商id（vend_id）及其可供产品的数量，包括# 没有产品的供应商。提⽰：使⽤外连接和分组。SELECT v.vend_id, COUNT(p.prod_id)FROM vendors v         LEFT JOIN products p ON v.vend_id = p.vend_idGROUP BY v.vend_id;</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python之pandas</title>
      <link href="posts/80fc.html"/>
      <url>posts/80fc.html</url>
      
        <content type="html"><![CDATA[<p><em>先上代码，笔记后面总结</em></p><h3 id="代码一"><a href="#代码一" class="headerlink" title="代码一"></a>代码一</h3><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt<span class="token keyword">import</span> string <span class="token keyword">as</span> st<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">import</span> jieba<span class="token keyword">import</span> wordcloud<span class="token comment" spellcheck="true"># fpath = "南京二手房.csv"</span><span class="token comment" spellcheck="true"># df = pd.read_csv(fpath, skiprows = 0)</span><span class="token comment" spellcheck="true"># df.to_excel('南京二手房.xlsx', sheet_name='南京二手房') # 生成xlsx文件</span>fpath <span class="token operator">=</span> <span class="token string">"南京二手房.xlsx"</span>    <span class="token comment" spellcheck="true"># 定义文件名字符串</span>df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_excel<span class="token punctuation">(</span>fpath<span class="token punctuation">,</span> <span class="token string">'南京二手房'</span><span class="token punctuation">,</span> skiprows<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 打开文件</span><span class="token comment" spellcheck="true"># skiprows = 0 : 表示从第0行开始读取</span><span class="token comment" spellcheck="true"># f = open('xx.txt', mode='r', encoding='utf-8')</span><span class="token comment" spellcheck="true"># ff = open('xxx.txt', mode='w', encoding='utf-8')</span><span class="token comment" spellcheck="true"># for x in f:</span><span class="token comment" spellcheck="true">#     ff.write('{}'.format(x))</span>df<span class="token punctuation">.</span>set_index<span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">,</span> inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># print(df.head(5)) # 查看前面5行数据</span><span class="token comment" spellcheck="true"># print(df.tail(5)) # 查看后面面5行数据</span><span class="token comment" spellcheck="true"># print(df.index)     # 查看行索引</span><span class="token comment" spellcheck="true"># print(df.columns)   # 查看列索引</span><span class="token comment" spellcheck="true"># print(df.values)    # 查看表格数据</span><span class="token comment" spellcheck="true"># print(df['总价(万元)'])  #获取列索引为'总价(万元)'的数据</span><span class="token comment" spellcheck="true"># print(df[0: 3])        # 获取行索引为0， 1， 2的行数据</span><span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'总价(万元)'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 获取index=1, columns = '总价(万元)'的值</span><span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'总价(万元)'</span><span class="token punctuation">,</span> <span class="token string">'产权年限'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># Series 获取index=1, columns = '总价(万元)', '产权年限' 的值</span><span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'总价(万元)'</span><span class="token punctuation">,</span> <span class="token string">'产权年限'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 得到 DataFrame</span><span class="token comment" spellcheck="true"># 行index按区间1: 5</span><span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'总价(万元)'</span><span class="token punctuation">,</span> <span class="token string">'产权年限'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 列columns按区间</span><span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'总价(万元)'</span><span class="token punctuation">:</span> <span class="token string">'产权年限'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 行和列都按区间查询</span><span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">'总价(万元)'</span><span class="token punctuation">:</span> <span class="token string">'产权年限'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">## 条件表达式查询</span><span class="token comment" spellcheck="true"># print(df['产权年限'] == '未知') # 返回真假</span><span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>df<span class="token punctuation">[</span><span class="token string">'产权年限'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'未知'</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>df<span class="token punctuation">[</span><span class="token string">'产权年限'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'未知'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'产权年限'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 打印未知数据</span><span class="token comment" spellcheck="true">## 调用函数查询lambda</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'调用函数查询lambda'</span><span class="token punctuation">)</span>query_my_lambda_dataf <span class="token operator">=</span> <span class="token keyword">lambda</span> f<span class="token punctuation">:</span> <span class="token punctuation">(</span>f<span class="token punctuation">[</span><span class="token string">'总价(万元)'</span><span class="token punctuation">]</span> <span class="token operator">>=</span> <span class="token number">298</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span>f<span class="token punctuation">[</span><span class="token string">'总价(万元)'</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>query_my_lambda_dataf<span class="token punctuation">(</span>df<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'调用函数查询'</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">query_my_data</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>f<span class="token punctuation">[</span><span class="token string">'总价(万元)'</span><span class="token punctuation">]</span> <span class="token operator">>=</span> <span class="token number">298</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span>f<span class="token punctuation">[</span><span class="token string">'总价(万元)'</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>query_my_data<span class="token punctuation">(</span>df<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># apply</span><span class="token keyword">def</span> <span class="token function">get_fumao_type</span><span class="token punctuation">(</span>df<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true"># print(type(df))</span>    <span class="token keyword">if</span> df<span class="token punctuation">[</span><span class="token string">'总价(万元)'</span><span class="token punctuation">]</span> <span class="token operator">></span> <span class="token number">500</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token string">'富翁'</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token string">'平民'</span><span class="token comment" spellcheck="true"># python函数是否带括号的区别</span><span class="token comment" spellcheck="true"># 不带括号，调用函数自己</span><span class="token comment" spellcheck="true"># 带括号，有参得传参数。返回函数执行的结果</span>df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token string">'fumao_type'</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">.</span>apply<span class="token punctuation">(</span>get_fumao_type<span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">'fumao_type'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 计算该列的不同值的数量</span>df<span class="token punctuation">[</span><span class="token string">'111'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">''</span> <span class="token comment" spellcheck="true">#创建空列</span><span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">## 统计所有数字列的结果</span><span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>describe<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 查看单列统计结果</span><span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">'总价(万元)'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>max<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">'总价(万元)'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>std<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true">#标准差</span><span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">'总价(万元)'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">'总价(万元)'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">#均值</span><span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">'总价(万元)'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>min<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">##</span><span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">'所在区域'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>unique<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token comment" spellcheck="true"># 打印有多少个不同的区域</span><span class="token comment" spellcheck="true">## 相关系数与协方差</span><span class="token keyword">print</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>cov<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>df<span class="token punctuation">[</span><span class="token string">'建筑类型'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>notnull<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token comment" spellcheck="true"># 去除缺失值的行</span>df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>df<span class="token punctuation">[</span><span class="token string">'梯户比例'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>notnull<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token comment" spellcheck="true"># 去除缺失值的行</span>df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>df<span class="token punctuation">[</span><span class="token string">'配备电梯'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>notnull<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">]</span> <span class="token comment" spellcheck="true"># 去除缺失值的行</span>df<span class="token punctuation">.</span>dropna<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token string">'columns'</span><span class="token punctuation">,</span> how<span class="token operator">=</span><span class="token string">'all'</span><span class="token punctuation">,</span> inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 去除空的列</span>df<span class="token punctuation">.</span>dropna<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token string">'index'</span><span class="token punctuation">,</span> how<span class="token operator">=</span><span class="token string">'all'</span><span class="token punctuation">,</span> inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>   <span class="token comment" spellcheck="true"># 去除空的行</span>df<span class="token punctuation">.</span>to_excel<span class="token punctuation">(</span><span class="token string">'南京二手房_temp.xlsx'</span><span class="token punctuation">,</span> sheet_name<span class="token operator">=</span><span class="token string">'南京二手房'</span><span class="token punctuation">,</span> index<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 生成xlsx文件</span><span class="token comment" spellcheck="true"># 绘图</span><span class="token comment" spellcheck="true"># plt.figure()</span><span class="token comment" spellcheck="true"># plt.plot(df.index, df['总价(万元)'])</span><span class="token comment" spellcheck="true"># plt.show()</span></code></pre><h3 id="代码二"><a href="#代码二" class="headerlink" title="代码二"></a>代码二</h3><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># -*- coding:utf-8 -*-</span><span class="token keyword">import</span> jieba<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd<span class="token keyword">import</span> wordcloudfile <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">"xx.txt"</span><span class="token punctuation">,</span><span class="token string">"r"</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span>t <span class="token operator">=</span> file<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>file<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># df = pd.read_excel('南京二手房.xlsx')</span><span class="token comment" spellcheck="true"># t = df['所在区域']</span>ls <span class="token operator">=</span> jieba<span class="token punctuation">.</span>lcut<span class="token punctuation">(</span>t<span class="token punctuation">)</span>txt <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>ls<span class="token punctuation">)</span>w <span class="token operator">=</span> wordcloud<span class="token punctuation">.</span>WordCloud<span class="token punctuation">(</span>font_path <span class="token operator">=</span> <span class="token string">"msyh.ttc"</span><span class="token punctuation">,</span>width<span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">,</span>height <span class="token operator">=</span> <span class="token number">800</span><span class="token punctuation">,</span> background_color<span class="token operator">=</span><span class="token string">"white"</span> <span class="token punctuation">)</span>w<span class="token punctuation">.</span>generate<span class="token punctuation">(</span>txt<span class="token punctuation">)</span>w<span class="token punctuation">.</span>to_file<span class="token punctuation">(</span><span class="token string">"wordcloud.png"</span><span class="token punctuation">)</span></code></pre><h3 id="词云"><a href="#词云" class="headerlink" title="词云"></a>词云</h3><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># -*- coding:utf-8 -*-</span><span class="token keyword">import</span> jieba<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd<span class="token keyword">import</span> wordcloudfile <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">"xx.txt"</span><span class="token punctuation">,</span><span class="token string">"r"</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span>t <span class="token operator">=</span> file<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>file<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># df = pd.read_excel('南京二手房.xlsx')</span><span class="token comment" spellcheck="true"># t = df['所在区域']</span>ls <span class="token operator">=</span> jieba<span class="token punctuation">.</span>lcut<span class="token punctuation">(</span>t<span class="token punctuation">)</span>txt <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>ls<span class="token punctuation">)</span>w <span class="token operator">=</span> wordcloud<span class="token punctuation">.</span>WordCloud<span class="token punctuation">(</span>font_path <span class="token operator">=</span> <span class="token string">"msyh.ttc"</span><span class="token punctuation">,</span>width<span class="token operator">=</span><span class="token number">1000</span><span class="token punctuation">,</span>height <span class="token operator">=</span> <span class="token number">800</span><span class="token punctuation">,</span> background_color<span class="token operator">=</span><span class="token string">"white"</span> <span class="token punctuation">)</span>w<span class="token punctuation">.</span>generate<span class="token punctuation">(</span>txt<span class="token punctuation">)</span>w<span class="token punctuation">.</span>to_file<span class="token punctuation">(</span><span class="token string">"wordcloud.png"</span><span class="token punctuation">)</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL之多表查询</title>
      <link href="posts/9088.html"/>
      <url>posts/9088.html</url>
      
        <content type="html"><![CDATA[<h3 id="外键"><a href="#外键" class="headerlink" title="外键"></a>外键</h3><h4 id="外键（foreign-key）"><a href="#外键（foreign-key）" class="headerlink" title="外键（foreign key）"></a>外键（foreign key）</h4><p><strong>：外键为某个表中的⼀列，它包含另⼀个表的主键值，定义了两个表之间的关系。</strong> </p><h4 id="主表（⽗表）"><a href="#主表（⽗表）" class="headerlink" title="主表（⽗表）"></a>主表（⽗表）</h4><p><strong>：对于两个具有关联关系的表⽽⾔，相关联字段中的主键所在的那个表即是主表。</strong></p><h4 id="从表（⼦表）"><a href="#从表（⼦表）" class="headerlink" title="从表（⼦表）"></a>从表（⼦表）</h4><p><strong>：对于两个具有关联关系的表⽽⾔，相关联字段中的外键所在的那个表即是从表。</strong></p><h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><h4 id="格式"><a href="#格式" class="headerlink" title="格式"></a>格式</h4><pre class=" language-mysql"><code class="language-mysql">-- 添加外键alter table 从表 add [constraint][外键名称] foreign key (从表外键字段名)references 主表 (主表的主键);--[外键名称]用于删除外键约束的，一般建议“_fk”结尾-- 也可以在建表时添加外键约束，--CONSTRAINT orders_customers_fk FOREIGN KEY (cust_id) REFERENCES customers (cust_id)-- 删除外键alter table 从表 drop foreign key 外键名称</code></pre><h4 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h4><pre class=" language-mysql"><code class="language-mysql"># 添加外键ALTER TABLE orders ADD constraint orders_customers_fk FOREIGN KEY (cust_id) REFERENCES customers (cust_id);ALTER TABLE orders ADD CONSTRAINT orders_customers_fk FOREIGN KEY (cust_id) REFERENCES customers (cust_id);# 删除外键ALTER TABLE orders DROP FOREIGN KEY orders_customers_fk;# 向主表添加数据INSERT INTO customers (cust_id,cust_name) VALUES (666,'王老五'); -- 成功# 向从表添加数据INSERT INTO orders(order_date, cust_id) VALUES (now(),666); -- 成功# 向从表添加数据INSERT INTO orders (order_date,cust_id) VALUES (now(),111) ;-- 失败,插入数据在外键在主表不存在ALTER TABLE orders ADD CONSTRAINT orders_customers_fk FOREIGN KEY (cust_id) REFERENCES customers (cust_id);show CREATE TABLE orders;SHOW CREATE TABLE customers;</code></pre><h3 id="表关系"><a href="#表关系" class="headerlink" title="表关系"></a>表关系</h3><p><strong>实际开发中，⼀个项⽬通常需要很多张表才能完成。例如：⼀个商城项⽬就需要顾客表(customers)、商品表(products)、订单表(orders) 等多张表。且这些表的数据之间存在⼀定的关系，接下来我们将在单表的基础上，⼀起学习多表⽅⾯的知识。</strong></p><h4 id="⼀对⼀关系"><a href="#⼀对⼀关系" class="headerlink" title="⼀对⼀关系"></a>⼀对⼀关系</h4><ul><li>在实际的开发中不多.因为⼀对⼀可以创建成⼀张表</li><li>常⻅实例：商品表和商品描述表</li></ul><p><strong>建表原则</strong></p><ul><li>外键唯⼀：主表的主键和从表的外键（唯⼀），形成主外键关系，外键唯⼀ unique。</li><li>外键是主键：主表的主键和从表的外键，形成主外键关系。</li></ul><h4 id="⼀对多关系"><a href="#⼀对多关系" class="headerlink" title="⼀对多关系"></a>⼀对多关系</h4><ul><li>常⻅实例：客户和订单，分类和商品，部⻔和员⼯, 省份和城市</li><li>⼀对多建表原则：在从表(多⽅)创建⼀个字段，字段作为外键指向主表(⼀⽅)的主键.</li></ul><h4 id="实例-1"><a href="#实例-1" class="headerlink" title="实例"></a>实例</h4><pre class=" language-mysql"><code class="language-mysql">-- 创建省份表DROP TABLE province;CREATE TABLE province(    pid         int         NOT NULL        PRIMARY KEY,    pname       varchar(32) NOT NULL COMMENT '省份名称', -- 省份名称;    description varchar(100)                         -- 描述;)    COMMENT '省份表';DROP TABLE city;-- 创建城市表CREATE TABLE city(    cid         int PRIMARY KEY,    cname       varchar(32),  -- 城市名称    description varchar(100), -- 描述    province_id int,    CONSTRAINT city_province_fk FOREIGN KEY (province_id) REFERENCES province (pid));</code></pre><h4 id="多对多关系"><a href="#多对多关系" class="headerlink" title="多对多关系"></a>多对多关系</h4><ul><li>常⻅实例：商品和订单，学⽣和课程，⽤户和⻆⾊</li><li>多对多关系建表原则：需要创建第三张表,中间表中⾄少两个字段，这两个字段分别作为外键指向各⾃⼀⽅的主键</li></ul><h4 id="实例-2"><a href="#实例-2" class="headerlink" title="实例"></a>实例</h4><pre class=" language-mysql"><code class="language-mysql">CREATE TABLE `user`(    uid        int PRIMARY KEY,    username   varchar(32),    `password` varchar(32));-- 角色表CREATE TABLE role(    rid   int PRIMARY KEY,    rname varchar(32));-- 中间表CREATE TABLE user_role(    user_id int,    role_id int,    CONSTRAINT user_role_pk PRIMARY KEY (user_id, role_id),    CONSTRAINT user_id_fk FOREIGN KEY (user_id) REFERENCES `user` (uid),    CONSTRAINT role_id_fk FOREIGN KEY (role_id) REFERENCES role (rid));</code></pre><h3 id="注意-特别提醒"><a href="#注意-特别提醒" class="headerlink" title="注意|特别提醒"></a>注意|特别提醒</h3><ul><li>现在这种创建外键的⽅式已经不提倡，甚⾄被禁⽌了，因为在维护数据时，限制条件太多，效率较低。关联关系通过 SQL 语句来实现。</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL之子查询</title>
      <link href="posts/e0e6.html"/>
      <url>posts/e0e6.html</url>
      
        <content type="html"><![CDATA[<pre class=" language-mysql"><code class="language-mysql"># 假设现在需要列出订购物品 id 为 60005 的所有客户 id、客户名称，应该怎样检索？下⾯列出了具体的步骤。SELECT cust_id, cust_nameFROM customers;# (1) 从明细表中查出包含物品 60005 的所有订单的编号。SELECT prod_id, order_numFROM orderitems;SELECT order_numFROM orderitemsWHERE prod_id = 60005;# (2) 根据前⼀步骤查询出的订单编号，从订单表中查出所有客户的 ID。SELECT cust_idFROM ordersWHERE order_num IN (20005, 20007, 20009);# (3) 根据前⼀步骤查询出的的所有客户 ID，从客户表中查出对应的客户信息。SELECT cust_idFROM ordersWHERE order_num IN (    SELECT order_num    FROM orderitems    WHERE prod_id = 60005);SELECT cust_id, cust_nameFROM customersWHERE cust_id IN (    SELECT cust_id    FROM orders    WHERE order_num IN (        SELECT order_num        FROM orderitems        WHERE prod_id = 60005    ));SELECT cust_id, cust_nameFROM customersWHERE cust_id IN (    SELECT cust_id    FROM orders    WHERE order_num IN (        SELECT order_num        FROM orderitems        WHERE prod_id = 60005    ));#使⽤⼦查询，返回购买单价为 10 元或以上产品的顾客 id、顾客名称。#（思路提示：使⽤ orderitems 表查找匹配的订单号（order_num）,然后使⽤ order 表检索这些匹配订单的顾客 id（cust_id））SELECT cust_id, cust_nameFROM customersWHERE cust_id IN (    SELECT cust_id    FROM orders    WHERE order_num IN (        SELECT order_num        FROM orderitems        WHERE item_price >= 10    ));# 假设现在你需要查询购买 id 为 60005 的产品的所有下单⽇期，以及下单的顾客 id，SQL 该如何写？# 未排序SELECT order_date, cust_idFROM ordersWHERE order_num IN (    SELECT order_num    FROM orderitems    WHERE prod_id = 60005);# 日期升序SELECT order_date, cust_idFROM ordersWHERE order_num IN (    SELECT order_num    FROM orderitems    WHERE prod_id = 60005)ORDER BY order_date;# 查询购买 id 为 60005 的产品的所有顾客的邮箱，该如何写 SQL？# 思路：顾客表SELECT cust_email # 顾客的邮箱FROM customers # 顾客表WHERE cust_id IN ( # 查询顾客id    SELECT cust_id    FROM orders # 用户-订单表（中间表）    WHERE order_num IN ( # 查询订单id        SELECT order_num        FROM orderitems # 订单明细表        WHERE prod_id = 60005 # 查询商品id    ));</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL之组合查询</title>
      <link href="posts/69ce.html"/>
      <url>posts/69ce.html</url>
      
        <content type="html"><![CDATA[<h3 id="UNION-操作符"><a href="#UNION-操作符" class="headerlink" title="UNION 操作符"></a>UNION 操作符</h3><p><strong>UNION 操作符⽤于连接两个以上的 SELECT 语句的结果组合到⼀个结果集合中。默认：多个 SELECT 语句会删除重复的数据。</strong></p><h4 id="格式"><a href="#格式" class="headerlink" title="格式"></a>格式</h4><pre class=" language-mysql"><code class="language-mysql">SELECT 列名, 列名,...FROM tables [WHERE 条件]UNION [ALL | DISTINCT]SELECT 列名, 列名,...FROM tables [WHERE 条件];</code></pre><h4 id="解读"><a href="#解读" class="headerlink" title="解读"></a>解读</h4><ul><li>DISTINCT: 可选，删除结果集中重复的数据。默认情况下 UNION 操作符已经删除了重复数据，所以 DISTINCT 修饰符对结果没什么 影响。</li><li>ALL: 可选，返回所有结果集，包含重复数据。</li></ul><pre class=" language-mysql"><code class="language-mysql"># 准备数据：先复制一张表 customers2CREATE TABLE customers2 SELECT * FROM customers;# 复制表结构CREATE TABLE cus LIKE customers;# 复制数据INSERT INTO cus(cust_id, cust_name, cust_address,                cust_city, cust_state, cust_zip,                cust_country, cust_contact, cust_email)SELECT cust_id,       cust_name,       cust_address,       cust_city,       cust_state,       cust_zip,       cust_country,       cust_contact,       cust_emailFROM customers;# 准备数据：在customers2 中修改几条数据UPDATE customers2 SET cust_name = '杨过' WHERE cust_id = 10001 ;UPDATE customers2 SET cust_name = '小龙女' WHERE cust_id = 10002;UPDATE customers2 SET cust_name = '金庸' WHERE cust_id = 10003 ;# 查询 customers 表中的顾客名称SELECT cust_nameFROM customers;# 查询 customers2 表中的顾客名称SELECT cust_nameFROM customers2;# 查询 customers 和 customers2 表中的顾客名称SELECT cust_nameFROM customersUNIONSELECT cust_nameFROM customers2;# 结果变成了8条数据，是因为两张表中有两条重复数据，被自动去重了，如果不想去重，想全部显示呢？SELECT cust_nameFROM customersUNION allSELECT cust_nameFROM customers2;</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> MYSQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL之分组查询</title>
      <link href="posts/ebf0.html"/>
      <url>posts/ebf0.html</url>
      
        <content type="html"><![CDATA[<pre class=" language-mysql"><code class="language-mysql"># 查询商品表，返回供应商1003提供的产品数目SELECT COUNT(*) AS prod_numFROM productsWHERE vend_id = 1003;SELECT COUNT(prod_id) AS prod_numFROM productsWHERE vend_id = 1003;# 如果我想查询每个供应商提供的产品数量呢？SELECT count(prod_id), vend_idFROM productsGROUP BY vend_id;SELECT vend_id, count(*) as prod_numFROM productsGROUP BY vend_id;# 查询每个供应商提供的产品数量，并且产品数量大于2的供应商idSELECT vend_id, count(prod_id) as prod_numfrom productsGROUP BY vend_idHAVING prod_num > 2;SELECT vend_id, COUNT(prod_id) AS prod_numFROM productsGROUP BY vend_idHAVING COUNT(prod_id) > 2;SELECT vend_id, count(*) AS prod_numFROM productsGROUP BY vend_idHAVING count(*) > 2;# 思考题：查询每个供应商提供的产品数目，以及每个供应商提供的商品中最贵的价格；--提示，在同时查询多个聚合函数SELECT vend_id, count(prod_id), max(prod_price), min(prod_price)FROM productsGROUP BY vend_id;# 思考题：在供应商id大于1001的供应商中，查询每个供应商提供的产品数目，以及每个供应商提供的商品中最贵的价格；-- 效率高，先筛选，再分组SELECT vend_id, count(prod_id), max(prod_price), min(prod_price)FROM productsWHERE vend_id > 1001GROUP BY vend_id;-- 效率低，先分组，再过滤SELECT vend_id, count(prod_id), max(prod_price), min(prod_price)FROM productsGROUP BY vend_idHAVING vend_id > 1001;# 思考题：在供应商id大于1001的供应商中，查询每个供应商提供的产品数目，以及每个供应商提供的商品中最贵的价格，并且最高价格大于10的数据-- 分组再过滤SELECT vend_id, count(prod_id)FROM productsWHERE vend_id > 1001 -- 供应商id大于1001的供应商中GROUP BY vend_id -- 对供应商进行分组HAVING max(prod_price) > 10; -- 每个供应商提供的商品中最贵的价格，并且最高价格大于10的数据# 思考题：在供应商id大于1001的供应商中，查询每个供应商提供的产品数目，以及每个供应商提供的商品中最贵的价格，并且最高价格大于10的数据，并按供应商id从高到低排序SELECT vend_id, COUNT(prod_id), MAX(prod_price)FROM productsWHERE vend_id > 1001 -- 供应商id大于1001的供应商中GROUP BY vend_id -- 对供应商进行分组HAVING MAX(prod_price) > 10 -- 每个供应商提供的商品中最贵的价格，并且最高价格大于10的数据ORDER BY vend_id DESC; -- 降序# 作业题：从订单明细表中，查询每笔订单的订单编号和订单总额，并且得到订单总额大于100的数据，将最终结果按照订单总额从大到小排序, 取前两条数据SELECT order_num, sum(item_price * quantity) as order_todal -- 查询每笔订单的订单编号和订单总额FROM orderitems -- 从订单明细表中GROUP BY order_numHAVING order_todal > 100ORDER BY order_todal DESCLIMIT 2;SELECT order_num, item_price * quantity as order_todal -- 查询每笔订单的订单编号和订单总额FROM orderitems -- 从订单明细表中ORDER BY order_num DESC;SELECT order_num, sum(item_price * quantity) as order_todal -- 查询每笔订单的订单编号和订单总额FROM orderitems -- 从订单明细表中GROUP BY order_numORDER BY order_todal DESC;SELECT order_num, SUM(item_price * quantity) AS order_todal -- 查询每笔订单的订单编号和订单总额FROM orderitems -- 从订单明细表中GROUP BY order_numHAVING order_todal > 100ORDER BY order_todal DESCLIMIT 2;</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL之SQL约束</title>
      <link href="posts/7b13.html"/>
      <url>posts/7b13.html</url>
      
        <content type="html"><![CDATA[<h2 id="约束"><a href="#约束" class="headerlink" title="约束"></a>约束</h2><p>约束, 其实就是⼀种限制条件, 让你不能超出这个控制范围。 公路上有速度限制、⻋距限制、鸣笛限制。 ⽽在数据库中的约束，就是指 表中的数据内容 不能胡乱填写，必须按照要求填写，好保证数据的 完整性与安全性 .</p><h3 id="数据准备"><a href="#数据准备" class="headerlink" title="数据准备"></a>数据准备</h3><pre class=" language-mysql"><code class="language-mysql">-- 准备数据CREATE TABLE persons (    pid int COMMENT '用户编号',    firstname varchar(255) COMMENT '名字',    lastname varchar(255) COMMENT '姓氏',    address varchar(255) COMMENT '家庭住址');insert into persons values(1, '星驰','周','香港');insert into persons values(1, '德华','刘','香港');insert into persons values(2, '德华','刘',null);insert into persons values(null, '润发','周','香港');</code></pre><h3 id="主键约束"><a href="#主键约束" class="headerlink" title="主键约束"></a>主键约束</h3><h4 id="PRIMARY-KEY-约束"><a href="#PRIMARY-KEY-约束" class="headerlink" title="PRIMARY KEY 约束"></a>PRIMARY KEY 约束</h4><ul><li>主键必须包含唯⼀的值, 不能重复。</li><li>主键列不能包含 NULL 值。</li><li>每个表有且只有一个主键。</li></ul><h4 id="添加主键约束"><a href="#添加主键约束" class="headerlink" title="添加主键约束"></a>添加主键约束</h4><ul><li><p>⽅式⼀：创建表时，在字段描述处，声明指定字段为主键：</p></li><li><ul><li>格式: 字段名 数据类型[长度] PRIMARY KEY</li></ul></li><li><pre class=" language-mysql"><code class="language-mysql">CREATE TABLE persons (    pid int primary key, -- 添加了主键约束    lastname varchar(255),    firstname varchar(255),    address varchar(255));INSERT INTO persons VALUES(1, '星驰','周','香港');INSERT INTO persons VALUES(1, '德华','刘','香港'); -- 设置主键后, 插入失败, 值重复INSERT INTO persons VALUES(2, '德华','刘',NULL);INSERT INTO persons VALUES(NULL, '润发','周','香港'); -- 设置主键后, 插入失败, 值不能为 NULL</code></pre></li><li><p>⽅式⼆：创建表时，在 constraint 约束区域，声明指定字段为主键：</p></li><li><ul><li>格式： [constraint 名称] primary key (字段列表)</li><li>关键字 constraint 可以省略，如果需要为主键命名，constraint 不能省略，主键名称⼀般没⽤。</li><li>字段列表需要使⽤⼩括号括住，如果有多字段需要使⽤逗号分隔。声明两个以上字段为主键，我们称为联合主键。</li></ul></li><li><pre class=" language-mysql"><code class="language-mysql">CREATE TABLE persons (    pid int,    lastname varchar(255),    firstname varchar(255),    address varchar(255),    constraint pk_persons primary key (pid) -- 添加主键约束, 单一字段);CREATE TABLE persons (    pid INT,    lastname VARCHAR(255),    firstname VARCHAR(255),    address VARCHAR(255),    CONSTRAINT pk_persons PRIMARY KEY (lastname, firstname) -- 添加主键约束, 多个字段, 我们称为联合主键。);INSERT INTO persons VALUES(1, '星驰', '周', '香港');INSERT INTO persons VALUES(1, '德华', '刘', '香港');INSERT INTO persons VALUES(2, '德华', '刘', NULL); -- 插入失败，因为刘 德华重复INSERT INTO persons VALUES(3, '德华', '马', '大陆');</code></pre></li><li><p>⽅式三：创建表之后，通过修改表结构，声明指定字段为主键：</p></li><li><ul><li>格式： ALTER TABLE 表名 ADD [CONSTRAINT 名称] PRIMARY KEY (字段列表)</li></ul></li><li><pre class=" language-mysql"><code class="language-mysql">CREATE TABLE persons (    pid int,    lastname varchar(255),    firstname varchar(255),    address varchar(255));alter table persons add constraint pk_persons primary key (lastname, firstname); -- 添加联合主键</code></pre></li></ul><h4 id="删除主键约束"><a href="#删除主键约束" class="headerlink" title="删除主键约束"></a>删除主键约束</h4><ul><li><p>格式：</p></li><li><pre class=" language-mysql"><code class="language-mysql">ALTER TABLE 表名 DROP PRIMARY KEY</code></pre></li><li><p>实例：</p></li><li><pre class=" language-mysql"><code class="language-mysql">alter table persons drop primary key;</code></pre></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL之函数</title>
      <link href="posts/20ee.html"/>
      <url>posts/20ee.html</url>
      
        <content type="html"><![CDATA[<pre class=" language-mysql"><code class="language-mysql">SELECT prod_id, prod_name, prod_price FROM products ORDER BY prod_price DESC LIMIT 0, 3;SELECT products.prod_id, products.prod_name FROM mydb.products;SELECT DISTINCT vend_id from products;SELECT prod_name, prod_price FROM products LIMIT 1, 3;# 先按供应商id降序，再按产品价格升序SELECT vend_id, prod_price FROM products ORDER BY vend_id DESC , prod_price ASC ;# 先按供应商id升序，再按产品价格升序SELECT vend_id, prod_price FROM products ORDER BY vend_id ASC , prod_price ASC ;SELECT prod_name, prod_price FROM products WHERE prod_price = 55.00;SELECT prod_price, prod_name FROM products WHERE prod_price != 55;SELECT prod_price, prod_name FROM products WHERE prod_price <> 55.00;SELECT prod_price, prod_name FROM products WHERE prod_price >= 5 and prod_price <= 10;SELECT prod_price, prod_name FROM products WHERE prod_price between 5 and 10;SELECT prod_name, prod_desc FROM products WHERE prod_desc IS NULL;SELECT prod_name, prod_desc FROM products WHERE prod_desc is NOT NULL;SELECT prod_name, vend_id, prod_price FROM products WHERE vend_id = 1001 OR vend_id = 1002;SELECT prod_name, vend_id, prod_price FROM products WHERE (vend_id = 1001 OR vend_id = 1002) AND prod_price > 10;SELECT prod_name, vend_id, prod_price FROM products WHERE vend_id IN (1001, 1002);SELECT prod_name, vend_id, prod_price FROM products WHERE vend_id NOT IN (1001, 1002);# 查询产品名称中 i 开头的产品名称SELECT prod_name FROM products WHERE prod_name LIKE 'i%';# 注意：MySQL默认是不区分大小写的，所以查询小写 i , 大写 I 也会被查询出来# 如果想区分大小写呢？# 有两种方式，一种是修改表结构，字段后面加 binary 关键字，但修改表结构一般不推荐# 第二种是，在SQL语句中添加 BINARY 格式：SELECT 列名 FROM 表名 WHERE BINARY 列名 LIKE '字符‘;SELECT prod_name FROM products WHERE BINARY prod_name LIKE 'I%';# % 可以匹配0到多个字符，但不能匹配 null# 查询产品名称中第二个字是’王‘的产品SELECT prod_name FROM products WHERE prod_name LIKE '_王%';# 注意：通配符虽然好用，但不要滥用，尽量不要把%放在最前面，比如：where like '%王'。因为这也搜索效率会很慢，具体原因，进阶阶段再深入探#查询商品表，返回一列：商品名称（价格）。SELECT concat(prod_name, ' ( ', prod_price, ' ) ') FROM products WHERE prod_price <= 10;SELECT CONCAT(prod_name, '(', prod_price, ')')FROM productsORDER BY prod_price;#查询商品表，返回一列：商品名称（价格），并将该列命名为prod_name_price。SELECT CONCAT(prod_name, '(', prod_price, ')') AS prod_name_priceFROM productsORDER BY prod_name;SELECT CONCAT(prod_name, '(', prod_price, ')') AS prod_name_priceFROM productsORDER BY prod_price DESCLIMIT 0, 7;# 查询 orderitems 表中，订单编号为 20006的产品id（prod_id），物品单价(item_price)，物品数量(quantity)。并计算每个产品的总价(totalSELECT prod_id, item_price, quantityFROM orderitemsWHERE order_num = 20006;SELECT prod_nameFROM productsORDER BY prod_price DESCLIMIT 0, 5;SELECT order_num, prod_id, item_price, quantity, item_price * quantity totalFROM orderitemsORDER BY order_num DESC;SELECT order_num, prod_id, item_price, quantity, item_price * quantityFROM orderitemsORDER BY order_num DESC;SELECT order_num, prod_id, item_price, quantity, item_price * quantity AS totalFROM orderitemsORDER BY order_num DESC;#查询产品表，将产品名称中所有字母转换为大写、小写SELECT UPPER(prod_name)FROM products;SELECT lower(prod_name)FROM products;# 查询产品表，返回产品名称的前三个字符/后三个字符SELECT left(prod_name, 3)FROM products;SELECT right(prod_name, 3)FROM products;# substring() 有三种用法，下面直接看示例吧# substring(字符串,n) 从第n个索引位置开始截取字符串。索引从1开始。SELECT substring(prod_name, 2)FROM products;SELECT substring(prod_name, 2, 3)FROM products;SELECT substring(prod_name, 1, 4)FROM productsORDER BY prod_name DESC;SELECT substring(prod_name FROM 1 FOR 4)FROM productsORDER BY prod_name DESC ;SELECT substring_index('www.kaikeba.com','.',2) as abstract;SELECT prod_nameFROM productsORDER BY CONVERT(prod_name USING gbk) DESC;SELECT prod_name, prod_price, vend_idFROM productsORDER BY vend_id DESC, CONVERT(prod_name USING gbk) asc;SELECT prod_name, prod_priceFROM productsWHERE prod_price >= 5  AND prod_price <= 10;SELECT prod_nameFROM productsWHERE prod_name LIKE 'i%';SELECT CONCAT(prod_name, '(', prod_price, ')'), prod_idFROM productsORDER BY prod_price DESCLIMIT 0, 5;SELECT CONCAT(prod_name, '(', prod_price, ')') AS prod_name_priceFROM productsWHERE prod_price >= 5;SELECT trim(prod_name)FROM products;SELECT ltrim(prod_name)FROM products;SELECT rtrim(prod_name)FROM products;# 增加日期 语法格式：DATE_ADD(date,INTERVAL expr type) 注意：DATE_ADD和adddate是同义词SELECT date_add(order_date, INTERVAL 5 DAY ) FROM orders WHERE order_num = 20005;# 查询当前时间SELECT curdate();SELECT curtime();SELECT curdate(), curtime();# 查询当前日期和时间SELECT curdate(), curtime();# 查询订单列表，返回下单时间的日期部分SELECT DATE(order_date) FROM orders;SELECT DATE(order_date), TIME(order_date) FROM orders;SELECT order_date FROM orders;# DATEDIFF() 函数返回两个日期之间的天数。格式：DATEDIFF(date1,date2) 只有日期部分参与运算SELECT datediff('2007-09-12', '2000-09-12');SELECT order_date FROM orders;SELECT now(); -- 返回当前日期和时间；SELECT DATE (order_date) FROM orders;# 查询订单表中的下单时间，将下单时间格式化为：年/月/日。格式SELECT DATE_FORMAT(order_date, '%Y/%m/%d')FROM orders;SELECT date_format(order_date, '%y/%m/%d')FROM orders;# 查询订单表的下单时间，只返回年份SELECT year(order_date)FROM orders;# 查询今天是一周中的第几天（西方周日为第一天）SELECT dayofweek(now());# 查询今天是周几SELECT dayname(now());SELECT COUNT(order_date)FROM orders;SELECT count(prod_desc)FROM products;# 查询商品表中单价最高的商品SELECT max(prod_price)FROM products;# 查询商品表中单价最低的商品SELECT min(prod_price)FROM products;# 查询商品表中所有商品单价的平均值SELECT avg(prod_price)FROM products;# 查询商品表中一共有多少条数据 -- 注意和count（1）的区别，阿里手册推荐用count（*）SELECT count(*)FROM products;SELECT count(1)FROM products;# 查询商品表中商品描述列，不为null 的数据有多少条SELECT count(prod_desc)FROM products;# 查询商品表中供应商有几家？SELECT count(DISTINCT vend_id)FROM products;# 查询订单明细表中，商品数量（quantity）的总和SELECT sum(quantity)FROM orderitems;# 查询订单明细表中，订单编号为20005的订单的总订单金额SELECT sum(item_price * orderitems.quantity)FROM orderitemsWHERE order_num = 20005;# 查询商品表中，一共多少条商品、最低价格、最高价格、平均价格；SELECT count(prod_name), min(prod_price), max(prod_price), avg(prod_price)FROM products;SELECT count(*), min(prod_price), max(prod_price), avg(prod_price)FROM products;-- md5 加密函数SELECT md5(prod_name) FROM products;SELECT md5('Axieyun');select md5('1993539830');-- 查询当前⽤户select user();-- 查询当前数据库的版本号select version();-- IFNULL() 函数⽤于判断第⼀个表达式是否为 NULL，如果为 NULL 则返回第⼆个参数的值，如果不为 NULL 则返回第⼀个参数的值。-- IFNULL() 函数语法格式为： IFNULL(expression, alt_value)SELECT ifnull(prod_desc, '我是默认值null') FROM products;</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>py之类</title>
      <link href="posts/2cca.html"/>
      <url>posts/2cca.html</url>
      
        <content type="html"><![CDATA[<h3 id="类的定义"><a href="#类的定义" class="headerlink" title="类的定义"></a>类的定义</h3><ul><li>类（class）：<strong>用来描述具有相同的属性和方法的对象的集合，对象是类的实例</strong></li><li>方法：类中的函数</li><li>类变量：在整个实例化的对象是公有的。类变量定义在类中且在函数体之外。类变量通常不作为实例变量使用</li><li>数据成员：类变量或者实例变量用于处理类及其实例对象的相关的数据</li><li>方法重写：如果从父类继承的方法不能满足子类的需求，可以对其进行改写，这个过程叫方法的覆盖，也称为方法的重写。</li><li>局部变量：定义在方法中的变量，只作用于当前实例的类。</li><li>实例变量：在类的声明中，属性是用变量来表示的，这种变量称为实例变量，实例变量就是一个用self修饰的变量</li><li>继承：一个派生类继承基类的字段和方法。</li><li>实例化：创建一个类的实例，类的具体对象</li><li>对象：通过类定义的数据结构实例。对象包含两个数据成员（类变量与实例变量）和方法</li></ul><h4 id="格式"><a href="#格式" class="headerlink" title="格式"></a>格式</h4><ul><li><pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> 类名<span class="token punctuation">:</span>    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></code></pre></li></ul><h4 id="类的实例self"><a href="#类的实例self" class="headerlink" title="类的实例self"></a>类的实例self</h4><p><strong>self代表类的实例，是一个对象</strong></p><ul><li>对于类中的每一个方法，没有参数时，记得加self</li><li>类的第一个参数为self</li></ul><h3 id="继承与重写"><a href="#继承与重写" class="headerlink" title="继承与重写"></a>继承与重写</h3><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true">## 继承与重写</span><span class="token keyword">class</span> <span class="token class-name">People</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> wight<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name        self<span class="token punctuation">.</span>age <span class="token operator">=</span> age        self<span class="token punctuation">.</span>wight <span class="token operator">=</span> wight        <span class="token keyword">return</span>    <span class="token keyword">def</span> <span class="token function">sayhello</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'大家好，我是{}，体重为{}Kg，今年{}岁了！！！'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> self<span class="token punctuation">.</span>wight<span class="token punctuation">,</span> self<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span><span class="token keyword">class</span> <span class="token class-name">student</span><span class="token punctuation">(</span>People<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> wight<span class="token punctuation">,</span> grade<span class="token punctuation">)</span><span class="token punctuation">:</span>        People<span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> wight<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>grade <span class="token operator">=</span> grade        <span class="token keyword">return</span>    <span class="token keyword">def</span> <span class="token function">sayhello</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'大家好，我是{}，体重为{}Kg，今年{}岁了，在读{}年级'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> self<span class="token punctuation">.</span>wight<span class="token punctuation">,</span> self<span class="token punctuation">.</span>age<span class="token punctuation">,</span> self<span class="token punctuation">.</span>grade<span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">return</span>s <span class="token operator">=</span> People<span class="token punctuation">(</span><span class="token string">'Axieyun'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">)</span>s<span class="token punctuation">.</span>sayhello<span class="token punctuation">(</span><span class="token punctuation">)</span>p <span class="token operator">=</span> student<span class="token punctuation">(</span><span class="token string">'Axieyun'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> <span class="token string">'大一'</span><span class="token punctuation">)</span>p<span class="token punctuation">.</span>sayhello<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><h3 id="类的私有属性与私有方法"><a href="#类的私有属性与私有方法" class="headerlink" title="类的私有属性与私有方法"></a>类的私有属性与私有方法</h3><h4 id="private-attrs私有属性"><a href="#private-attrs私有属性" class="headerlink" title="__private_attrs私有属性"></a>__private_attrs私有属性</h4><ul><li>变量格式：变量名前加两个下划线__</li><li>函数格式：函数名前加两个下划线__</li></ul><pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">JustCounter</span><span class="token punctuation">:</span>    publicCount <span class="token operator">=</span> <span class="token number">0</span>    __privateCount <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">def</span> <span class="token function">count</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>publicCount <span class="token operator">+=</span> <span class="token number">1</span>        self<span class="token punctuation">.</span>__privateCount <span class="token operator">+=</span> <span class="token number">1</span>        <span class="token keyword">return</span>counter <span class="token operator">=</span> JustCounter<span class="token punctuation">(</span><span class="token punctuation">)</span>counter<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span>counter<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>counter<span class="token punctuation">.</span>publicCount<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># print(counter.__privateCount) # 报错</span></code></pre><pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Site</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> url<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name        self<span class="token punctuation">.</span>url <span class="token operator">=</span> url    <span class="token keyword">def</span> <span class="token function">who</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'{}：{}'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> self<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">__private</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'私有的方法'</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">public</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token triple-quoted-string string">"""        :rtype: object        """</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'共同的方法'</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>who<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;'</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'私有的方法'</span><span class="token punctuation">)</span>s <span class="token operator">=</span> Site<span class="token punctuation">(</span><span class="token string">'KKB'</span><span class="token punctuation">,</span> <span class="token string">'kaikeba.com'</span><span class="token punctuation">)</span>s1 <span class="token operator">=</span> Site<span class="token punctuation">(</span><span class="token string">'TaoBao'</span><span class="token punctuation">,</span> <span class="token string">'taobao.com'</span><span class="token punctuation">)</span>s<span class="token punctuation">.</span>who<span class="token punctuation">(</span><span class="token punctuation">)</span>s<span class="token punctuation">.</span>public<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># s.__private()</span></code></pre><h3 id="类的专用方法"><a href="#类的专用方法" class="headerlink" title="类的专用方法"></a>类的专用方法</h3><ul><li><p>1.init()：构造函数，在生成对象时调用</p></li><li><p>2.del()：构造函数，释放对象时使用 </p></li><li><p>3.repr()：打印，转换 </p></li><li><p>4.setitem():按照索引赋值==》a[idx] </p></li><li><p>5.getitem():按照索引获取值==》a[idx] </p></li><li><p>6.len():能够获得长度==》len(obj) </p></li><li><p>7.cmp():比较运算 </p></li><li><p>8.call():函数调用</p></li><li><p>9.add():加运算 </p></li><li><p>10.sub():减运算 </p></li><li><p>11.mul():乘运算 </p></li><li><p>12.truediv():除运算 </p></li><li><p>13.mod():求余运算 </p></li><li><p>14.pow():乘方</p></li></ul><h4 id="add函数使用"><a href="#add函数使用" class="headerlink" title="add函数使用"></a>add函数使用</h4><pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Site</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> url<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name        self<span class="token punctuation">.</span>url <span class="token operator">=</span> url    <span class="token keyword">def</span> <span class="token function">who</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'{}：{}'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> self<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">__private</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'私有的方法'</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">public</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token triple-quoted-string string">"""        :rtype: object        """</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'共同的方法'</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>who<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;'</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'私有的方法'</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">__add__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> other<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> Site<span class="token punctuation">(</span>self<span class="token punctuation">.</span>name <span class="token operator">+</span> other<span class="token punctuation">.</span>name<span class="token punctuation">,</span> self<span class="token punctuation">.</span>url <span class="token operator">+</span> other<span class="token punctuation">.</span>url<span class="token punctuation">)</span>s <span class="token operator">=</span> Site<span class="token punctuation">(</span><span class="token string">'KKB'</span><span class="token punctuation">,</span> <span class="token string">'kaikeba.com'</span><span class="token punctuation">)</span>s1 <span class="token operator">=</span> Site<span class="token punctuation">(</span><span class="token string">'TaoBao'</span><span class="token punctuation">,</span> <span class="token string">'taobao.com'</span><span class="token punctuation">)</span>s<span class="token punctuation">.</span>who<span class="token punctuation">(</span><span class="token punctuation">)</span>s<span class="token punctuation">.</span>public<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># s.__private()</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%'</span> <span class="token operator">*</span> <span class="token number">40</span><span class="token punctuation">)</span>tp <span class="token operator">=</span> s <span class="token operator">+</span> s1tp<span class="token punctuation">.</span>who<span class="token punctuation">(</span><span class="token punctuation">)</span>tp<span class="token punctuation">.</span>public<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>py之文件操作</title>
      <link href="posts/2e4e.html"/>
      <url>posts/2e4e.html</url>
      
        <content type="html"><![CDATA[<h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><ul><li>write写文件都是字符串，不是字符串，先转换为字符串读入</li></ul><pre class=" language-python"><code class="language-python">f <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">'text.txt'</span><span class="token punctuation">,</span> mode<span class="token operator">=</span><span class="token string">'w'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>num <span class="token operator">=</span> f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'Axieyun:Python是一门十分优雅的语言。\n某老头：我也觉得是的。\nAxieyun：桂林电子科技大学是一个监狱!\n某老头：我也觉得是。\n'</span><span class="token punctuation">)</span>f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'&amp;'</span><span class="token operator">*</span><span class="token number">30</span> <span class="token operator">+</span> <span class="token string">'1'</span><span class="token punctuation">)</span>f <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">'text.txt'</span><span class="token punctuation">,</span> mode<span class="token operator">=</span><span class="token string">'r'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>data <span class="token operator">=</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'&amp;'</span><span class="token operator">*</span><span class="token number">30</span> <span class="token operator">+</span> <span class="token string">'2'</span><span class="token punctuation">)</span>f <span class="token operator">=</span> open<span class="token punctuation">(</span><span class="token string">'text.txt'</span><span class="token punctuation">,</span> mode<span class="token operator">=</span><span class="token string">'r'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>data <span class="token operator">=</span> f<span class="token punctuation">.</span>readlines<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">for</span> x <span class="token keyword">in</span> data<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span>f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>py之输入输出</title>
      <link href="posts/6aa2.html"/>
      <url>posts/6aa2.html</url>
      
        <content type="html"><![CDATA[<h3 id="原型"><a href="#原型" class="headerlink" title="原型"></a>原型</h3><h3 id="print函数"><a href="#print函数" class="headerlink" title="print函数"></a>print函数</h3><h4 id="原型-1"><a href="#原型-1" class="headerlink" title="原型"></a>原型</h4><pre class=" language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token operator">*</span>objects<span class="token punctuation">,</span> sep<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">'\n'</span><span class="token punctuation">,</span> file<span class="token operator">=</span>sys<span class="token punctuation">.</span>stdout<span class="token punctuation">,</span> flush<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span></code></pre><ul><li>*objects：一个或多个待打印对象</li><li>sep与end看实例</li><li>file：指定文本流，表示打印的地方，默认控制台，可以接收文件（可写），被打印的参数转换为文本，不支持二进制文件。</li><li>flush：从内存中刷新到磁盘中</li></ul><h4 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h4><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># sep参数</span>data <span class="token operator">=</span> <span class="token string">'hello world!'</span><span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> data<span class="token punctuation">,</span> sep<span class="token operator">=</span><span class="token string">'xxx'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># end参数</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'asdasd'</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">'*******'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'sdfsd'</span><span class="token punctuation">)</span></code></pre><h3 id="格式化字符"><a href="#格式化字符" class="headerlink" title="格式化字符"></a>格式化字符</h3><pre class=" language-python"><code class="language-python">s <span class="token operator">=</span> <span class="token string">'hello world'</span><span class="token keyword">print</span><span class="token punctuation">(</span>str<span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>repr<span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><h3 id="老式格式化字符"><a href="#老式格式化字符" class="headerlink" title="老式格式化字符"></a>老式格式化字符</h3><pre class=" language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%d + %d = %d\n'</span><span class="token operator">%</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%s + %c = %f\n'</span><span class="token operator">%</span><span class="token punctuation">(</span><span class="token string">'2342'</span><span class="token punctuation">,</span> <span class="token string">'f'</span><span class="token punctuation">,</span> <span class="token number">1.5</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'%f + %d = %f\n'</span><span class="token operator">%</span><span class="token punctuation">(</span><span class="token number">1.5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1.5</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><h3 id="格式化字串format"><a href="#格式化字串format" class="headerlink" title="格式化字串format"></a>格式化字串format</h3><pre class=" language-python"><code class="language-python"><span class="token keyword">import</span> mathname <span class="token operator">=</span> <span class="token string">'Axieyun'</span>age <span class="token operator">=</span> <span class="token number">20</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'常量PI的值近视为：{0:.12f}'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>math<span class="token punctuation">.</span>pi<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 大家好，我是Axieyun，今年20岁了</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'大家好，我是'</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> <span class="token string">'今年'</span><span class="token punctuation">,</span>age<span class="token punctuation">,</span> <span class="token string">'岁了'</span><span class="token punctuation">)</span>info <span class="token operator">=</span> <span class="token string">'大家好，我是{}，今年{}岁了'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span></code></pre><h4 id="format根据关键字进行格式化字符"><a href="#format根据关键字进行格式化字符" class="headerlink" title="format根据关键字进行格式化字符"></a>format根据关键字进行格式化字符</h4><pre class=" language-python"><code class="language-python">name <span class="token operator">=</span> <span class="token string">'Axieyun'</span>age <span class="token operator">=</span> <span class="token number">20</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'大家好，我是{name}，今年{age}岁了'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>age <span class="token operator">=</span> age<span class="token punctuation">,</span> name <span class="token operator">=</span> name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'大家好，我是{name}，今年{age}岁了'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>name <span class="token operator">=</span> name<span class="token punctuation">,</span> age <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><h4 id="format根据索引进行格式化字符"><a href="#format根据索引进行格式化字符" class="headerlink" title="format根据索引进行格式化字符"></a>format根据索引进行格式化字符</h4><pre class=" language-python"><code class="language-python">name <span class="token operator">=</span> <span class="token string">'Axieyun'</span>age <span class="token operator">=</span> <span class="token number">20</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'大家好，我是{0}，今年{1}岁了'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'大家好，我是{1}，今年{0}岁了'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>age<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><h4 id="format根据字典进行格式化字符"><a href="#format根据字典进行格式化字符" class="headerlink" title="format根据字典进行格式化字符"></a>format根据字典进行格式化字符</h4><pre class=" language-python"><code class="language-python">table <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Google'</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'Baidu'</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'Taobao'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token keyword">for</span> name<span class="token punctuation">,</span> number <span class="token keyword">in</span> table<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'{0:7}==>{1:2d}'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>name<span class="token punctuation">,</span> number<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Baidu: {0[Baidu]: 2d}\nTaobao: {0[Taobao]: 2d}\nGoogle: {0[Google]: 2d}'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>table<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><h3 id="input函数"><a href="#input函数" class="headerlink" title="input函数"></a>input函数</h3><pre class=" language-python"><code class="language-python">s <span class="token operator">=</span> input<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>type<span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>name <span class="token operator">=</span> input<span class="token punctuation">(</span><span class="token string">'请输入你的名字：'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'{}欢迎你'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span>info <span class="token operator">=</span> input<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>info<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>info<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> info<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>py之模块</title>
      <link href="posts/3c1f.html"/>
      <url>posts/3c1f.html</url>
      
        <content type="html"><![CDATA[<h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><ul><li>模块是一个包含所有你自己定义的函数和变量的文件，后缀名为.py</li></ul><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><ul><li>import 文件名（没有后缀名）</li><li>或者：import 文件名（没有后缀名）as 别名</li></ul><h4 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h4><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># -*- coding:utf-8 -*-</span><span class="token triple-quoted-string string">'''---作者: Axieyun日期: 2021年10月24日---'''</span><span class="token keyword">import</span> sys<span class="token keyword">import</span> support <span class="token keyword">as</span> st<span class="token keyword">import</span> fibonaciil <span class="token keyword">as</span> flst<span class="token punctuation">.</span>welcome<span class="token punctuation">(</span><span class="token string">'Axieyun'</span><span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token keyword">in</span> sys<span class="token punctuation">.</span>argv<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token triple-quoted-string string">'''>> python 1\测试.py 123 abc&lt;&lt;&lt; 1\测试.py123abc'''</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'\npython的路径：'</span><span class="token punctuation">,</span> sys<span class="token punctuation">.</span>path<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'\npython的路径：'</span><span class="token punctuation">,</span> sys<span class="token punctuation">.</span>path<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>fl<span class="token punctuation">.</span>fibo_list<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>fl<span class="token punctuation">.</span>fibo<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span></code></pre><h3 id="name-属性"><a href="#name-属性" class="headerlink" title="__name__属性"></a>__name__属性</h3><h4 id="定义-1"><a href="#定义-1" class="headerlink" title="定义"></a>定义</h4><ul><li><p>一个模块被另一个程序第一次引用时，其主程序将运行。</p></li><li><p>如果我们想再模块引入时，模块中的某一程序块不执行，</p></li><li><pre class=" language-python"><code class="language-python">我们可以利用__name__属性来使该程序仅在该模块自身执行时执行</code></pre></li></ul><h4 id="实例-1"><a href="#实例-1" class="headerlink" title="实例"></a>实例</h4><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 直接打印前n个斐波那契数列的数</span><span class="token keyword">def</span> <span class="token function">fibo</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>    a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span>    <span class="token keyword">while</span> n<span class="token punctuation">:</span>        a<span class="token punctuation">,</span> b <span class="token operator">=</span> b<span class="token punctuation">,</span> a <span class="token operator">+</span> b        <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>        n <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">return</span><span class="token comment" spellcheck="true"># 以列表形式返回前n个斐波那契数列的数</span><span class="token keyword">def</span> <span class="token function">fibo_list</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>    a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span>    result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token keyword">while</span> n<span class="token punctuation">:</span>        a<span class="token punctuation">,</span> b <span class="token operator">=</span> b<span class="token punctuation">,</span> a <span class="token operator">+</span> b        result<span class="token punctuation">.</span>append<span class="token punctuation">(</span>a<span class="token punctuation">)</span>        n <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span>    <span class="token keyword">return</span> result<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    fibo<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'fibo_list调试：'</span><span class="token punctuation">,</span> fibo_list<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre><h3 id="实例-2"><a href="#实例-2" class="headerlink" title="实例"></a>实例</h3><h4 id="执行文件测试-py"><a href="#执行文件测试-py" class="headerlink" title="执行文件测试.py"></a>执行文件测试.py</h4><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># -*- coding:utf-8 -*-</span><span class="token triple-quoted-string string">'''---作者: Axieyun日期: 2021年10月24日---'''</span><span class="token keyword">import</span> sys<span class="token keyword">import</span> support <span class="token keyword">as</span> st<span class="token keyword">import</span> fibonaciil <span class="token keyword">as</span> flst<span class="token punctuation">.</span>welcome<span class="token punctuation">(</span><span class="token string">'Axieyun'</span><span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token keyword">in</span> sys<span class="token punctuation">.</span>argv<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token triple-quoted-string string">'''>> python 1\测试.py 123 abc&lt;&lt;&lt; 1\测试.py123abc'''</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'\npython的路径：'</span><span class="token punctuation">,</span> sys<span class="token punctuation">.</span>path<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'\npython的路径：'</span><span class="token punctuation">,</span> sys<span class="token punctuation">.</span>path<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>fl<span class="token punctuation">.</span>fibo_list<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>fl<span class="token punctuation">.</span>fibo<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span></code></pre><h4 id="调用模块文件fibonaciil-py"><a href="#调用模块文件fibonaciil-py" class="headerlink" title="调用模块文件fibonaciil.py"></a>调用模块文件fibonaciil.py</h4><pre class=" language-python"><code class="language-python"><span class="token comment" spellcheck="true"># 直接打印前n个斐波那契数列的数</span><span class="token keyword">def</span> <span class="token function">fibo</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>    a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span>    <span class="token keyword">while</span> n<span class="token punctuation">:</span>        a<span class="token punctuation">,</span> b <span class="token operator">=</span> b<span class="token punctuation">,</span> a <span class="token operator">+</span> b        <span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>        n <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">return</span><span class="token comment" spellcheck="true"># 以列表形式返回前n个斐波那契数列的数</span><span class="token keyword">def</span> <span class="token function">fibo_list</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>    a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span>    result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token keyword">while</span> n<span class="token punctuation">:</span>        a<span class="token punctuation">,</span> b <span class="token operator">=</span> b<span class="token punctuation">,</span> a <span class="token operator">+</span> b        result<span class="token punctuation">.</span>append<span class="token punctuation">(</span>a<span class="token punctuation">)</span>        n <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span>    <span class="token keyword">return</span> result<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    fibo<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'fibo_list调试：'</span><span class="token punctuation">,</span> fibo_list<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>py之匿名函数lambda</title>
      <link href="posts/a0ce.html"/>
      <url>posts/a0ce.html</url>
      
        <content type="html"><![CDATA[<h3 id="lambda"><a href="#lambda" class="headerlink" title="lambda"></a>lambda</h3><h4 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h4><ul><li>一次性函数，用的时候才加载</li></ul><h4 id="格式"><a href="#格式" class="headerlink" title="格式"></a>格式</h4><ul><li>替代名字 = lambda 参数: 表达式</li></ul><h4 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h4><pre class=" language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">two_number_sum</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> a <span class="token operator">+</span> ba<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span>two_number_sum_lam <span class="token operator">=</span> <span class="token keyword">lambda</span> a<span class="token punctuation">,</span> b<span class="token punctuation">:</span> a <span class="token operator">+</span> b<span class="token keyword">print</span><span class="token punctuation">(</span>two_number_sum<span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>two_number_sum_lam<span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>py之对象</title>
      <link href="posts/7aa1.html"/>
      <url>posts/7aa1.html</url>
      
        <content type="html"><![CDATA[<pre class=" language-apl"><code class="language-apl">不可变对象 ：int，string，float，tuple   <span class="token function">-</span><span class="token function">-</span> 可理解为C中，该参数为值传递可变对象   ：list，dictionary           <span class="token function">-</span><span class="token function">-</span> 可理解为C中，该参数为指针传递</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C语言函数scanf的认识</title>
      <link href="posts/48a8.html"/>
      <url>posts/48a8.html</url>
      
        <content type="html"><![CDATA[<h4 id="读入字母，陷入死循环？？？？？？？？？"><a href="#读入字母，陷入死循环？？？？？？？？？" class="headerlink" title="读入字母，陷入死循环？？？？？？？？？"></a>读入字母，陷入死循环？？？？？？？？？</h4><pre><code>#include &lt;stdio.h&gt;int main() {    // ~0 = -1;    int a;    while (~scanf("%d", &amp;a)) {        //陷入死循环        /*原因：        scanf返回值==按照占位符正确输入的数量。         当没有按照占位符输入的数据类型时，scanf返回0，        而那个没有按照占位符输入的数据类型存在缓冲区没有被读取，        while循环使得scanf一直从缓冲区读取那个字符，从而导致while陷入死循环。         解决方法：刷新缓冲区即可        1、getchar();                 */     }    printf("%d\n", a);     return 0;}</code></pre><h3 id="究其原因"><a href="#究其原因" class="headerlink" title="究其原因"></a>究其原因</h3><pre><code>#include &lt;stdio.h&gt;int main() {    // ~0 = -1;    int a;    while (~scanf("%d", &amp;a)) {        getchar();             }    printf("%d\n", a);     return 0;}</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> c语言基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL之数据类型</title>
      <link href="posts/7dd4.html"/>
      <url>posts/7dd4.html</url>
      
        <content type="html"><![CDATA[<h3 id="常用数据类型"><a href="#常用数据类型" class="headerlink" title="常用数据类型"></a>常用数据类型</h3><table><thead><tr><th>类型名称</th><th>说明</th></tr></thead><tbody><tr><td>int</td><td>整数类型</td></tr><tr><td>double</td><td>⼩数类型</td></tr><tr><td>decimal（m,d）</td><td>指定⻓度的⼩数类型</td></tr><tr><td>date</td><td>⽇期类型，格式为 yyyy-MM-dd，包含年⽉⽇，不包含时分秒</td></tr><tr><td>datetime</td><td>⽇期类型，格式为 YYYY-MM-DD HH:MM:SS，包含年⽉⽇时分秒</td></tr><tr><td>varchar（M）</td><td>⽂本类型， M 为 0~16383 之间的整数（可变⻓度）</td></tr><tr><td>char(M)</td><td>⽂本类型, M 为 0~255 之间的整数（不可变⻓度）</td></tr></tbody></table><h3 id="扩展数据类型"><a href="#扩展数据类型" class="headerlink" title="扩展数据类型"></a>扩展数据类型</h3><h4 id="整数扩展"><a href="#整数扩展" class="headerlink" title="整数扩展"></a>整数扩展</h4><table><thead><tr><th>类型</th><th>有符号取值范围（signed）</th><th>⽆符号取值范围（unsigned）</th><th>占⽤字节</th></tr></thead><tbody><tr><td>TINYINT</td><td>-128 ~ 127</td><td>0 ~ 255</td><td>1</td></tr><tr><td>SMALLINT</td><td>-32768 ~ 32767</td><td>0 ~ 65535</td><td>2</td></tr><tr><td>MEDIUMINT</td><td>-8388608 ~ 8388607</td><td>0 ~ 16777215</td><td>3</td></tr><tr><td>INT</td><td>-2147483648 ~ 2147483647</td><td>0 ~ 4294967295</td><td>4</td></tr><tr><td>BIGINT</td><td>-9223372036854775808 ~ 9223372036854775807</td><td>0 ~ 8446744073709551615</td><td>8</td></tr></tbody></table><h4 id="浮点数类型与定点数扩展"><a href="#浮点数类型与定点数扩展" class="headerlink" title="浮点数类型与定点数扩展"></a>浮点数类型与定点数扩展</h4><ul><li><p>浮点数类型和定点数类型的可以表示⼩数。</p></li><li><p>浮点数类型有两种：</p></li><li><ul><li>单精度浮点类型 FLOAT（M，D）</li><li>双精度浮点类型 DOUBLE（M，D）</li><li>M 取值范围是[1,255]，D 的取值范围 是[1,30]。</li></ul></li><li><p>定点数类型只有⼀种：DECIMAL（M，D）。</p></li><li><p>M 表示总共的位数（整数位数 + ⼩数位数），D 表示⼩数部分多少位。</p></li><li><table><thead><tr><th>类型</th><th>有符号</th><th>⽆符号</th><th>占⽤字节</th></tr></thead><tbody><tr><td>FLOAT</td><td>（-3.402823466E+38 ~ -1.175494351E-38）, 0 , （1.175494351E-38 ~ 3.402823466E+38）</td><td>0, 1.175494351E-38 ~ 3.402823466E+38</td><td>4</td></tr><tr><td>DOUBLE</td><td>（-1.7976931348623157E+308 ~ 2.2250738585072014E-308）,0, （2.2250738585072014E-308 ~1.7976931348623157E+308）</td><td>（2.2250738585072014E-308 ~1.7976931348623157E+308）</td><td>8</td></tr></tbody></table></li><li><p>DECIMAL（M，D）⽐较特殊， M 的范围[1,65]，D 的范围[0,30]，其中 D≤M，占⽤字节是变⻓的（M+2）。</p></li><li><p>FLOAT 和 DOUBLE 不指定精度时，默认会按照实际的精度存储（有计算机硬件和操作系统决定），DECIMAL 不指定精度时，默认为 （10，0）。</p></li><li><p>因为 FLOAT 和 DOUBLE 并不精确，所以在计算⼀些精度要求⽐较⾼的时候字段时（⽐如⾦额）要⽤ DECIMAL。</p></li><li><p>演示：</p></li><li><pre class=" language-mysql"><code class="language-mysql">CREATE TABLE test(    double_price double,    decimal_price decimal(2, 2));INSERT INTO testVALUES (0.47, 0.47),       (0.44, 0.44),       (0.19, 0.19);SELECT sum(double_price), sum(decimal_price) FROM test;</code></pre></li></ul><h3 id="二进制字符串类型"><a href="#二进制字符串类型" class="headerlink" title="二进制字符串类型"></a>二进制字符串类型</h3><table><thead><tr><th>类型</th><th>说明</th><th>最⼤⻓度</th></tr></thead><tbody><tr><td>BIT（M）</td><td>位字段类型</td><td>⼤约（M+7）/8 个字节 (M 最⼤是 64)</td></tr><tr><td>BINARY(M)</td><td>固定⻓度的⼆进制字符串</td><td>255</td></tr><tr><td>VARBINARY(M)</td><td>可变⻓度的⼆进制字符串</td><td>16384</td></tr><tr><td>TINYBLOB(M)</td><td>⾮常⼩的 BLOB</td><td>256</td></tr><tr><td>BLOB(M)</td><td>⼆进制⼤对象 可以存储⼆进制⽂件</td><td>16K</td></tr></tbody></table><h3 id="文本字符串类型"><a href="#文本字符串类型" class="headerlink" title="文本字符串类型"></a>文本字符串类型</h3><p>字符串类型⽤来存储字符串数据，除了可以存储字符串数据外，还可以存储其他数据，⽐如图⽚和声⾳的⼆进制数据。 MySQL ⽀持两类字符型数据：⽂本字符串和⼆进制字符串。</p><table><thead><tr><th>类型</th><th>说明</th><th>最⼤⻓度</th></tr></thead><tbody><tr><td>CHAR(N)</td><td>定⻓ 字符</td><td>255</td></tr><tr><td>VARCHAR(N)</td><td>变⻓ 字符</td><td>16383</td></tr><tr><td>TINYTEXT</td><td>⾮常⼩的变⻓字符串</td><td>255</td></tr><tr><td>TEXT</td><td>⼩的变⻓字符串</td><td>16K</td></tr><tr><td>MEDIUMTEXT</td><td>中等⼤⼩的变⻓字符串</td><td>16M</td></tr><tr><td>LONGTEXT</td><td>⼤的变⻓字符串</td><td>4G</td></tr><tr><td>ENUM</td><td>枚举类型</td><td>最多 65536 个值</td></tr><tr><td>SET</td><td>集合类型</td><td>最多 64 个值</td></tr></tbody></table><ul><li>注意：char 和 varchar 中的 N 指的是 字符长度 ，不是字节⻓度。</li></ul><h3 id="⽇期与时间类型"><a href="#⽇期与时间类型" class="headerlink" title="⽇期与时间类型"></a>⽇期与时间类型</h3><table><thead><tr><th>类型</th><th>⽇期格式</th><th>⽇期范围</th><th>字节</th></tr></thead><tbody><tr><td>YEAR</td><td>YYYY</td><td>1901 ~ 2155</td><td>1</td></tr><tr><td>TIME</td><td>HH:MM:SS</td><td>-838:59:59 ~ 838:59:59</td><td>3</td></tr><tr><td>DATE</td><td>YYYY-MM-DD</td><td>1000-01-01 ~ 9999-12-3</td><td>3</td></tr><tr><td>DATETIME</td><td>YYYY-MM-DD HH:MM:SS</td><td>1000-01-01 00:00:00 ~ 9999-12-31 23:59:59</td><td>8</td></tr><tr><td>TIMESTAMP</td><td>YYYY-MM-DD HH:MM:SS</td><td>1970-01-01 00:00:01 UTC ~ 2038-01- 19 03:14:07 UTC</td><td>4</td></tr></tbody></table>]]></content>
      
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL之数据库基本操作</title>
      <link href="posts/b2db.html"/>
      <url>posts/b2db.html</url>
      
        <content type="html"><![CDATA[<h3 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h3><h4 id="方式一"><a href="#方式一" class="headerlink" title="方式一"></a>方式一</h4><ul><li><p>使⽤指定的字符编码表，创建数据库。</p></li><li><p>语法：CREATE DATABASE 数据库名 CHARACTER SET 字符编码；</p></li><li><pre class=" language-mysql"><code class="language-mysql">CREATE DATABASE mydb CHARACTER SET utf8mb4;</code></pre></li><li><p>注：</p></li><li><ul><li>mysql 中有 utf8 和 utf8mb4 两种编码，在 mysql 中请⼤家忘记 utf8，永远使⽤ utf8mb4 。</li><li>这是 mysql 的⼀个遗留问题， mysql 中的 utf8 最多只能⽀持 3bytes ⻓度的字符编码，对于⼀些需要占据 4bytes 的⽂字，mysql 的 utf8 就不⽀持了，要使⽤ utf8mb4 才⾏。</li></ul></li></ul><h4 id="方式二"><a href="#方式二" class="headerlink" title="方式二"></a>方式二</h4><ul><li><p>使⽤默认的字符编码表（ latin1 ）,创建数据库. </p></li><li><p>格式: CREATE DATABASE 数据库名;</p></li><li><pre class=" language-mysql"><code class="language-mysql">CREATE DATABASE mydb2;ALTER DATABASE mydb CHARACTER SET utf8mb4;  -- 修改数据库编码</code></pre></li></ul><h4 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h4><pre class=" language-mysql"><code class="language-mysql">如果创建⼀个已经存在的数据库会怎样？执⾏报错，如果我们想让：当数据库不存在时再创建，该如何做呢？CREATE DATABASE IF NOT EXISTS mydb2 CHARACTER SET utf8mb4;</code></pre><h3 id="查看数据库"><a href="#查看数据库" class="headerlink" title="查看数据库"></a>查看数据库</h3><h4 id="以列表形式返回所有的数据库"><a href="#以列表形式返回所有的数据库" class="headerlink" title="以列表形式返回所有的数据库"></a>以列表形式返回所有的数据库</h4><pre class=" language-mysql"><code class="language-mysql">SHOW DATABASES ;</code></pre><h5 id="解释"><a href="#解释" class="headerlink" title="解释"></a>解释</h5><p><strong>show databases;这个命令返回可⽤数据库的⼀个列表。包含在这个列表中的可能是 MySQL 内部使⽤的数据库。</strong></p><ul><li>information_schema 信息架构库，存储元数据信息</li><li>mysql ⽤户信息表，存储了⽤户相关的信息</li><li>performance_schema 性能库，存储性能监控相关的信息（较专业）</li><li>sys 相当于 performance_schema 的简化，⽅便我们查看</li></ul><h4 id="查看当前数据库"><a href="#查看当前数据库" class="headerlink" title="查看当前数据库"></a>查看当前数据库</h4><pre class=" language-mysql"><code class="language-mysql">SELECT DATABASE();</code></pre><h4 id="查看当前数据库字符编码"><a href="#查看当前数据库字符编码" class="headerlink" title="查看当前数据库字符编码"></a>查看当前数据库字符编码</h4><ul><li><p>格式：SHOW CREATE DATABASE 数据库名;</p></li><li><pre class=" language-mysql"><code class="language-mysql">SHOW CREATE DATABASE mydb; -- 查看数据库mydb字符编码SHOW CREATE DATABASE mydb2;</code></pre></li></ul><h3 id="选择数据库"><a href="#选择数据库" class="headerlink" title="选择数据库"></a>选择数据库</h3><pre class=" language-mysql"><code class="language-mysql">USE mysql; -- 切换数据库为mysql</code></pre><h3 id="修改数据库字符编码"><a href="#修改数据库字符编码" class="headerlink" title="修改数据库字符编码"></a>修改数据库字符编码</h3><pre class=" language-mysql"><code class="language-mysql">ALTER DATABASE mydb CHARACTER SET utf8mb4;</code></pre><h3 id="删除数据库"><a href="#删除数据库" class="headerlink" title="删除数据库"></a>删除数据库</h3><pre class=" language-mysql"><code class="language-mysql">DROP DATABASE mydb;--同理，为了防止报错，删除数据库是也可以加一个判断，如果存在再删除DROP DATABASE IF EXISTS mydb;</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL之单词学习</title>
      <link href="posts/a3be.html"/>
      <url>posts/a3be.html</url>
      
        <content type="html"><![CDATA[<table><thead><tr><th>单词</th><th>意思</th></tr></thead><tbody><tr><td>alter</td><td>改变</td></tr><tr><td>table</td><td>表</td></tr><tr><td>alter table</td><td>更改表格</td></tr><tr><td>primary</td><td>主要的、重要的</td></tr><tr><td>key</td><td>钥匙</td></tr><tr><td>primary key</td><td>主键</td></tr><tr><td>delate</td><td>删除</td></tr><tr><td>delete from</td><td>删除</td></tr><tr><td>drop</td><td>滴；下降</td></tr><tr><td>drop table</td><td>删除数据表、删除基本表、表删除</td></tr><tr><td>drop primary key</td><td>删除主键</td></tr><tr><td>drop index</td><td>删除索引</td></tr><tr><td>create</td><td>创造、创建</td></tr><tr><td>create table</td><td>创建表</td></tr><tr><td>insert</td><td>插入</td></tr><tr><td>insert into</td><td>插入数据</td></tr><tr><td>values</td><td>价值观</td></tr><tr><td>auto_increment</td><td>自动递增</td></tr><tr><td>modify</td><td>修改、调整</td></tr><tr><td>unique</td><td>唯一的</td></tr><tr><td>database</td><td>数据库</td></tr><tr><td>use</td><td>使用</td></tr><tr><td>show</td><td>显示</td></tr><tr><td>select</td><td>选择</td></tr><tr><td>show database</td><td>显示数据库</td></tr><tr><td>show create database</td><td>显示创建数据库</td></tr><tr><td>show create</td><td>显示创建</td></tr><tr><td>show create table</td><td>显示创建表</td></tr><tr><td>set</td><td>设置</td></tr><tr><td>character set</td><td>字符集</td></tr><tr><td>update</td><td>更新</td></tr><tr><td>order by</td><td>排序依据</td></tr><tr><td>order</td><td>命令; 顺序</td></tr><tr><td>between …and…</td><td>两者之间</td></tr><tr><td></td><td></td></tr><tr><td></td><td></td></tr><tr><td></td><td></td></tr></tbody></table>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>MySQL之表的基本操作</title>
      <link href="posts/348c.html"/>
      <url>posts/348c.html</url>
      
        <content type="html"><![CDATA[<h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><ul><li><p>MySQL 数据库的 SQL 语句不区分⼤⼩写，关键字建议使⽤⼤写，以分号结尾。例如：</p></li><li><pre class=" language-mysql"><code class="language-mysql">SELECT * FROM user;</code></pre></li><li><p>使⽤/**/、 – 、# 的⽅式完成注释</p></li><li><pre class=" language-mysql"><code class="language-mysql">/*多行注释*/-- 单行注释# 单行注释SELECT * FROM user;</code></pre></li></ul><h3 id="建表"><a href="#建表" class="headerlink" title="建表"></a>建表</h3><h4 id="格式"><a href="#格式" class="headerlink" title="格式"></a>格式</h4><pre class=" language-mysql"><code class="language-mysql">create table 表名 (字段名 数据类型[长度] [约束],字段名 数据类型[长度] [约束],...);# 注:[]中的内容是可选项</code></pre><h4 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h4><pre class=" language-mysql"><code class="language-mysql">-- 创建表student, 字段包括 编号id\ 姓名name\ 年龄ageCREATE TABLE student (id INT,name VARCHAR(100),age INT);-- 创建表users, 字段包括 编号id\ 用户名username \ 密码passwordCREATE TABLE users (id INT,username VARCHAR(100),password VARCHAR(100));</code></pre><h3 id="查表"><a href="#查表" class="headerlink" title="查表"></a>查表</h3><h4 id="格式-1"><a href="#格式-1" class="headerlink" title="格式"></a>格式</h4><pre class=" language-mysql"><code class="language-mysql">-- 查看所有表, 格式: show tablesSHOW TABLES;-- 查看指定表的建表结构, 格式: show create table 表名;SHOW CREATE TABLE users;</code></pre><h4 id="实例-1"><a href="#实例-1" class="headerlink" title="实例"></a>实例</h4><pre class=" language-mysql"><code class="language-mysql">-- 查看所有表, 格式: show tablesSHOW TABLES;-- 查看指定表的建表结构, 格式: show create table 表名;SHOW CREATE TABLE users; #查看表users</code></pre><h3 id="删除表"><a href="#删除表" class="headerlink" title="删除表"></a>删除表</h3><h4 id="格式与实例"><a href="#格式与实例" class="headerlink" title="格式与实例"></a>格式与实例</h4><pre class=" language-mysql"><code class="language-mysql">-- 删除表, 格式: drop table 表名;DROP TABLE users;#删除表users</code></pre><h3 id="改表格式"><a href="#改表格式" class="headerlink" title="改表格式"></a>改表格式</h3><pre class=" language-mysql"><code class="language-mysql">/*对表中的列进行修改1. 添加新的列, 格式: alter table 表名 add 新列名 数据类型(长度);2. 修改列的数据类型(长度), 格式: alter table 表名 modify 列名 修改后的数据类型(长度);3. 修改列的名称, 格式: alter table 表名 change 列名 新列名 新列名的数据类型(长度);4. 删除指定列, 格式: alter table 表名 drop 列名;*/ALTER TABLE student ADD `desc` VARCHAR(100); -- 添加新的列ALTER TABLE student MODIFY `desc` VARCHAR(50);-- 修改列的数据类型(长度)ALTER TABLE student CHANGE `desc` description VARCHAR(100);-- 修改列的名称ALTER TABLE student DROP description;-- 删除指定列/*对表进行修改1. 修改表的名称, 格式: rename table 表名 to 新表名;2. 修改表的字符编码, 格式: alter table 表名 character set 字符编码;*/RENAME TABLE student TO stu; -- 修改表student的名称为stuALTER TABLE stu CHARACTER SET gbk; -- 修改表stu的字符编码为gbk</code></pre><h3 id="插入表记录"><a href="#插入表记录" class="headerlink" title="插入表记录"></a>插入表记录</h3><pre class=" language-mysql"><code class="language-mysql">/*插入表记录方式一, 对指定的字段插入值, 格式: insert into 表名(字段1, 字段2, ...) values (值1, 值2, ...);方式二, 对所有字段插入值, 格式: insert into 表名 values(值1, 值2, ...);方式三, 一次性插入多条数据，格式:insert into 表名(字段1, 字段2, ...) values (值1, 值2, ...),(值1, 值2, ...);*/INSERT INTO student(id, name, age) VALUES(1, 'tom', 24);INSERT INTO student(name, age) VALUES('lili', 22);INSERT INTO student(id, name, age) VALUES(3, 'jim', NULL);INSERT INTO student VALUES(4, 'jack', 26);INSERT INTO student VALUES(5, 'zhangsan', 26),(6,'lisi',27);INSERT INTO student (id ,name,age) VALUES (1,'李四',20),(2,'zhangsan',30);</code></pre><h4 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h4><ul><li>1、值与字段必须对应, 个数相同, 类型相同 </li><li>2、值的数据⼤⼩必须在字段的指定⻓度范围内 </li><li>3、除了整数\⼩数类型外, 其他字段类型的值必须使⽤引号引起来 (建议单引号) </li><li>4、如果要插⼊空值, 可以不写字段, 或者插⼊ null</li></ul><h3 id="更新表"><a href="#更新表" class="headerlink" title="更新表"></a>更新表</h3><pre class=" language-mysql"><code class="language-mysql">-- 更新表记录, 格式: update 表名 set 字段1=值, 字段2=值... where 条件;UPDATE student SET name='lili', age=21 WHERE id=1;UPDATE student SET age=25 WHERE age=27;</code></pre><h4 id="注意-1"><a href="#注意-1" class="headerlink" title="注意"></a>注意</h4><ul><li>1、列名的类型与修改的值要⼀致</li><li>2、修改值时不能超过字段的⻓度范围</li><li>3、除了整数\⼩数类型外, 其他字段类型的值必须使⽤引号扩起来</li></ul><h3 id="表的复制"><a href="#表的复制" class="headerlink" title="表的复制"></a>表的复制</h3><h4 id="删除表记录"><a href="#删除表记录" class="headerlink" title="删除表记录"></a>删除表记录</h4><pre class=" language-mysql"><code class="language-mysql">-- 删除表记录, 格式: delete from 表名 where 条件;DELETE FROM student WHERE id=1;DELETE FROM student WHERE age IS NULL;</code></pre><h4 id="仅复制表结构"><a href="#仅复制表结构" class="headerlink" title="仅复制表结构"></a>仅复制表结构</h4><pre class=" language-mysql"><code class="language-mysql">CREATE TABLE 新表 SELECT * FROM 旧表 WHERE 1=2;</code></pre><h4 id="仅复制数据"><a href="#仅复制数据" class="headerlink" title="仅复制数据"></a>仅复制数据</h4><pre class=" language-mysql"><code class="language-mysql">INSERT INTO 新表(字段1,字段2,.......) SELECT 字段1,字段2,...... FROM 旧表;</code></pre><h3 id="复制表结构及数据到新表"><a href="#复制表结构及数据到新表" class="headerlink" title="复制表结构及数据到新表"></a>复制表结构及数据到新表</h3><pre class=" language-mysql"><code class="language-mysql">CREATE TABLE 新表 SELECT * FROM 旧表;</code></pre><h3 id="运行实例"><a href="#运行实例" class="headerlink" title="运行实例"></a>运行实例</h3><pre class=" language-mysql"><code class="language-mysql">CREATE TABLE Student(    id int,    name varchar(3),    age int);CREATE TABLE Student1(    id int,    username varchar(200),    password varchar(200));CREATE TABLE users(    id int,    username varchar(200),    password varchar(200));SHOW TABLES;  # 查看所有表SHOW CREATE TABLE users;  # 查看表DROP TABLE Student1; # 删除表ALTER TABLE Student ADD `desc` varchar(40);  # 在表增加列，列名字为descALTER TABLE Student MODIFY `desc` varchar(29); # 修改列desc的数据类型长度为29ALTER TABLE Student CHANGE `desc` description varchar(20);  #列desc改名字为descriptionALTER TABLE Student DROP description; # 删除列descriptionRENAME TABLE Student TO Stu; #给表Student改名字为StuSHOW CREATE TABLE Stu;  # 查看表ALTER TABLE Stu CHARACTER SET utf8mb4; # 修改表的字符编码SHOW CREATE TABLE Stu;  # 查看表# 插入表记录INSERT INTO Stu (id, name, age) VALUES (1, 'li', 19); #对指定字段插入值INSERT INTO Stu VALUES (2, 'si', 20); # 对所有字段插入值，数据类型得相对应INSERT INTO Stu VALUES (3, 'hu', 20);ALTER TABLE Stu MODIFY name varchar(20);INSERT INTO Stu VALUES (3, 'husd', 20);INSERT INTO Stu VALUES (6, 'hdu', 20), (5, 'hgu', 20), (4, 'hu', 20);INSERT INTO Stu VALUES (3, 'hu', NULL);#修改字段UPDATE Stu SET age = 129 WHERE id = 3; #修改id为2的记录的age为19UPDATE Stu SET age = NULL, name = 'asd' WHERE id = 3;DELETE FROM Stu WHERE id = 2; #删除记录DELETE FROM Stu WHERE age is NULL; #删除记录，不能用等号/* 注意事项： 1、修改长度不能超过字段的长度范围 2、修改数据类型得相同 */drop TABLE Stu;DROP TABLE users;show variables like 'character_set_database'; # 查看数据库的编码类型ALTER DATABASE mydb CHARACTER SET utf8mb4;  # 修改数据库的编码CREATE TABLE teacher(    id int,    name varchar(200),    age int,    dsecription varchar(200));ALTER TABLE teacher CHARACTER SET utf8mb4;  # 修改表的编码SHOW CREATE TABLE teacher;  # 查看表INSERT INTO teacher VALUES (1, '强哥', 18, '真帅'); # 插入记录DROP TABLE teacher;  # 删除表</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据库基础知识</title>
      <link href="posts/4b7f.html"/>
      <url>posts/4b7f.html</url>
      
        <content type="html"><![CDATA[<h3 id="1、数据库管理系统"><a href="#1、数据库管理系统" class="headerlink" title="1、数据库管理系统"></a>1、数据库管理系统</h3><ul><li>DBA：数据库管理员，职责：管理数据库。</li><li></li></ul><h3 id="2、数据库"><a href="#2、数据库" class="headerlink" title="2、数据库"></a>2、数据库</h3><p><strong>我们常说的数据库指的是客户端</strong> </p><ul><li>客户端：连接服务端的工具，给服务端发送命令的工具</li></ul><h3 id="3、表"><a href="#3、表" class="headerlink" title="3、表"></a>3、表</h3><p><strong>结构化的文件，用来存储某种特定数据类型的数据</strong></p><ul><li>表名：在同一个数据库中，表明唯一</li></ul><h3 id="4、列与数据类型"><a href="#4、列与数据类型" class="headerlink" title="4、列与数据类型"></a>4、列与数据类型</h3><h3 id="5、行"><a href="#5、行" class="headerlink" title="5、行"></a>5、行</h3><p><strong>表中的一条记录</strong></p><ul><li>行也称为记录，技术上说，行才是正确的术语</li></ul><h3 id="6、SQL"><a href="#6、SQL" class="headerlink" title="6、SQL"></a>6、SQL</h3><p><strong>结构化查询语言，专门用来与数据库通信的语言</strong></p><h3 id="特点："><a href="#特点：" class="headerlink" title="特点："></a>特点：</h3><ul><li>几乎所有DBMS都支持SQL</li><li>语句由描述性很强的英语单词组成</li><li>可以进行复杂和高级的数据库操作</li></ul><h4 id="举例"><a href="#举例" class="headerlink" title="举例"></a>举例</h4><ul><li>SQL相当于普通话，MySQL、Qracle则属于方言</li></ul><h4 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h4><ul><li>数据定义语言（DDL）：定义数据库对象</li><li><ul><li>数据库、表、列。关键字：</li><li><ul><li> create</li><li> alter</li><li> drop 等</li></ul></li></ul></li><li>数据控制语言（DCL）：定义数据库的访问权限和安全级别，和创建用户。</li><li>数据操作语言（DML）：更新数据库中表的记录，关键字：</li><li><ul><li>insert</li><li>delete</li><li>update 等</li></ul></li><li>数据查询语言（DQL）：查询数据库中表的记录。关键字：</li><li><ul><li>select</li><li>from</li><li>where 等</li></ul></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 数据库 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C语言利用EasyX实现贪吃蛇进阶版</title>
      <link href="posts/98c3.html"/>
      <url>posts/98c3.html</url>
      
        <content type="html"><![CDATA[<h3 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h3><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;math.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;windows.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;graphics.h></span> </span><span class="token comment" spellcheck="true">// 自己安装EasyX</span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;conio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;map></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;mmsystem.h></span></span><span class="token macro property">#<span class="token directive keyword">pragma</span> comment(lib, "winmm.lib")</span>using namespace std<span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">define</span> MAX_SNAKE 20</span><span class="token macro property">#<span class="token directive keyword">define</span> db double</span><span class="token comment" spellcheck="true">// y轴最大值 </span><span class="token macro property">#<span class="token directive keyword">define</span> Y_MAX 720</span><span class="token comment" spellcheck="true">// x轴最大值       </span><span class="token macro property">#<span class="token directive keyword">define</span> X_MAX 1280  </span><span class="token comment" spellcheck="true">//蛇的最大节数    </span><span class="token macro property">#<span class="token directive keyword">define</span> SNAKE_SIZE_MAX 5000</span><span class="token comment" spellcheck="true">//同一时间出现的食物最大数量   </span><span class="token macro property">#<span class="token directive keyword">define</span> FOOD_MAX 500       </span><span class="token comment" spellcheck="true">//食物颜色的数量  </span><span class="token macro property">#<span class="token directive keyword">define</span> COLOR_NUMBER 11</span><span class="token macro property">#<span class="token directive keyword">define</span> snake_root_r 6</span><span class="token macro property">#<span class="token directive keyword">define</span> snake_body_r 4</span><span class="token macro property">#<span class="token directive keyword">define</span> DELAY 15</span><span class="token comment" spellcheck="true">/************************************************结构定义***************************************************/</span><span class="token comment" spellcheck="true">//枚举方向</span><span class="token keyword">enum</span> DIR <span class="token punctuation">{</span>                  <span class="token comment" spellcheck="true">//枚举第一个元素默认为0，依次加加 </span>    UP<span class="token punctuation">,</span> DOWN<span class="token punctuation">,</span> LEFT<span class="token punctuation">,</span> RIGHT<span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">//上下左右</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//蛇的结构体</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Snake <span class="token punctuation">{</span>    <span class="token keyword">int</span> dir_cnt<span class="token punctuation">;</span>    <span class="token keyword">int</span> temp_sum<span class="token punctuation">;</span>           <span class="token comment" spellcheck="true">//&lt;= 10, 蛇吃的当前分数，10分一节蛇的身体</span>    <span class="token keyword">int</span> sum<span class="token punctuation">;</span>                <span class="token comment" spellcheck="true">//蛇吃的当前分数，10分一节蛇的身体 </span>    <span class="token keyword">int</span> size<span class="token punctuation">;</span>               <span class="token comment" spellcheck="true">//蛇的节数</span>    <span class="token keyword">int</span> dir<span class="token punctuation">;</span>                <span class="token comment" spellcheck="true">//蛇的方向</span>    <span class="token keyword">int</span> speed<span class="token punctuation">;</span>              <span class="token comment" spellcheck="true">//蛇的移动速度</span>    <span class="token comment" spellcheck="true">// 蛇的每一节的坐标</span>    POINT body<span class="token punctuation">[</span>SNAKE_SIZE_MAX<span class="token punctuation">]</span><span class="token punctuation">;</span>    DWORD color<span class="token punctuation">;</span><span class="token punctuation">}</span> Snake<span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Food <span class="token punctuation">{</span>    POINT point<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//食物坐标</span>    DWORD color<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//食物颜色</span>    <span class="token keyword">int</span> r<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//食物半径</span>    <span class="token keyword">int</span>  value<span class="token punctuation">;</span><span class="token punctuation">}</span> Food<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//定义蛇的数组，其中下标为0的蛇为自己操纵的蛇，其他为人机蛇</span>Snake snake<span class="token punctuation">[</span>MAX_SNAKE <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>Food food<span class="token punctuation">[</span>FOOD_MAX<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">/************************************************结构操作***************************************************/</span><span class="token comment" spellcheck="true">// 游戏界面窗口建立</span><span class="token keyword">void</span> <span class="token function">Graphics_Window</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// 初始化图形窗口</span>    <span class="token function">initgraph</span><span class="token punctuation">(</span>X_MAX<span class="token punctuation">,</span> Y_MAX<span class="token punctuation">,</span> SHOWCONSOLE<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 长、宽，窗口颜色</span>    <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//食物的初始化</span><span class="token keyword">void</span> <span class="token function">Food_Init</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//初始化食物的半径</span>    food<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>r <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">6</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 初始化食物坐标</span>    food<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>point<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> X_MAX<span class="token punctuation">;</span>    food<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>point<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> Y_MAX<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 初始化食物颜色</span>    food<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token function">RGB</span><span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">256</span><span class="token punctuation">,</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">256</span><span class="token punctuation">,</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 初始化每个食物分数</span>    food<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//蛇初始化</span><span class="token keyword">void</span> <span class="token function">Snake_Init</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">/***************蛇的初始化***************/</span>    snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token function">RGB</span><span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">256</span><span class="token punctuation">,</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">256</span><span class="token punctuation">,</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>dir_cnt <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>    snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>temp_sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">// 蛇吃的当前分数</span>    snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>           <span class="token comment" spellcheck="true">// 蛇的总分 </span>    snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">;</span>           <span class="token comment" spellcheck="true">// 必须snake.size >= 1, 确保蛇头存在</span>    snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>dir <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">4</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">// 初始化蛇的方向</span>    snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>speed <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>          <span class="token comment" spellcheck="true">// 初始蛇的速度</span>    <span class="token comment" spellcheck="true">// 初始化蛇不会立马撞死在墙上</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> X_MAX<span class="token punctuation">;</span>        snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> Y_MAX<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">else</span> <span class="token punctuation">{</span>        snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">300</span> <span class="token operator">+</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">300</span><span class="token punctuation">;</span>        snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">300</span> <span class="token operator">+</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">300</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">// 初始化蛇的其他部分</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>size<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">=</span> snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token number">9</span><span class="token punctuation">;</span>        snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>y <span class="token operator">=</span> snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// 游戏初始化</span><span class="token keyword">void</span> <span class="token function">Game_Init</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">/***************背景音乐播放***************/</span>    <span class="token function">mciSendString</span><span class="token punctuation">(</span><span class="token string">"open ./res/snake_bgm.mp3 alias BGM"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">mciSendString</span><span class="token punctuation">(</span><span class="token string">"play BGM repeat"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">/***************食物的初始化***************/</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> FOOD_MAX<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">Food_Init</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">/***************蛇的初始化***************/</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">Snake_Init</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//  群体蛇初始化</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">/***************我的蛇的初始化***************/</span>    snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>temp_sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">// 蛇吃的当前分数</span>    snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>           <span class="token comment" spellcheck="true">// 必须snake.size >= 1, 确保蛇头存在</span>    snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dir <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">4</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">// 初始化蛇的方向 </span>    snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">// 蛇的总分 </span>    snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>speed <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>          <span class="token comment" spellcheck="true">// 初始蛇的速度</span>    <span class="token comment" spellcheck="true">// 初始化蛇不会立马撞死在墙上 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">300</span> <span class="token operator">-</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">;</span>        snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">300</span> <span class="token operator">-</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">else</span> <span class="token punctuation">{</span>        snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">300</span> <span class="token operator">+</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">;</span>        snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">300</span> <span class="token operator">+</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">// 初始化蛇的其他部分</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">=</span> snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token number">9</span><span class="token punctuation">;</span>        snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>y <span class="token operator">=</span> snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/***********************键盘操作蛇***********************/</span><span class="token keyword">void</span> <span class="token function">Key_Control</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// 72, 80, 75, 77  上下左右键值</span>    <span class="token comment" spellcheck="true">//判断是否有按键，没有返回假</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">_kbhit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> false<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token function">_getch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">case</span> <span class="token string">'W'</span><span class="token punctuation">:</span>    <span class="token keyword">case</span> <span class="token string">'w'</span><span class="token punctuation">:</span>    <span class="token keyword">case</span> <span class="token number">72</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dir <span class="token operator">==</span> DOWN<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dir <span class="token operator">=</span> UP<span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> <span class="token string">'S'</span><span class="token punctuation">:</span>    <span class="token keyword">case</span> <span class="token string">'s'</span><span class="token punctuation">:</span>    <span class="token keyword">case</span> <span class="token number">80</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dir <span class="token operator">==</span> UP<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dir <span class="token operator">=</span> DOWN<span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> <span class="token string">'A'</span><span class="token punctuation">:</span>    <span class="token keyword">case</span> <span class="token string">'a'</span><span class="token punctuation">:</span>    <span class="token keyword">case</span> <span class="token number">75</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dir <span class="token operator">==</span> RIGHT<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dir <span class="token operator">=</span> LEFT<span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> <span class="token string">'D'</span><span class="token punctuation">:</span>    <span class="token keyword">case</span> <span class="token string">'d'</span><span class="token punctuation">:</span>    <span class="token keyword">case</span> <span class="token number">77</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dir <span class="token operator">==</span> LEFT<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dir <span class="token operator">=</span> RIGHT<span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> <span class="token string">' '</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true">//游戏停止与继续</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">_getch</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">' '</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//绘制圆点</span><span class="token keyword">void</span> <span class="token function">Circular_Draw</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> x<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> y<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">solidcircle</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//绘制单条蛇</span><span class="token keyword">void</span> <span class="token function">Snake_Draw</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> j<span class="token punctuation">,</span> <span class="token keyword">const</span> DWORD<span class="token operator">&amp;</span> colour<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">setfillcolor</span><span class="token punctuation">(</span>colour<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">Circular_Draw</span><span class="token punctuation">(</span>snake<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> snake<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span> snake_root_r<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 绘制头部</span>    <span class="token comment" spellcheck="true">// 绘制身体部分</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> snake<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">Circular_Draw</span><span class="token punctuation">(</span>snake<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> snake<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span> snake_body_r<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//绘制实心圆</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// 绘制游戏图案</span><span class="token keyword">void</span> <span class="token function">Game_Draw</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//双缓冲绘图，防止闪屏</span>    <span class="token function">BeginBatchDraw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 设置背景颜色</span>    <span class="token function">setbkcolor</span><span class="token punctuation">(</span><span class="token function">RGB</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">218</span><span class="token punctuation">,</span> <span class="token number">185</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//setbkcolor(RGB(28, 115, 119));</span>    <span class="token function">cleardevice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//绘制食物</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> FOOD_MAX<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">setfillcolor</span><span class="token punctuation">(</span>food<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">Circular_Draw</span><span class="token punctuation">(</span>food<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>point<span class="token punctuation">.</span>x<span class="token punctuation">,</span> food<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>point<span class="token punctuation">.</span>y<span class="token punctuation">,</span> food<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">/***************************绘制所有蛇************************/</span>    <span class="token comment" spellcheck="true">// 绘制自己的蛇</span>    <span class="token function">Snake_Draw</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> RED<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//蛇默认为红</span>    <span class="token comment" spellcheck="true">//绘制人机蛇</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">Snake_Draw</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span> snake<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">EndBatchDraw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// 蛇身体复制</span><span class="token keyword">void</span> <span class="token function">Copy</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> t<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> snake<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">.</span>size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        snake<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> snake<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// 单条蛇的移动</span><span class="token keyword">void</span> <span class="token function">Snake_Move</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> t<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">Copy</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">switch</span> <span class="token punctuation">(</span>snake<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">.</span>dir<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">case</span> <span class="token number">0</span><span class="token punctuation">:</span>        snake<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y <span class="token operator">-</span><span class="token operator">=</span> snake<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">.</span>speed<span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> <span class="token number">1</span><span class="token punctuation">:</span>        snake<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y <span class="token operator">+</span><span class="token operator">=</span> snake<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">.</span>speed<span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> <span class="token number">2</span><span class="token punctuation">:</span>        snake<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">-</span><span class="token operator">=</span> snake<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">.</span>speed<span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> <span class="token number">3</span><span class="token punctuation">:</span>        snake<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">+</span><span class="token operator">=</span> snake<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">.</span>speed<span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//单条蛇的身体修改</span><span class="token keyword">void</span> <span class="token function">Modify_Snake</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>temp_sum <span class="token operator">/</span> <span class="token number">10</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>size <span class="token operator">==</span> SNAKE_SIZE_MAX<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//预判</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> k <span class="token operator">=</span> snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>temp_sum <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>size <span class="token operator">+</span> k <span class="token operator">&lt;</span> SNAKE_SIZE_MAX<span class="token punctuation">)</span> <span class="token punctuation">{</span>        snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>size <span class="token operator">+</span><span class="token operator">=</span> k<span class="token punctuation">;</span>        snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>temp_sum <span class="token operator">-</span><span class="token operator">=</span> k <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">else</span> <span class="token punctuation">{</span>        snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>size <span class="token operator">=</span> SNAKE_SIZE_MAX<span class="token punctuation">;</span>        snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>temp_sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//游戏规则制定</span><span class="token keyword">void</span> <span class="token function">Game_Rule</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">/**************************预判游戏是否结束******************************************************************/</span>    <span class="token comment" spellcheck="true">//人机蛇是否触墙</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//预判人机操作的蛇是否碰墙，碰墙人机蛇刷新</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">></span> X_MAX <span class="token operator">||</span> snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y <span class="token operator">></span> Y_MAX<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">Snake_Init</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//预判人操作的蛇是否碰墙，碰墙游戏结束</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">></span> X_MAX <span class="token operator">||</span> snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y <span class="token operator">></span> Y_MAX<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"游戏结束\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//暴力搜索</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">double</span> dis <span class="token operator">=</span> <span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token punctuation">(</span>db<span class="token punctuation">)</span>snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token punctuation">(</span>db<span class="token punctuation">)</span>snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">pow</span><span class="token punctuation">(</span><span class="token punctuation">(</span>db<span class="token punctuation">)</span>snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token punctuation">(</span>db<span class="token punctuation">)</span>snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>dis <span class="token operator">&lt;=</span> <span class="token punctuation">(</span>db<span class="token punctuation">)</span><span class="token punctuation">(</span>snake_root_r <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//我的蛇的头与人机蛇头接触，死亡</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"游戏结束!!!!!!!!!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"你的蛇已死亡，死亡最后总分为：%d\n"</span><span class="token punctuation">,</span> snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>size<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            dis <span class="token operator">=</span> <span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token punctuation">(</span>db<span class="token punctuation">)</span>snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token punctuation">(</span>db<span class="token punctuation">)</span>snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">pow</span><span class="token punctuation">(</span><span class="token punctuation">(</span>db<span class="token punctuation">)</span>snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token punctuation">(</span>db<span class="token punctuation">)</span>snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>dis <span class="token operator">&lt;=</span> <span class="token punctuation">(</span>db<span class="token punctuation">)</span><span class="token punctuation">(</span>snake_root_r <span class="token operator">+</span> snake_body_r<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//我的蛇的头与人机蛇身体部分接触，死亡</span>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"游戏结束\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> snake_vis<span class="token punctuation">[</span>MAX_SNAKE <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token function">memset</span><span class="token punctuation">(</span>snake_vis<span class="token punctuation">,</span> false<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>snake_vis<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//第i条人机蛇</span>        <span class="token keyword">double</span> dis<span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>snake_vis<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//表示当前时间这条蛇被搜索过，且死不了，就不要搜了</span>            dis <span class="token operator">=</span> <span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token punctuation">(</span>db<span class="token punctuation">)</span>snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token punctuation">(</span>db<span class="token punctuation">)</span>snake<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">pow</span><span class="token punctuation">(</span><span class="token punctuation">(</span>db<span class="token punctuation">)</span>snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token punctuation">(</span>db<span class="token punctuation">)</span>snake<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>dis <span class="token operator">&lt;=</span> <span class="token punctuation">(</span>db<span class="token punctuation">)</span><span class="token punctuation">(</span>snake_root_r <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//两条蛇的头接触，死亡</span>                <span class="token comment" spellcheck="true">//死亡加新生</span>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"序号为%d的蛇死亡，死亡最后总分为：%d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token function">Snake_Init</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"序号为%d的蛇死亡，死亡最后总分为：%d\n"</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> snake<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token function">Snake_Init</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">continue</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token comment" spellcheck="true">//判断第i条蛇头是否与第j条蛇身体触碰</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> snake<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>size<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                dis <span class="token operator">=</span> <span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token punctuation">(</span>db<span class="token punctuation">)</span>snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token punctuation">(</span>db<span class="token punctuation">)</span>snake<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">pow</span><span class="token punctuation">(</span><span class="token punctuation">(</span>db<span class="token punctuation">)</span>snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token punctuation">(</span>db<span class="token punctuation">)</span>snake<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>dis <span class="token operator">&lt;=</span> <span class="token punctuation">(</span>db<span class="token punctuation">)</span><span class="token punctuation">(</span>snake_root_r <span class="token operator">+</span> snake_body_r<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"序号为%d的蛇死亡，死亡最后总分为：%d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token function">Snake_Init</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">continue</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        snake_vis<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> true<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 当前时间第i条蛇死不了</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>size<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">double</span> dis <span class="token operator">=</span> <span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token punctuation">(</span>db<span class="token punctuation">)</span>snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token punctuation">(</span>db<span class="token punctuation">)</span>snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">pow</span><span class="token punctuation">(</span><span class="token punctuation">(</span>db<span class="token punctuation">)</span>snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token punctuation">(</span>db<span class="token punctuation">)</span>snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>dis <span class="token operator">&lt;=</span> <span class="token punctuation">(</span>db<span class="token punctuation">)</span><span class="token punctuation">(</span>snake_root_r <span class="token operator">+</span> snake_body_r<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"序号为%d的蛇死亡，死亡最后总分为：%d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token function">Snake_Init</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">/*****************************************************搜索，给蛇加分********************************************************************/</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 枚举蛇</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> FOOD_MAX<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//  枚举食物</span>            <span class="token keyword">double</span> dis <span class="token operator">=</span> <span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token punctuation">(</span>db<span class="token punctuation">)</span>food<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>point<span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token punctuation">(</span>db<span class="token punctuation">)</span>snake<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">pow</span><span class="token punctuation">(</span><span class="token punctuation">(</span>db<span class="token punctuation">)</span>food<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>point<span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token punctuation">(</span>db<span class="token punctuation">)</span>snake<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>dis <span class="token operator">&lt;=</span> <span class="token punctuation">(</span>db<span class="token punctuation">)</span><span class="token punctuation">(</span>food<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>r <span class="token operator">+</span> <span class="token punctuation">(</span>db<span class="token punctuation">)</span>snake_root_r<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>j<span class="token punctuation">)</span> <span class="token punctuation">{</span>                    snake<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>temp_sum <span class="token operator">+</span><span class="token operator">=</span> food<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>value <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">;</span>                    snake<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>sum <span class="token operator">+</span><span class="token operator">=</span> food<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>value <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                    snake<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>temp_sum <span class="token operator">+</span><span class="token operator">=</span> food<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>                    snake<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>sum <span class="token operator">+</span><span class="token operator">=</span> food<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>                <span class="token punctuation">}</span>                <span class="token function">Food_Init</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 食物重新刷新</span>                <span class="token function">Modify_Snake</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 蛇身体修改</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/***********************************************************增加人机蛇****************************************************************/</span><span class="token comment" spellcheck="true">//人机蛇自己移动</span><span class="token keyword">void</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>dir_cnt<span class="token punctuation">)</span> <span class="token punctuation">{</span>            snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>dir_cnt<span class="token operator">--</span><span class="token punctuation">;</span>            <span class="token function">Snake_Move</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">continue</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>dir <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">4</span><span class="token punctuation">;</span>        snake<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>dir_cnt <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">4</span> <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">srand</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 从当前时间生成伪随机数</span>    <span class="token keyword">const</span> <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//默认人机蛇的数量[1, 5]</span>    <span class="token function">Graphics_Window</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">Game_Init</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"snake(%d, %d)，dir = %d, speed = %d\n"</span><span class="token punctuation">,</span> snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span> snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dir<span class="token punctuation">,</span> snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>speed<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"size = %d\n"</span><span class="token punctuation">,</span> snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"body(%d, %d)，dir = %d\n"</span><span class="token punctuation">,</span> snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>body<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span> snake<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>dir<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">Game_Draw</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//绘制游戏</span>        <span class="token function">Key_Control</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 键盘操作游戏</span>        <span class="token function">f</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment" spellcheck="true">// 人机蛇移动</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">Snake_Move</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 蛇移动</span>        <span class="token punctuation">}</span>        <span class="token function">Game_Rule</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 处理蛇的游戏规则</span>        <span class="token function">Sleep</span><span class="token punctuation">(</span>DELAY<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//蛇的速度延迟</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> C语言项目 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C语言利用EasyX实现贪吃蛇基础版</title>
      <link href="posts/b13a.html"/>
      <url>posts/b13a.html</url>
      
        <content type="html"><![CDATA[<h4 id="运行环境"><a href="#运行环境" class="headerlink" title="运行环境"></a>运行环境</h4><p><strong>Visual Studio 2019</strong></p><h4 id="EasyX得自己安装"><a href="#EasyX得自己安装" class="headerlink" title="EasyX得自己安装"></a>EasyX得自己安装</h4><h3 id="具体操作看沃CSDN"><a href="#具体操作看沃CSDN" class="headerlink" title="具体操作看沃CSDN"></a>具体操作看沃CSDN</h3><p><a href="https://editor.csdn.net/md?not_checkout=1&amp;articleId=120806547">https://blog.csdn.net/m0_51570792/article/details/120806547</a></p><h4 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;math.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;windows.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;graphics.h></span> </span><span class="token comment" spellcheck="true">//头文件得自己安装</span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;conio.h></span>    </span><span class="token comment" spellcheck="true">// 我本地编译conio.h与graphics.h顺序不能换</span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;mmsystem.h></span></span><span class="token macro property">#<span class="token directive keyword">pragma</span> comment(lib, "winmm.lib")</span><span class="token macro property">#<span class="token directive keyword">define</span> db double</span><span class="token comment" spellcheck="true">// y轴最大值 </span><span class="token macro property">#<span class="token directive keyword">define</span> Y_MAX 720</span><span class="token comment" spellcheck="true">// x轴最大值       </span><span class="token macro property">#<span class="token directive keyword">define</span> X_MAX 1280</span><span class="token comment" spellcheck="true">//蛇的最大节数    </span><span class="token macro property">#<span class="token directive keyword">define</span> SNAKE_SIZE_NAX 500</span><span class="token comment" spellcheck="true">//同一时间出现的食物最大数量</span><span class="token macro property">#<span class="token directive keyword">define</span> FOOD_MAX 500       </span><span class="token comment" spellcheck="true">//食物颜色的数量  </span><span class="token macro property">#<span class="token directive keyword">define</span> COLOR_NUMBER 11</span><span class="token macro property">#<span class="token directive keyword">define</span> snake_root_r 6</span><span class="token macro property">#<span class="token directive keyword">define</span> snake_body_r 4</span><span class="token macro property">#<span class="token directive keyword">define</span> DELAY 30</span><span class="token comment" spellcheck="true">/************************************************结构定义***************************************************/</span><span class="token comment" spellcheck="true">//枚举蛇的方向</span><span class="token keyword">enum</span> DIR <span class="token punctuation">{</span>                  <span class="token comment" spellcheck="true">//枚举第一个元素默认为0，依次加加 </span>    UP<span class="token punctuation">,</span> DOWN<span class="token punctuation">,</span> LEFT<span class="token punctuation">,</span> RIGHT<span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">//上下左右</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//蛇的结构体</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Snake <span class="token punctuation">{</span>    <span class="token keyword">int</span> sum_value<span class="token punctuation">;</span>          <span class="token comment" spellcheck="true">//蛇吃的当前分数，100分一节蛇的身体 </span>    <span class="token keyword">int</span> size<span class="token punctuation">;</span>               <span class="token comment" spellcheck="true">//蛇的节数</span>    <span class="token keyword">int</span> dir<span class="token punctuation">;</span>                <span class="token comment" spellcheck="true">//蛇的方向</span>    <span class="token keyword">int</span> speed<span class="token punctuation">;</span>              <span class="token comment" spellcheck="true">//蛇的移动速度</span>    <span class="token comment" spellcheck="true">// 蛇的每一节的坐标</span>    POINT body<span class="token punctuation">[</span>SNAKE_SIZE_NAX<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span> Snake<span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Food <span class="token punctuation">{</span>    POINT point<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//食物坐标</span>    DWORD color<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//食物颜色</span>    <span class="token keyword">int</span> r<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//食物半径</span>    <span class="token keyword">int</span>  value<span class="token punctuation">;</span><span class="token punctuation">}</span> Food<span class="token punctuation">;</span>Snake snake<span class="token punctuation">;</span>Food food<span class="token punctuation">[</span>FOOD_MAX<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">/************************************************结构操作***************************************************/</span><span class="token comment" spellcheck="true">// 游戏界面窗口建立</span><span class="token keyword">void</span> <span class="token function">Graphics_Window</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// 初始化图形窗口</span>    <span class="token function">initgraph</span><span class="token punctuation">(</span>X_MAX<span class="token punctuation">,</span> Y_MAX<span class="token comment" spellcheck="true">/*, SHOWCONSOLE*/</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 长、宽，窗口颜色</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//食物的初始化</span><span class="token keyword">void</span> <span class="token function">Food_Init</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//初始化食物的半径</span>    food<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>r <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">6</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 初始化食物坐标</span>    food<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>point<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> X_MAX<span class="token punctuation">;</span>    food<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>point<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> Y_MAX<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 初始化食物颜色</span>    food<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token function">RGB</span><span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">256</span><span class="token punctuation">,</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">256</span><span class="token punctuation">,</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 随机生成颜色</span>    <span class="token comment" spellcheck="true">// 初始化每个食物分数</span>    food<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">11</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// 游戏初始化</span><span class="token keyword">void</span> <span class="token function">Game_Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">/***************背景音乐播放***************/</span>    <span class="token function">mciSendString</span><span class="token punctuation">(</span><span class="token string">"open ./res/snake_bgm.mp3 alias BGM"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">mciSendString</span><span class="token punctuation">(</span><span class="token string">"play BGM repeat"</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">/***************食物的初始化***************/</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> FOOD_MAX<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">Food_Init</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">/***************蛇的初始化***************/</span>    snake<span class="token punctuation">.</span>sum_value <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">// 蛇吃的当前分数</span>    snake<span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>           <span class="token comment" spellcheck="true">// 必须snake.size >= 1, 确保蛇头存在</span>    snake<span class="token punctuation">.</span>dir <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">4</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">// 初始化蛇的方向 </span>    snake<span class="token punctuation">.</span>speed <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>          <span class="token comment" spellcheck="true">// 初始蛇的速度</span>    <span class="token comment" spellcheck="true">// 初始化蛇不会立马撞死在墙上 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        snake<span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">300</span> <span class="token operator">-</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">300</span><span class="token punctuation">;</span>        snake<span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">300</span> <span class="token operator">-</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">300</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        snake<span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">300</span> <span class="token operator">+</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">300</span><span class="token punctuation">;</span>        snake<span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">300</span> <span class="token operator">+</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">300</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">// 初始化蛇的其他部分</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> snake<span class="token punctuation">.</span>size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        snake<span class="token punctuation">.</span>body<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">=</span> snake<span class="token punctuation">.</span>body<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token number">9</span><span class="token punctuation">;</span>        snake<span class="token punctuation">.</span>body<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>y <span class="token operator">=</span> snake<span class="token punctuation">.</span>body<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// 蛇身体复制</span><span class="token keyword">void</span> <span class="token function">Copy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> snake<span class="token punctuation">.</span>size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        snake<span class="token punctuation">.</span>body<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> snake<span class="token punctuation">.</span>body<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// 蛇的移动</span><span class="token keyword">void</span> <span class="token function">Snake_Move</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">Copy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">switch</span> <span class="token punctuation">(</span>snake<span class="token punctuation">.</span>dir<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">case</span> <span class="token number">0</span> <span class="token punctuation">:</span>            snake<span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y <span class="token operator">-</span><span class="token operator">=</span> snake<span class="token punctuation">.</span>speed<span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token number">1</span> <span class="token punctuation">:</span>            snake<span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y <span class="token operator">+</span><span class="token operator">=</span> snake<span class="token punctuation">.</span>speed<span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token number">2</span> <span class="token punctuation">:</span>            snake<span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">-</span><span class="token operator">=</span> snake<span class="token punctuation">.</span>speed<span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token number">3</span> <span class="token punctuation">:</span>            snake<span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">+</span><span class="token operator">=</span> snake<span class="token punctuation">.</span>speed<span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// 键盘操作蛇</span><span class="token keyword">void</span> <span class="token function">Key_Control</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// 72, 80, 75, 77  上下左右键值</span>    <span class="token comment" spellcheck="true">//判断是否有按键，没有返回假</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">_kbhit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> false<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token function">_getch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">case</span> <span class="token string">'W'</span> <span class="token punctuation">:</span>        <span class="token keyword">case</span> <span class="token string">'w'</span> <span class="token punctuation">:</span>        <span class="token keyword">case</span> <span class="token number">72</span>  <span class="token punctuation">:</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>snake<span class="token punctuation">.</span>dir <span class="token operator">==</span> DOWN<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>            snake<span class="token punctuation">.</span>dir <span class="token operator">=</span> UP<span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token string">'S'</span><span class="token punctuation">:</span>        <span class="token keyword">case</span> <span class="token string">'s'</span><span class="token punctuation">:</span>        <span class="token keyword">case</span> <span class="token number">80</span> <span class="token punctuation">:</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>snake<span class="token punctuation">.</span>dir <span class="token operator">==</span> UP<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>            snake<span class="token punctuation">.</span>dir <span class="token operator">=</span> DOWN<span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token string">'A'</span><span class="token punctuation">:</span>        <span class="token keyword">case</span> <span class="token string">'a'</span><span class="token punctuation">:</span>        <span class="token keyword">case</span> <span class="token number">75</span> <span class="token punctuation">:</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>snake<span class="token punctuation">.</span>dir <span class="token operator">==</span> RIGHT<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>            snake<span class="token punctuation">.</span>dir <span class="token operator">=</span> LEFT<span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token string">'D'</span><span class="token punctuation">:</span>        <span class="token keyword">case</span> <span class="token string">'d'</span><span class="token punctuation">:</span>        <span class="token keyword">case</span> <span class="token number">77</span> <span class="token punctuation">:</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>snake<span class="token punctuation">.</span>dir <span class="token operator">==</span> LEFT<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>            snake<span class="token punctuation">.</span>dir <span class="token operator">=</span> RIGHT<span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token string">' '</span> <span class="token punctuation">:</span> <span class="token comment" spellcheck="true">//游戏停止与继续</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">_getch</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">' '</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// 绘制游戏图案</span><span class="token keyword">void</span> <span class="token function">Game_Draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//双缓冲绘图，防止闪屏</span>    <span class="token function">BeginBatchDraw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 设置背景颜色</span>    <span class="token function">setbkcolor</span><span class="token punctuation">(</span><span class="token function">RGB</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">218</span><span class="token punctuation">,</span> <span class="token number">185</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//setbkcolor(RGB(28, 115, 119));</span>    <span class="token function">cleardevice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> FOOD_MAX<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">setfillcolor</span><span class="token punctuation">(</span>food<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">solidcircle</span><span class="token punctuation">(</span>food<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>point<span class="token punctuation">.</span>x<span class="token punctuation">,</span> food<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>point<span class="token punctuation">.</span>y<span class="token punctuation">,</span> food<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">setfillcolor</span><span class="token punctuation">(</span>GREEN<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">solidcircle</span><span class="token punctuation">(</span>snake<span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> snake<span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span> snake_root_r<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> snake<span class="token punctuation">.</span>size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">solidcircle</span><span class="token punctuation">(</span>snake<span class="token punctuation">.</span>body<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> snake<span class="token punctuation">.</span>body<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span> snake_body_r<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//绘制实心圆</span>    <span class="token punctuation">}</span>    <span class="token function">EndBatchDraw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//蛇的身体修改</span><span class="token keyword">void</span> <span class="token function">Modify_Snake</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>snake<span class="token punctuation">.</span>sum_value <span class="token operator">/</span> <span class="token number">10</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token keyword">int</span> k <span class="token operator">=</span> snake<span class="token punctuation">.</span>sum_value <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>snake<span class="token punctuation">.</span>size <span class="token operator">+</span> k <span class="token operator">&lt;</span> SNAKE_SIZE_NAX<span class="token punctuation">)</span> snake<span class="token punctuation">.</span>size <span class="token operator">+</span><span class="token operator">=</span> k<span class="token punctuation">;</span>    <span class="token keyword">else</span> snake<span class="token punctuation">.</span>size <span class="token operator">=</span> SNAKE_SIZE_NAX<span class="token punctuation">;</span>    snake<span class="token punctuation">.</span>sum_value <span class="token operator">-</span><span class="token operator">=</span> k <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">;</span>    <span class="token function">Copy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//游戏规则制定</span><span class="token keyword">void</span> <span class="token function">Game_Rule</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>snake<span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> snake<span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> snake<span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">></span> X_MAX <span class="token operator">||</span> snake<span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y <span class="token operator">></span> Y_MAX<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"游戏结束\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> FOOD_MAX<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">double</span> dis <span class="token operator">=</span> <span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token punctuation">(</span>db<span class="token punctuation">)</span>food<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>point<span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token punctuation">(</span>db<span class="token punctuation">)</span>snake<span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">pow</span><span class="token punctuation">(</span><span class="token punctuation">(</span>db<span class="token punctuation">)</span>food<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>point<span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token punctuation">(</span>db<span class="token punctuation">)</span>snake<span class="token punctuation">.</span>body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>dis <span class="token operator">&lt;=</span> <span class="token punctuation">(</span>db<span class="token punctuation">)</span><span class="token punctuation">(</span>food<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>r <span class="token operator">+</span> <span class="token punctuation">(</span>db<span class="token punctuation">)</span>snake_root_r<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            snake<span class="token punctuation">.</span>sum_value <span class="token operator">+</span><span class="token operator">=</span> food<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>            <span class="token function">Food_Init</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">Modify_Snake</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">srand</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">Graphics_Window</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">Game_Init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">Game_Draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">Key_Control</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">Snake_Move</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">Game_Rule</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">Sleep</span><span class="token punctuation">(</span>DELAY<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> C语言项目 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C语言第四章选择结构讲义</title>
      <link href="posts/9155.html"/>
      <url>posts/9155.html</url>
      
        <content type="html"><![CDATA[<h2 id="选择结构与条件判断"><a href="#选择结构与条件判断" class="headerlink" title="选择结构与条件判断"></a>选择结构与条件判断</h2><p>C语言有两种选择语句：</p><p>if语句实现两个分支的选择结构。</p><p>switch语句用来实现多分支的选择结构。</p><h3 id="if语句"><a href="#if语句" class="headerlink" title="if语句"></a>if语句</h3><p>if语句：</p><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">//格式：</span>     <span class="token keyword">if</span><span class="token punctuation">(</span>表达式<span class="token punctuation">)</span> <span class="token punctuation">{</span>         满足表达式执行语句<span class="token punctuation">;</span>     <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>表达式<span class="token punctuation">)</span> <span class="token punctuation">{</span>         满足表达式执行语句<span class="token punctuation">;</span>     <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>表达式<span class="token punctuation">)</span> <span class="token punctuation">{</span>         满足表达式执行语句<span class="token punctuation">;</span>     <span class="token punctuation">}</span>     <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>     <span class="token keyword">else</span> <span class="token punctuation">{</span>         满足表达式执行语句<span class="token punctuation">;</span>     <span class="token punctuation">}</span></code></pre><p>常见表达式类型：</p><p>关系式，逻辑式，数值表达式</p><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">//关系表达式:由关系运算符构成的表达式 </span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token operator">></span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//为真则执行 if,else if 括号住的语句</span><span class="token comment" spellcheck="true">//逻辑表达式:由逻辑运算(! &amp;&amp; ||)符构成的表达式</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">||</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">//数值表达式:只要是非0都判断为真</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></code></pre><h4 id="关系运算符"><a href="#关系运算符" class="headerlink" title="关系运算符"></a>关系运算符</h4><p>运算符优先级：</p><ol><li>算术运算符(+ - * /)&gt;关系运算符(&gt; &lt; != ==…)&gt;赋值运算符(=)</li><li>关系运算符中 == !=优先级比其他低</li></ol><h4 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h4><table><thead><tr><th>a</th><th align="center">b</th><th align="center">!a</th><th align="center">!b</th><th align="center">a&amp;&amp;b</th><th align="right">a||b</th></tr></thead><tbody><tr><td>真</td><td align="center">真</td><td align="center">假</td><td align="center">假</td><td align="center">真</td><td align="right">真</td></tr><tr><td>真</td><td align="center">假</td><td align="center">假</td><td align="center">真</td><td align="center">假</td><td align="right">真</td></tr><tr><td>假</td><td align="center">真</td><td align="center">真</td><td align="center">假</td><td align="center">假</td><td align="right">真</td></tr><tr><td>假</td><td align="center">假</td><td align="center">真</td><td align="center">真</td><td align="center">假</td><td align="right">假</td></tr></tbody></table><p>优先级:</p><ol><li>!(非)&gt;&amp;&amp;(与)&gt;||(或)</li><li>！&gt;算数运算符 </li><li>关系运算符&gt;&amp;&amp;和||&gt;赋值运算符</li></ol><h4 id="条件运算符"><a href="#条件运算符" class="headerlink" title="条件运算符"></a>条件运算符</h4><p>条件运算符其实可以看做是对判断语句的简写<br>如</p><pre class=" language-c"><code class="language-c"><span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">></span>b<span class="token punctuation">)</span> max<span class="token operator">=</span>a<span class="token punctuation">;</span><span class="token keyword">else</span> max<span class="token operator">=</span>b<span class="token punctuation">;</span></code></pre><p>等价于下列程序：</p><pre class=" language-c"><code class="language-c">max<span class="token operator">=</span><span class="token punctuation">(</span>a<span class="token operator">></span>b<span class="token punctuation">)</span><span class="token operator">?</span>a<span class="token punctuation">:</span>b<span class="token punctuation">;</span></code></pre><p>其中a:b为条件表达式及，？为条件运算符</p><p>其执行效果为：</p><p>若a&gt;b为真,则返回a(:的前面)</p><p>若a&gt;b为假,则返回b(:的后面)</p><p>优先级：</p><ol><li><p>条件运算符比关系运算符和算术运算符都低</p><p>如：</p><p>  a&gt;b?a:b+1 等价于 a&gt;b?a:(b+1),而不等于 （a&gt;b?a:b）+1</p></li></ol><h3 id="switch语句-不大推荐初学者使用"><a href="#switch语句-不大推荐初学者使用" class="headerlink" title="switch语句(不大推荐初学者使用)"></a>switch语句(不大推荐初学者使用)</h3><p>形式：</p><pre class=" language-c"><code class="language-c"><span class="token keyword">switch</span><span class="token punctuation">(</span>表达式<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">case</span> 常量<span class="token number">1</span> <span class="token punctuation">:</span>执行语句；<span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token keyword">case</span> 常量<span class="token number">2</span><span class="token punctuation">:</span> 执行语句<span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 满足表达式== 常量2</span>    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>    <span class="token keyword">default</span> <span class="token punctuation">:</span> 执行语句<span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//以上都不满足</span><span class="token punctuation">}</span></code></pre><p>switch注意事项：</p><ol><li>表达式的值与case后的值相同则进入。</li><li>遇到break或整个switch结束</li></ol><p>例子：</p><pre class=" language-c"><code class="language-c"><span class="token keyword">switch</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>        <span class="token keyword">case</span> <span class="token number">0</span><span class="token punctuation">:</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"0\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">case</span> <span class="token number">1</span><span class="token punctuation">:</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"1\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span></code></pre><p>练习：</p><ol><li><p>判断输入年份是否为闰年(闰年条件：能被4整除且能被100整除，或者能被400整除)</p></li><li><p>输入三个数(不相同的三个数)，输出其最大值</p></li><li><p>输入一个成绩等级，输出分数区间</p><p>A等区间为85~100</p><p>B等区间为70~84</p><p>C等区间为60~69</p><p>D等区间为60以下</p></li><li><p>制作一个两个数的计算器 实现加减乘除功能</p></li></ol><p>思考题：  不使用第三个数 互换两个数的值</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>单调队列</title>
      <link href="posts/2132.html"/>
      <url>posts/2132.html</url>
      
        <content type="html"><![CDATA[<h3 id="deque"><a href="#deque" class="headerlink" title="deque"></a>deque</h3><table><thead><tr><th>函数</th><th>作用</th></tr></thead><tbody><tr><td>front()</td><td>返回第一个元素的引用</td></tr><tr><td>back()</td><td>返回最后一个元素的引用</td></tr><tr><td>push_front(x)</td><td>把元素x插入到双向队列的头部</td></tr><tr><td>pop_front()</td><td>弹出双向队列的第一个元素</td></tr><tr><td>push_back(x)</td><td>把元素x插入到双向队列的尾部</td></tr><tr><td>pop_back()</td><td>弹出双向队列的最后一个元素</td></tr></tbody></table><h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cstdio></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cstring></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;queue></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span>using namespace std<span class="token punctuation">;</span>deque <span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> s<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//构建一个单调递增的单调队列</span><span class="token macro property">#<span class="token directive keyword">define</span> n 100</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">srand</span><span class="token punctuation">(</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    s<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">;</span>          <span class="token keyword">while</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> a<span class="token punctuation">)</span> s<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          s<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>      <span class="token keyword">while</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>          cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>          s<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 基础数据结构 </tag>
            
            <tag> 双端队列 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>单调栈</title>
      <link href="posts/831c.html"/>
      <url>posts/831c.html</url>
      
        <content type="html"><![CDATA[<h3 id="理解"><a href="#理解" class="headerlink" title="理解"></a>理解</h3><ul><li>栈中的某一类元素具有单调性，单调递减或递增</li></ul><h3 id="用处"><a href="#用处" class="headerlink" title="用处"></a>用处</h3><ul><li>维护元素单调性的一种数据结构</li></ul><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cstdio></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cstring></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stack></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span>using namespace std<span class="token punctuation">;</span>stack <span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> s<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//构建一个单调递增的栈 </span><span class="token macro property">#<span class="token directive keyword">define</span> n 100</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">srand</span><span class="token punctuation">(</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    s<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">;</span>          <span class="token keyword">while</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> a<span class="token punctuation">)</span> s<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          s<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>      <span class="token keyword">while</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>          cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>          s<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>  <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 基础数据结构 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>力扣题解84.柱状图中最大的矩形</title>
      <link href="posts/73d.html"/>
      <url>posts/73d.html</url>
      
        <content type="html"><![CDATA[<h3 id="思路看题解"><a href="#思路看题解" class="headerlink" title="思路看题解"></a>思路看题解</h3><h4 id="动态规划版本"><a href="#动态规划版本" class="headerlink" title="动态规划版本"></a>动态规划版本</h4><pre class=" language-c++"><code class="language-c++">class Solution {public:    int largestRectangleArea(vector<int>& heights) {        int n = heights.size();        if (n == 0) return 0;        if (n == 1) return heights[0];        // 存储向左，向右第一个比heights[i]小的下标        int dp_l[n], dp_r[n];        dp_l[0] = -1, dp_r[n - 1] = n; //哨兵        for (int i = 1; i < n; i++) {            int k = i - 1;            while (k >= 0 && heights[k] >= heights[i]) k = dp_l[k];            dp_l[i] = k;        }        for (int i = n - 2; i >= 0; i--) {            int k = i + 1;            while (k < n && heights[k] >= heights[i]) k = dp_r[k];            dp_r[i] = k;        }        int ma = -1;        for (int i = 0; i < n; i++) {            ma = max(ma, heights[i] * (dp_r[i] - dp_l[i] - 1));        }        return ma;    }};</code></pre><h4 id="单调栈版本"><a href="#单调栈版本" class="headerlink" title="单调栈版本"></a>单调栈版本</h4><pre><code>class Solution {public:    int largestRectangleArea(vector&lt;int&gt;&amp; heights) {        stack &lt;pair&lt;int, int&gt; &gt; s; //构建一个单调递增的栈        pair &lt;int, int&gt; tp(-1, -1);        s.push(tp);        int ans = -1;        for (int i = 0; i &lt; (int)heights.size(); i++) {            while (heights[i] &lt; s.top().first) { // 每次出栈都求一下以其为高的矩形最大面积                tp = s.top();                s.pop();                ans = max((i - s.top().second - 1) * tp.first, ans);            }            tp = pair&lt;int, int&gt; (heights[i], i);            s.push(tp); //入栈        }        while (s.size() != 1) {             tp = s.top();            s.pop();            ans = max(((int)heights.size() - s.top().second - 1) * tp.first, ans);        }    return ans;    }};</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 力扣题解 </tag>
            
            <tag> 动态规划 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linux之命令格式</title>
      <link href="posts/212f.html"/>
      <url>posts/212f.html</url>
      
        <content type="html"><![CDATA[<h1 id="命令格式"><a href="#命令格式" class="headerlink" title="命令格式"></a>命令格式</h1><h2 id="表达式"><a href="#表达式" class="headerlink" title="表达式"></a>表达式</h2><ul><li><pre class=" language-bash"><code class="language-bash">命令 <span class="token punctuation">[</span>选项<span class="token punctuation">]</span><span class="token punctuation">[</span>选项参数<span class="token punctuation">]</span> <span class="token punctuation">..</span>. <span class="token punctuation">[</span>参数<span class="token punctuation">]</span> <span class="token punctuation">..</span>.</code></pre></li><li><p>…：表示还有其他选项或者选项参数或者参数</p></li></ul><h2 id="安照英语语系语法"><a href="#安照英语语系语法" class="headerlink" title="安照英语语系语法"></a>安照英语语系语法</h2><ul><li>主谓宾 定状补，命令省略主语</li><li>谓语动词也就是 [命令] 主体</li><li>[选项] ：命令执行的方式，属于定状补成分，一般以两个减号**–<strong>或一个减号</strong>-**开始</li><li><ul><li>-：后面接的是单词的缩写</li><li>–：后面接的是单词全称</li></ul></li><li>需要注意的是命令的空格是各个成分的分隔符，空格数量无限制，</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linux之命令行前缀</title>
      <link href="posts/ddd8.html"/>
      <url>posts/ddd8.html</url>
      
        <content type="html"><![CDATA[<h3 id="格式"><a href="#格式" class="headerlink" title="格式"></a>格式</h3><h4 id="root-hostname"><a href="#root-hostname" class="headerlink" title="root@hostname:~#"></a><strong>root@hostname:~#</strong></h4><ul><li>用户名: root，超级用户</li></ul><h4 id="username-hostname"><a href="#username-hostname" class="headerlink" title="username@hostname:~$"></a>username@hostname:~$</h4><ul><li>用户名：username，普通用户</li></ul><h4 id="其它"><a href="#其它" class="headerlink" title="其它"></a>其它</h4><ul><li>@：分隔符，分割用户名与主机名</li><li>hostname：主机名</li><li><del>表示用户当前的目录， 其中，</del>表示家目录，/表示根目录</li><li>#、$：默认的命令提示符，表示登录的用户权限等级 </li><li><ul><li>#：表示<strong>root</strong>用户</li><li>$：表示普通用户</li></ul></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ACM学习路线</title>
      <link href="posts/2eaf.html"/>
      <url>posts/2eaf.html</url>
      
        <content type="html"><![CDATA[<h1 id="动态规划"><a href="#动态规划" class="headerlink" title="动态规划"></a>动态规划</h1><h2 id="基础动态规划入门"><a href="#基础动态规划入门" class="headerlink" title="基础动态规划入门"></a>基础动态规划入门</h2><h3 id="递推"><a href="#递推" class="headerlink" title="递推"></a>递推</h3><h3 id="矩阵二分快速幂"><a href="#矩阵二分快速幂" class="headerlink" title="矩阵二分快速幂"></a>矩阵二分快速幂</h3><h3 id="最大字段和"><a href="#最大字段和" class="headerlink" title="最大字段和"></a>最大字段和</h3><h3 id="最长递增子序列"><a href="#最长递增子序列" class="headerlink" title="最长递增子序列"></a>最长递增子序列</h3><h3 id="最长公共子序列"><a href="#最长公共子序列" class="headerlink" title="最长公共子序列"></a>最长公共子序列</h3><h3 id="最小编辑距离"><a href="#最小编辑距离" class="headerlink" title="最小编辑距离"></a>最小编辑距离</h3><h2 id="背包问题"><a href="#背包问题" class="headerlink" title="背包问题"></a>背包问题</h2><h3 id="01背包"><a href="#01背包" class="headerlink" title="01背包"></a>01背包</h3><h3 id="完全背包"><a href="#完全背包" class="headerlink" title="完全背包"></a>完全背包</h3><h3 id="多重背包"><a href="#多重背包" class="headerlink" title="多重背包"></a>多重背包</h3><h3 id="分组背包"><a href="#分组背包" class="headerlink" title="分组背包"></a>分组背包</h3><h3 id="依赖背包"><a href="#依赖背包" class="headerlink" title="依赖背包"></a>依赖背包</h3><h2 id="记忆化搜索"><a href="#记忆化搜索" class="headerlink" title="记忆化搜索"></a>记忆化搜索</h2><h2 id="区间DP"><a href="#区间DP" class="headerlink" title="区间DP"></a>区间DP</h2><h2 id="数位DP"><a href="#数位DP" class="headerlink" title="数位DP"></a>数位DP</h2><h2 id="头插DP"><a href="#头插DP" class="headerlink" title="头插DP"></a>头插DP</h2><h2 id="状压DP"><a href="#状压DP" class="headerlink" title="状压DP"></a>状压DP</h2><h3 id="骨牌摆放"><a href="#骨牌摆放" class="headerlink" title="骨牌摆放"></a>骨牌摆放</h3><h3 id="TSP问题"><a href="#TSP问题" class="headerlink" title="TSP问题"></a>TSP问题</h3><h3 id="双边TSP"><a href="#双边TSP" class="headerlink" title="双边TSP"></a>双边TSP</h3><h2 id="组合计算"><a href="#组合计算" class="headerlink" title="组合计算"></a>组合计算</h2><h2 id="四边形不等式"><a href="#四边形不等式" class="headerlink" title="四边形不等式"></a>四边形不等式</h2><h2 id="斜率DP"><a href="#斜率DP" class="headerlink" title="斜率DP"></a>斜率DP</h2><h2 id="RMQ-ST表"><a href="#RMQ-ST表" class="headerlink" title="RMQ_ST表"></a>RMQ_ST表</h2><h1 id="图论"><a href="#图论" class="headerlink" title="图论"></a>图论</h1><h2 id="DFS"><a href="#DFS" class="headerlink" title="DFS"></a>DFS</h2><h3 id="二分图最大匹配"><a href="#二分图最大匹配" class="headerlink" title="二分图最大匹配"></a>二分图最大匹配</h3><h4 id="无权图"><a href="#无权图" class="headerlink" title="无权图"></a>无权图</h4><h4 id="带权图"><a href="#带权图" class="headerlink" title="带权图"></a>带权图</h4><h3 id="最大团"><a href="#最大团" class="headerlink" title="最大团"></a>最大团</h3><h3 id="最小生成树"><a href="#最小生成树" class="headerlink" title="最小生成树"></a>最小生成树</h3><h4 id="Prim"><a href="#Prim" class="headerlink" title="Prim"></a>Prim</h4><h4 id="Kruscal"><a href="#Kruscal" class="headerlink" title="Kruscal"></a>Kruscal</h4><h4 id="Boruvka"><a href="#Boruvka" class="headerlink" title="Boruvka"></a>Boruvka</h4><h3 id="树的分治"><a href="#树的分治" class="headerlink" title="树的分治"></a>树的分治</h3><h3 id="迭代加深搜索"><a href="#迭代加深搜索" class="headerlink" title="迭代加深搜索"></a>迭代加深搜索</h3><h3 id="有向图构造强联通分量"><a href="#有向图构造强联通分量" class="headerlink" title="有向图构造强联通分量"></a>有向图构造强联通分量</h3><h3 id="2-sat"><a href="#2-sat" class="headerlink" title="2-sat"></a>2-sat</h3><h3 id="无向图割边割点"><a href="#无向图割边割点" class="headerlink" title="无向图割边割点"></a>无向图割边割点</h3><h3 id="哈密顿回路"><a href="#哈密顿回路" class="headerlink" title="哈密顿回路"></a>哈密顿回路</h3><h3 id="最近公共祖先"><a href="#最近公共祖先" class="headerlink" title="最近公共祖先"></a>最近公共祖先</h3><h3 id="欧拉回路"><a href="#欧拉回路" class="headerlink" title="欧拉回路"></a>欧拉回路</h3><h3 id="最小费用流"><a href="#最小费用流" class="headerlink" title="最小费用流"></a>最小费用流</h3><h3 id="最小树形图"><a href="#最小树形图" class="headerlink" title="最小树形图"></a>最小树形图</h3><h2 id="BFS"><a href="#BFS" class="headerlink" title="BFS"></a>BFS</h2><h3 id="单向广搜"><a href="#单向广搜" class="headerlink" title="单向广搜"></a>单向广搜</h3><h3 id="最短路径"><a href="#最短路径" class="headerlink" title="最短路径"></a>最短路径</h3><h4 id="Dijkstra"><a href="#Dijkstra" class="headerlink" title="Dijkstra"></a>Dijkstra</h4><h4 id="Bellman"><a href="#Bellman" class="headerlink" title="Bellman"></a>Bellman</h4><h4 id="Folyed"><a href="#Folyed" class="headerlink" title="Folyed"></a>Folyed</h4><h3 id="稳定婚姻"><a href="#稳定婚姻" class="headerlink" title="稳定婚姻"></a>稳定婚姻</h3><h3 id="最短路径树"><a href="#最短路径树" class="headerlink" title="最短路径树"></a>最短路径树</h3><h3 id="k短路"><a href="#k短路" class="headerlink" title="k短路"></a>k短路</h3><h3 id="差分约束"><a href="#差分约束" class="headerlink" title="差分约束"></a>差分约束</h3><h3 id="拓扑排序"><a href="#拓扑排序" class="headerlink" title="拓扑排序"></a>拓扑排序</h3><h3 id="A"><a href="#A" class="headerlink" title="A*"></a>A*</h3><h3 id="双向广搜"><a href="#双向广搜" class="headerlink" title="双向广搜"></a>双向广搜</h3><h3 id="最大流"><a href="#最大流" class="headerlink" title="最大流"></a>最大流</h3><h4 id="Dinic"><a href="#Dinic" class="headerlink" title="Dinic"></a>Dinic</h4><h4 id="EK"><a href="#EK" class="headerlink" title="EK"></a>EK</h4><h4 id="FF"><a href="#FF" class="headerlink" title="FF"></a>FF</h4><h1 id="数论"><a href="#数论" class="headerlink" title="数论"></a>数论</h1><h2 id="基础理论"><a href="#基础理论" class="headerlink" title="基础理论"></a>基础理论</h2><h3 id="整除"><a href="#整除" class="headerlink" title="整除"></a>整除</h3><h3 id="素数"><a href="#素数" class="headerlink" title="素数"></a>素数</h3><h3 id="素数筛选"><a href="#素数筛选" class="headerlink" title="素数筛选"></a>素数筛选</h3><h3 id="算术基本定理"><a href="#算术基本定理" class="headerlink" title="算术基本定理"></a>算术基本定理</h3><h3 id="因数分解"><a href="#因数分解" class="headerlink" title="因数分解"></a>因数分解</h3><h3 id="因数和"><a href="#因数和" class="headerlink" title="因数和"></a>因数和</h3><h3 id="因数个数"><a href="#因数个数" class="headerlink" title="因数个数"></a>因数个数</h3><h3 id="最大公约数"><a href="#最大公约数" class="headerlink" title="最大公约数"></a>最大公约数</h3><h3 id="最小公倍数"><a href="#最小公倍数" class="headerlink" title="最小公倍数"></a>最小公倍数</h3><h3 id="同余"><a href="#同余" class="headerlink" title="同余"></a>同余</h3><h4 id="线性同余"><a href="#线性同余" class="headerlink" title="线性同余"></a>线性同余</h4><h4 id="二次剩余"><a href="#二次剩余" class="headerlink" title="二次剩余"></a>二次剩余</h4><h3 id="逆元"><a href="#逆元" class="headerlink" title="逆元"></a>逆元</h3><h3 id="原根"><a href="#原根" class="headerlink" title="原根"></a>原根</h3><h2 id="扩展欧几里得"><a href="#扩展欧几里得" class="headerlink" title="扩展欧几里得"></a>扩展欧几里得</h2><h2 id="二分快速幂"><a href="#二分快速幂" class="headerlink" title="二分快速幂"></a>二分快速幂</h2><h2 id="欧拉函数"><a href="#欧拉函数" class="headerlink" title="欧拉函数"></a>欧拉函数</h2><h2 id="欧拉定理"><a href="#欧拉定理" class="headerlink" title="欧拉定理"></a>欧拉定理</h2><h2 id="费马小定理"><a href="#费马小定理" class="headerlink" title="费马小定理"></a>费马小定理</h2><h2 id="扩展欧拉定理"><a href="#扩展欧拉定理" class="headerlink" title="扩展欧拉定理"></a>扩展欧拉定理</h2><h2 id="RSA加密解密"><a href="#RSA加密解密" class="headerlink" title="RSA加密解密"></a>RSA加密解密</h2><h2 id="中国剩余定理"><a href="#中国剩余定理" class="headerlink" title="中国剩余定理"></a>中国剩余定理</h2><h2 id="威尔逊定理"><a href="#威尔逊定理" class="headerlink" title="威尔逊定理"></a>威尔逊定理</h2><h2 id="卢卡斯定理"><a href="#卢卡斯定理" class="headerlink" title="卢卡斯定理"></a>卢卡斯定理</h2><h2 id="整数分块"><a href="#整数分块" class="headerlink" title="整数分块"></a>整数分块</h2><h2 id="迪利克雷卷积"><a href="#迪利克雷卷积" class="headerlink" title="迪利克雷卷积"></a>迪利克雷卷积</h2><h2 id="莫比乌斯反演"><a href="#莫比乌斯反演" class="headerlink" title="莫比乌斯反演"></a>莫比乌斯反演</h2><h2 id="拉宾米勒大素数判定"><a href="#拉宾米勒大素数判定" class="headerlink" title="拉宾米勒大素数判定"></a>拉宾米勒大素数判定</h2><h2 id="Pollard-rho因子分解"><a href="#Pollard-rho因子分解" class="headerlink" title="Pollard rho因子分解"></a>Pollard rho因子分解</h2><h2 id="莫队"><a href="#莫队" class="headerlink" title="莫队"></a>莫队</h2><h2 id="大步小步算法"><a href="#大步小步算法" class="headerlink" title="大步小步算法"></a>大步小步算法</h2><h1 id="高级数据结构"><a href="#高级数据结构" class="headerlink" title="高级数据结构"></a>高级数据结构</h1><h2 id="并差集"><a href="#并差集" class="headerlink" title="并差集"></a>并差集</h2><h2 id="单调队列"><a href="#单调队列" class="headerlink" title="单调队列"></a>单调队列</h2><h2 id="树状数组"><a href="#树状数组" class="headerlink" title="树状数组"></a>树状数组</h2><h2 id="线段树"><a href="#线段树" class="headerlink" title="线段树"></a>线段树</h2><h2 id="归并树"><a href="#归并树" class="headerlink" title="归并树"></a>归并树</h2><h2 id="划分树"><a href="#划分树" class="headerlink" title="划分树"></a>划分树</h2><h2 id="左偏树"><a href="#左偏树" class="headerlink" title="左偏树"></a>左偏树</h2><h2 id="矩形树"><a href="#矩形树" class="headerlink" title="矩形树"></a>矩形树</h2><h2 id="笛卡尔树"><a href="#笛卡尔树" class="headerlink" title="笛卡尔树"></a>笛卡尔树</h2><h2 id="平衡树"><a href="#平衡树" class="headerlink" title="平衡树"></a>平衡树</h2><h2 id="伸展树"><a href="#伸展树" class="headerlink" title="伸展树"></a>伸展树</h2><h2 id="基数树"><a href="#基数树" class="headerlink" title="基数树"></a>基数树</h2><h2 id="红黑树"><a href="#红黑树" class="headerlink" title="红黑树"></a>红黑树</h2><h2 id="K-D树"><a href="#K-D树" class="headerlink" title="K-D树"></a>K-D树</h2><h2 id="DancingLinks-X"><a href="#DancingLinks-X" class="headerlink" title="DancingLinks X"></a>DancingLinks X</h2><h2 id="树链剖分"><a href="#树链剖分" class="headerlink" title="树链剖分"></a>树链剖分</h2><h2 id="主席树"><a href="#主席树" class="headerlink" title="主席树"></a>主席树</h2><h2 id="堆-Treap"><a href="#堆-Treap" class="headerlink" title="堆 Treap"></a>堆 Treap</h2><h2 id="斐波那契堆"><a href="#斐波那契堆" class="headerlink" title="斐波那契堆"></a>斐波那契堆</h2><h2 id="回文树"><a href="#回文树" class="headerlink" title="回文树"></a>回文树</h2><h1 id="字符串匹配"><a href="#字符串匹配" class="headerlink" title="字符串匹配"></a>字符串匹配</h1><h2 id="字典树"><a href="#字典树" class="headerlink" title="字典树"></a>字典树</h2><h2 id="KMP"><a href="#KMP" class="headerlink" title="KMP"></a>KMP</h2><h2 id="扩展KMP"><a href="#扩展KMP" class="headerlink" title="扩展KMP"></a>扩展KMP</h2><h2 id="BM"><a href="#BM" class="headerlink" title="BM"></a>BM</h2><h2 id="Manacher"><a href="#Manacher" class="headerlink" title="Manacher"></a>Manacher</h2><h2 id="AC自动机"><a href="#AC自动机" class="headerlink" title="AC自动机"></a>AC自动机</h2><h2 id="后缀数组"><a href="#后缀数组" class="headerlink" title="后缀数组"></a>后缀数组</h2><h2 id="后缀树"><a href="#后缀树" class="headerlink" title="后缀树"></a>后缀树</h2><h2 id="后缀自动机"><a href="#后缀自动机" class="headerlink" title="后缀自动机"></a>后缀自动机</h2><h1 id="杂项算法"><a href="#杂项算法" class="headerlink" title="杂项算法"></a>杂项算法</h1><h2 id="卡特兰数"><a href="#卡特兰数" class="headerlink" title="卡特兰数"></a>卡特兰数</h2><h2 id="鸽巢原理"><a href="#鸽巢原理" class="headerlink" title="鸽巢原理"></a>鸽巢原理</h2><h2 id="容斥原理"><a href="#容斥原理" class="headerlink" title="容斥原理"></a>容斥原理</h2><h2 id="Polya环形计数"><a href="#Polya环形计数" class="headerlink" title="Polya环形计数"></a>Polya环形计数</h2><h1 id="计算几何"><a href="#计算几何" class="headerlink" title="计算几何"></a>计算几何</h1><h2 id="点"><a href="#点" class="headerlink" title="点"></a>点</h2><h2 id="向量"><a href="#向量" class="headerlink" title="向量"></a>向量</h2><h2 id="叉乘"><a href="#叉乘" class="headerlink" title="叉乘"></a>叉乘</h2><h2 id="点乘"><a href="#点乘" class="headerlink" title="点乘"></a>点乘</h2><h2 id="旋转"><a href="#旋转" class="headerlink" title="旋转"></a>旋转</h2><h2 id="线段判交"><a href="#线段判交" class="headerlink" title="线段判交"></a>线段判交</h2><h2 id="三角形面积"><a href="#三角形面积" class="headerlink" title="三角形面积"></a>三角形面积</h2><h2 id="多边形面积"><a href="#多边形面积" class="headerlink" title="多边形面积"></a>多边形面积</h2><h2 id="多边形判定"><a href="#多边形判定" class="headerlink" title="多边形判定"></a>多边形判定</h2><h2 id="凸多边形判定"><a href="#凸多边形判定" class="headerlink" title="凸多边形判定"></a>凸多边形判定</h2><h2 id="凸包"><a href="#凸包" class="headerlink" title="凸包"></a>凸包</h2><h3 id="二维"><a href="#二维" class="headerlink" title="二维"></a>二维</h3><h3 id="三维"><a href="#三维" class="headerlink" title="三维"></a>三维</h3><h2 id="旋转卡壳"><a href="#旋转卡壳" class="headerlink" title="旋转卡壳"></a>旋转卡壳</h2><h2 id="多边形面积交"><a href="#多边形面积交" class="headerlink" title="多边形面积交"></a>多边形面积交</h2><h2 id="多边形面积并"><a href="#多边形面积并" class="headerlink" title="多边形面积并"></a>多边形面积并</h2><h2 id="半平面交"><a href="#半平面交" class="headerlink" title="半平面交"></a>半平面交</h2><h2 id="最小覆盖圆"><a href="#最小覆盖圆" class="headerlink" title="最小覆盖圆"></a>最小覆盖圆</h2><h2 id="最小包围圆"><a href="#最小包围圆" class="headerlink" title="最小包围圆"></a>最小包围圆</h2><h2 id="模拟退火"><a href="#模拟退火" class="headerlink" title="模拟退火"></a>模拟退火</h2>]]></content>
      
      
      
        <tags>
            
            <tag> 计划 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linux删除文件夹与文件</title>
      <link href="posts/1302.html"/>
      <url>posts/1302.html</url>
      
        <content type="html"><![CDATA[<p><em>每天学习一个linux小操作</em></p><h2 id="rm"><a href="#rm" class="headerlink" title="rm"></a>rm</h2><ul><li>rm（英文全拼：remove）,作用: 删除文件或目录</li></ul><h3 id="r"><a href="#r" class="headerlink" title="-r"></a>-r</h3><ul><li>向下递归删除所有东西（文件与文件夹）</li></ul><h4 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h4><ul><li><pre class=" language-bash"><code class="language-bash"><span class="token function">rm</span> -rf /var/log/httpd/access</code></pre></li><li><p>删除/var/log/httpd/access目录以及其下所有文件、文件夹</p></li></ul><h3 id="f"><a href="#f" class="headerlink" title="-f"></a>-f</h3><ul><li>就是直接强行删除，不作任何提示的意思</li></ul><h4 id="实例-1"><a href="#实例-1" class="headerlink" title="实例"></a>实例</h4><ul><li><pre class=" language-bash"><code class="language-bash"><span class="token function">rm</span> -f /var/log/httpd/access.log</code></pre></li><li><p>将会强制删除/var/log/httpd/access.log这个文件</p></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> 云主机 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>vim的使用</title>
      <link href="posts/2328.html"/>
      <url>posts/2328.html</url>
      
        <content type="html"><![CDATA[<h1 id="vim的四钟模式"><a href="#vim的四钟模式" class="headerlink" title="vim的四钟模式"></a>vim的四钟模式</h1><h2 id="普通模式"><a href="#普通模式" class="headerlink" title="普通模式"></a>普通模式</h2><ul><li><p>使用vim进入文件的状态就是普通模式</p></li><li><p>从其他模式回到普通模式：按<strong>Ese</strong>就能回到普通模式</p></li><li><p>普通模式无法输入或删除内容，只能移动光标</p></li></ul><h3 id="该模式下的命令"><a href="#该模式下的命令" class="headerlink" title="该模式下的命令"></a>该模式下的命令</h3><table><thead><tr><th align="left">移动光标的方法</th><th></th></tr></thead><tbody><tr><td align="left">h 或 向左箭头键(←)</td><td>光标向左移动一个字符</td></tr><tr><td align="left">j 或 向下箭头键(↓)</td><td>光标向下移动一个字符</td></tr><tr><td align="left">k 或 向上箭头键(↑)</td><td>光标向上移动一个字符</td></tr><tr><td align="left">l 或 向右箭头键(→)</td><td>光标向右移动一个字符</td></tr><tr><td align="left">如果你将右手放在键盘上的话，你会发现 hjkl 是排列在一起的，因此可以使用这四个按钮来移动光标。 如果想要进行多次移动的话，例如向下移动 30 行，可以使用 “30j” 或 “30↓” 的组合按键， 亦即加上想要进行的次数(数字)后，按下动作即可！</td><td></td></tr><tr><td align="left">[Ctrl] + [f]</td><td>屏幕『向下』移动一页，相当于 [Page Down]按键 (常用)</td></tr><tr><td align="left">[Ctrl] + [b]</td><td>屏幕『向上』移动一页，相当于 [Page Up] 按键 (常用)</td></tr><tr><td align="left">[Ctrl] + [d]</td><td>屏幕『向下』移动半页</td></tr><tr><td align="left">[Ctrl] + [u]</td><td>屏幕『向上』移动半页</td></tr><tr><td align="left">+</td><td>光标移动到非空格符的下一行</td></tr><tr><td align="left">-</td><td>光标移动到非空格符的上一行</td></tr><tr><td align="left">n<space></space></td><td>那个 n 表示『数字』，例如 20 。按下数字后再按空格键，光标会向右移动这一行的 n 个字符。例如 20<space> 则光标会向后面移动 20 个字符距离。</space></td></tr><tr><td align="left">0 或功能键[Home]</td><td>这是数字『 0 』：移动到这一行的最前面字符处 (常用)</td></tr><tr><td align="left">$ 或功能键[End]</td><td>移动到这一行的最后面字符处(常用)</td></tr><tr><td align="left">H</td><td>光标移动到这个屏幕的最上方那一行的第一个字符</td></tr><tr><td align="left">M</td><td>光标移动到这个屏幕的中央那一行的第一个字符</td></tr><tr><td align="left">L</td><td>光标移动到这个屏幕的最下方那一行的第一个字符</td></tr><tr><td align="left">G</td><td>移动到这个档案的最后一行(常用)</td></tr><tr><td align="left">nG</td><td>n 为数字。移动到这个档案的第 n 行。例如 20G 则会移动到这个档案的第 20 行(可配合 :set nu)</td></tr><tr><td align="left">gg</td><td>移动到这个档案的第一行，相当于 1G 啊！ (常用)</td></tr><tr><td align="left">n<enter></enter></td><td>n 为数字。光标向下移动 n 行(常用)</td></tr><tr><td align="left">搜索替换</td><td></td></tr><tr><td align="left">/word</td><td>向光标之下寻找一个名称为 word 的字符串。例如要在档案内搜寻 vbird 这个字符串，就输入 /vbird 即可！ (常用)</td></tr><tr><td align="left">?word</td><td>向光标之上寻找一个字符串名称为 word 的字符串。</td></tr><tr><td align="left">n</td><td>这个 n 是英文按键。代表重复前一个搜寻的动作。举例来说， 如果刚刚我们执行 /vbird 去向下搜寻 vbird 这个字符串，则按下 n 后，会向下继续搜寻下一个名称为 vbird 的字符串。如果是执行 ?vbird 的话，那么按下 n 则会向上继续搜寻名称为 vbird 的字符串！</td></tr><tr><td align="left">N</td><td>这个 N 是英文按键。与 n 刚好相反，为『反向』进行前一个搜寻动作。 例如 /vbird 后，按下 N 则表示『向上』搜寻 vbird 。</td></tr><tr><td align="left">使用 /word 配合 n 及 N 是非常有帮助的！可以让你重复的找到一些你搜寻的关键词！</td><td></td></tr><tr><td align="left">:n1,n2s/word1/word2/g</td><td>n1 与 n2 为数字。在第 n1 与 n2 行之间寻找 word1 这个字符串，并将该字符串取代为 word2 ！举例来说，在 100 到 200 行之间搜寻 vbird 并取代为 VBIRD 则： 『:100,200s/vbird/VBIRD/g』。(常用)</td></tr><tr><td align="left"><strong>:1,$s/word1/word2/g</strong> 或 <strong>:%s/word1/word2/g</strong></td><td>从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 word2 ！(常用)</td></tr><tr><td align="left"><strong>:1,$s/word1/word2/gc</strong> 或 <strong>:%s/word1/word2/gc</strong></td><td>从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 word2 ！且在取代前显示提示字符给用户确认 (confirm) 是否需要取代！(常用)</td></tr><tr><td align="left">删除、复制与贴上</td><td></td></tr><tr><td align="left">x, X</td><td>在一行字当中，x 为向后删除一个字符 (相当于 [del] 按键)， X 为向前删除一个字符(相当于 [backspace] 亦即是退格键) (常用)</td></tr><tr><td align="left">nx</td><td>n 为数字，连续向后删除 n 个字符。举例来说，我要连续删除 10 个字符， 『10x』。</td></tr><tr><td align="left">dd</td><td>删除游标所在的那一整行(常用)</td></tr><tr><td align="left">ndd</td><td>n 为数字。删除光标所在的向下 n 行，例如 20dd 则是删除 20 行 (常用)</td></tr><tr><td align="left">d1G</td><td>删除光标所在到第一行的所有数据</td></tr><tr><td align="left">dG</td><td>删除光标所在到最后一行的所有数据</td></tr><tr><td align="left">d$</td><td>删除游标所在处，到该行的最后一个字符</td></tr><tr><td align="left">d0</td><td>那个是数字的 0 ，删除游标所在处，到该行的最前面一个字符</td></tr><tr><td align="left">yy</td><td>复制游标所在的那一行(常用)</td></tr><tr><td align="left">nyy</td><td>n 为数字。复制光标所在的向下 n 行，例如 20yy 则是复制 20 行(常用)</td></tr><tr><td align="left">y1G</td><td>复制游标所在行到第一行的所有数据</td></tr><tr><td align="left">yG</td><td>复制游标所在行到最后一行的所有数据</td></tr><tr><td align="left">y0</td><td>复制光标所在的那个字符到该行行首的所有数据</td></tr><tr><td align="left">y$</td><td>复制光标所在的那个字符到该行行尾的所有数据</td></tr><tr><td align="left">p, P</td><td>p 为将已复制的数据在光标下一行贴上，P 则为贴在游标上一行！ 举例来说，我目前光标在第 20 行，且已经复制了 10 行数据。则按下 p 后， 那 10 行数据会贴在原本的 20 行之后，亦即由 21 行开始贴。但如果是按下 P 呢？ 那么原本的第 20 行会被推到变成 30 行。 (常用)</td></tr><tr><td align="left">J</td><td>将光标所在行与下一行的数据结合成同一行</td></tr><tr><td align="left">c</td><td>重复删除多个数据，例如向下删除 10 行，[ 10cj ]</td></tr><tr><td align="left">u</td><td>复原前一个动作。(常用)</td></tr><tr><td align="left">[Ctrl]+r</td><td>重做上一个动作。(常用)</td></tr><tr><td align="left">这个 u 与 [Ctrl]+r 是很常用的指令！一个是复原，另一个则是重做一次～ 利用这两个功能按键，你的编辑，嘿嘿！很快乐的啦！</td><td></td></tr><tr><td align="left">.</td><td>不要怀疑！这就是小数点！意思是重复前一个动作的意思。 如果你想要重复删除、重复贴上等等动作，按下小数点『.』就好了！ (常用)</td></tr></tbody></table><h2 id="命令模式"><a href="#命令模式" class="headerlink" title="命令模式"></a>命令模式</h2><ul><li><p>用户刚刚启动 vim，便进入了命令模式。</p></li><li><p>此状态下敲击键盘动作会被Vim识别为命令，而非输入字符。比如我们此时按下i，并不会输入一个字符，i被当作了一个命令。</p></li></ul><h3 id=""><a href="#" class="headerlink" title=""></a></h3><h4 id="切换到底线命令模式，以在最底一行输入命令。"><a href="#切换到底线命令模式，以在最底一行输入命令。" class="headerlink" title=": 切换到底线命令模式，以在最底一行输入命令。"></a>: 切换到底线命令模式，以在最底一行输入命令。</h4><h4 id="底线命令模式"><a href="#底线命令模式" class="headerlink" title="底线命令模式"></a>底线命令模式</h4><h4 id="set-nonu"><a href="#set-nonu" class="headerlink" title="set nonu"></a>set nonu</h4><ul><li>删除行号</li></ul><h4 id="set-nu"><a href="#set-nu" class="headerlink" title="set nu"></a>set nu</h4><ul><li>恢复行号</li></ul><h4 id="set-paste"><a href="#set-paste" class="headerlink" title="set paste"></a>set paste</h4><ul><li>忽略原来格式进行粘贴（无格式粘贴）</li></ul><h4 id="w"><a href="#w" class="headerlink" title="w"></a>w</h4><ul><li>保存文件内容</li></ul><h4 id="q"><a href="#q" class="headerlink" title="q"></a>q</h4><ul><li>退出当前文件，退出时询问你是否保存</li></ul><h4 id="q-1"><a href="#q-1" class="headerlink" title="q!"></a>q!</h4><ul><li>强制退出当前文件，不保存</li></ul><h4 id="wq"><a href="#wq" class="headerlink" title="wq"></a>wq</h4><ul><li>保存当前文件并退出当前文件</li></ul><h4 id="wq-1"><a href="#wq-1" class="headerlink" title="wq!"></a>wq!</h4><ul><li>保存当前文件并强制退出当前文件</li></ul><h4 id="saveas-b-txt"><a href="#saveas-b-txt" class="headerlink" title="saveas ~/b.txt"></a>saveas ~/b.txt</h4><ul><li>另存为 <strong>~/b.txt</strong></li></ul><h4 id="s-string1-string2"><a href="#s-string1-string2" class="headerlink" title="s/string1/string2"></a>s/string1/string2</h4><ul><li>%s/as/cd/g：全局将as替换为cd</li><li>s/as/cd/g：将将光标所在行的as替换为cd</li></ul><h2 id="插入模式"><a href="#插入模式" class="headerlink" title="插入模式"></a>插入模式</h2><h3 id="普通模式进入插入模式的6个字符"><a href="#普通模式进入插入模式的6个字符" class="headerlink" title="普通模式进入插入模式的6个字符"></a>普通模式进入插入模式的6个字符</h3><h4 id="a"><a href="#a" class="headerlink" title="a"></a>a</h4><ul><li>在当前光标下一个位置进行插入内容</li></ul><h4 id="A"><a href="#A" class="headerlink" title="A"></a>A</h4><ul><li>在当前光标的行尾位置进行插入内容</li></ul><h4 id="i"><a href="#i" class="headerlink" title="i"></a>i</h4><ul><li>在当前光标的位置进行插入内容</li></ul><h4 id="I"><a href="#I" class="headerlink" title="I"></a>I</h4><ul><li>在当前光标的行首位置进行插入内容</li></ul><h4 id="o"><a href="#o" class="headerlink" title="o"></a>o</h4><ul><li>在当前光标所在行的下一行新建一行进行插入，当前行变为上一行</li></ul><h4 id="O"><a href="#O" class="headerlink" title="O"></a>O</h4><ul><li>在当前光标所在行新建一行进行插入，当前行变成下一行</li></ul><h2 id="可视模式"><a href="#可视模式" class="headerlink" title="可视模式"></a>可视模式</h2>]]></content>
      
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> vim </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>洛谷P1358扑克牌</title>
      <link href="posts/112e.html"/>
      <url>posts/112e.html</url>
      
        <content type="html"><![CDATA[<h2 id="P1358-扑克牌"><a href="#P1358-扑克牌" class="headerlink" title="P1358 扑克牌"></a>P1358 扑克牌</h2><h3 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h3><ul><li>一看题目纯属的组合数</li></ul><h3 id="组合恒等式"><a href="#组合恒等式" class="headerlink" title="组合恒等式"></a>组合恒等式</h3><p><strong>$$ C_n^m = C_{n - 1}^{m-1} + C_{n - 1}^m $$</strong></p><h3 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h3><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">int</span> c<span class="token punctuation">[</span><span class="token number">10001</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">101</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> mod <span class="token operator">=</span> <span class="token number">10007</span><span class="token punctuation">;</span><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> w <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">></span> <span class="token string">'9'</span> <span class="token operator">||</span> ch <span class="token operator">&lt;</span> <span class="token string">'0'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        w <span class="token operator">|</span><span class="token operator">=</span> ch <span class="token operator">==</span> <span class="token string">'-'</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">>=</span> <span class="token string">'0'</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">&lt;=</span> <span class="token string">'9'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        x <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>ch <span class="token operator">^</span> <span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> w <span class="token operator">?</span> <span class="token operator">-</span>x <span class="token punctuation">:</span> x<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//组合数打表</span>    c<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">10000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        c<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            c<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> c<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> c<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>            c<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">%</span><span class="token operator">=</span> mod<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">,</span> sum <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    n <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> m <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> a<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        a <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        sum <span class="token operator">*</span><span class="token operator">=</span> c<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">;</span>        n <span class="token operator">-</span><span class="token operator">=</span> a<span class="token punctuation">;</span>        sum <span class="token operator">%</span><span class="token operator">=</span> mod<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> sum<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 组合数 </tag>
            
            <tag> 乘法原理 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>洛谷P1679神奇的四次方数-dfs</title>
      <link href="posts/8e27.html"/>
      <url>posts/8e27.html</url>
      
        <content type="html"><![CDATA[<h2 id="比洛谷题解的爆搜快了50ms"><a href="#比洛谷题解的爆搜快了50ms" class="headerlink" title="比洛谷题解的爆搜快了50ms"></a>比洛谷题解的爆搜快了50ms</h2><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>在你的帮助下，v神终于帮同学找到了最合适的大学，接下来就要通知同学了。在班级里负责联络网的是dm同学，于是v神便找到了dm同学，可dm同学正在忙于研究一道有趣的数学题，为了请dm出山，v神只好请你帮忙解决这道题了。</p><p>题目描述：将一个整数m分解为n个四次方数的和的形式，要求n最小。例如，m=706,706=5^4+3^4,则n=2。</p><h2 id="输入格式"><a href="#输入格式" class="headerlink" title="输入格式"></a>输入格式</h2><p>一行，一个整数m。</p><h2 id="输出格式"><a href="#输出格式" class="headerlink" title="输出格式"></a>输出格式</h2><p>一行，一个整数n。</p><h2 id="输入输出样例"><a href="#输入输出样例" class="headerlink" title="输入输出样例"></a>输入输出样例</h2><p><strong>输入</strong></p><pre><code>706</code></pre><p>**输出 **</p><pre><code>2</code></pre><h2 id="说明-提示"><a href="#说明-提示" class="headerlink" title="说明/提示"></a>说明/提示</h2><p>数据范围：对于30%的数据，m&lt;=5000;对于100%的数据，m&lt;=100,000</p><h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><ul><li>全排列搜索</li><li>题目的n最小，我们必须从最大值开始搜</li><li>然后确定上确界，枚举下界</li><li>具体思路看代码</li></ul><h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">define</span> min(a, b) ((a) > (b) ? (b) : (a))</span><span class="token keyword">int</span> power<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">18</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        power<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i <span class="token operator">*</span> i <span class="token operator">*</span> i <span class="token operator">*</span> i<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//    printf("%d\n", power[i]);</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> mi<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> h<span class="token punctuation">,</span> <span class="token keyword">int</span> sum<span class="token punctuation">,</span> <span class="token keyword">int</span> cnt<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>sum <span class="token operator">></span> n<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//剪枝 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>cnt <span class="token operator">>=</span> mi<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 剪枝 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>sum <span class="token operator">==</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>        mi <span class="token operator">=</span> cnt<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//跟新答案 </span>        <span class="token keyword">return</span> <span class="token punctuation">;</span>     <span class="token punctuation">}</span>    <span class="token keyword">int</span> i <span class="token operator">=</span> h<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>power<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> n <span class="token operator">-</span> sum<span class="token punctuation">)</span> <span class="token operator">--</span>i<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//确定上确界 （贪心）</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//枚举下界 </span>        <span class="token function">dfs</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> sum <span class="token operator">+</span> power<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> cnt <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//回溯搜索 </span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span> <span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    mi <span class="token operator">=</span> <span class="token number">99999999</span><span class="token punctuation">;</span>    <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//从最大值开始搜 </span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> mi<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span> </code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> dfs </tag>
            
            <tag> 洛谷刷题 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>洛谷背包专题</title>
      <link href="posts/d63c.html"/>
      <url>posts/d63c.html</url>
      
        <content type="html"><![CDATA[<h2 id="普及组"><a href="#普及组" class="headerlink" title="普及组"></a>普及组</h2><h3 id="P1734"><a href="#P1734" class="headerlink" title="P1734"></a>P1734</h3><h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><ul><li>01背包模板套用</li><li><strong>1 &lt; i &lt; s</strong>的数就是物品的体积</li><li>其中sum保留每个数<strong>i</strong>的约数之和，也就是物品的价值</li></ul><h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> w <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">></span> <span class="token string">'9'</span> <span class="token operator">||</span> ch <span class="token operator">&lt;</span> <span class="token string">'0'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        w <span class="token operator">|</span><span class="token operator">=</span> ch <span class="token operator">==</span> <span class="token string">'-'</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">>=</span> <span class="token string">'0'</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">&lt;=</span> <span class="token string">'9'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        x <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>ch <span class="token operator">^</span> <span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token keyword">return</span> w <span class="token operator">?</span> <span class="token operator">-</span>x <span class="token punctuation">:</span> x<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token macro property">#<span class="token directive keyword">define</span> MAX_S 1001</span><span class="token keyword">int</span> sum<span class="token punctuation">[</span>MAX_S<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//预处理每个物品的价值 </span><span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token keyword">int</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>         <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> s<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        sum<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>j <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">></span> i<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">%</span> j <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> sum<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> j<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token comment" spellcheck="true">//    for (int i = 1; i &lt; s; i++) {</span><span class="token comment" spellcheck="true">//        printf("%d\n", sum[i]);</span><span class="token comment" spellcheck="true">//    }</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> s<span class="token punctuation">;</span><span class="token keyword">int</span> dp<span class="token punctuation">[</span>MAX_S<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">define</span> max(a, b) ({\    (a) > (b) ? (a) : (b);\})</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    s <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">init</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> s<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//枚举背包体积vi == i </span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> s<span class="token punctuation">;</span> j<span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">>=</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>                dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>j <span class="token operator">-</span> i<span class="token punctuation">]</span> <span class="token operator">+</span> sum<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>s<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="P1926-小书童——刷题大军"><a href="#P1926-小书童——刷题大军" class="headerlink" title="P1926 小书童——刷题大军"></a>P1926 小书童——刷题大军</h3><h4 id="思路-1"><a href="#思路-1" class="headerlink" title="思路"></a>思路</h4><ul><li>两个01背包</li><li>分别求得每个时间得到的最大分数与刷题的最大数量</li></ul><h4 id="代码演示-1"><a href="#代码演示-1" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> w <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">></span> <span class="token string">'9'</span> <span class="token operator">||</span> ch <span class="token operator">&lt;</span> <span class="token string">'0'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        w <span class="token operator">|</span><span class="token operator">=</span> ch <span class="token operator">==</span> <span class="token string">'-'</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">>=</span> <span class="token string">'0'</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">&lt;=</span> <span class="token string">'9'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        x <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>ch <span class="token operator">^</span> <span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> w <span class="token operator">?</span> <span class="token operator">-</span>x <span class="token punctuation">:</span> x<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token macro property">#<span class="token directive keyword">define</span> min(a, b) ((a) &lt; (b) ? (a) : (b))</span><span class="token macro property">#<span class="token directive keyword">define</span> max(a, b) ((a) > (b) ? (a) : (b))</span><span class="token keyword">int</span> t<span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//代表每“题”他的需要时间</span><span class="token keyword">int</span> task<span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//表示每项作业它的需要时间</span><span class="token keyword">int</span> score<span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//代表每项作业它的分值</span><span class="token keyword">int</span> dp<span class="token punctuation">[</span><span class="token number">151</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//记录每个时间得到的最大分数 </span><span class="token keyword">int</span> ans<span class="token punctuation">[</span><span class="token number">151</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//记录每个时间刷的最大题量 </span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">,</span> k<span class="token punctuation">,</span> r<span class="token punctuation">;</span>    n <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> m <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        t<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        task<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        score<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> r<span class="token punctuation">;</span> j <span class="token operator">>=</span> task<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>j <span class="token operator">-</span> task<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> score<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> tp<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> r<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//printf("dp[%d] = %d\n", i, dp[i]);</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">>=</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>            tp <span class="token operator">=</span> i<span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//printf("%d\n", tp);</span>    <span class="token comment" spellcheck="true">//printf("%d\n", r - tp);</span><span class="token comment" spellcheck="true">//    memset(ans, 0, sizeof(ans));</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> r <span class="token operator">-</span> tp<span class="token punctuation">;</span> j <span class="token operator">>=</span> t<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//    printf("ans[%d] = %d\n", j, ans[j]);</span>            ans<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> ans<span class="token punctuation">[</span>j <span class="token operator">-</span> t<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//    printf("ans[%d] = %d\n", j, ans[j]);</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> ans<span class="token punctuation">[</span>r <span class="token operator">-</span> tp<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="P1049-NOIP2001-普及组-装箱问题"><a href="#P1049-NOIP2001-普及组-装箱问题" class="headerlink" title="P1049 [NOIP2001 普及组] 装箱问题"></a>P1049 [NOIP2001 普及组] 装箱问题</h3><h4 id="思路-2"><a href="#思路-2" class="headerlink" title="思路"></a>思路</h4><ul><li>01背包直接用</li></ul><h4 id="代码演示-2"><a href="#代码演示-2" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> w <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">></span> <span class="token string">'9'</span> <span class="token operator">||</span> ch <span class="token operator">&lt;</span> <span class="token string">'0'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        w <span class="token operator">|</span><span class="token operator">=</span> ch <span class="token operator">==</span> <span class="token string">'-'</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">>=</span> <span class="token string">'0'</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">&lt;=</span> <span class="token string">'9'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        x <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>ch <span class="token operator">^</span> <span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> w <span class="token operator">?</span> <span class="token operator">-</span>x <span class="token punctuation">:</span> x<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token macro property">#<span class="token directive keyword">define</span> max(a, b) ({\    (a) > (b) ? (a) : (b);\})</span><span class="token keyword">int</span> dp<span class="token punctuation">[</span><span class="token number">20004</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> V<span class="token punctuation">,</span> n<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    V <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> n <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">,</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        v <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> V<span class="token punctuation">;</span> j <span class="token operator">>=</span> v<span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>j <span class="token operator">-</span> v<span class="token punctuation">]</span> <span class="token operator">+</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> V <span class="token operator">-</span> dp<span class="token punctuation">[</span>V<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span> </code></pre><h3 id="P2639-USACO09OCT-Bessie’s-Weight-Problem-G"><a href="#P2639-USACO09OCT-Bessie’s-Weight-Problem-G" class="headerlink" title="P2639 [USACO09OCT]Bessie’s Weight Problem G"></a>P2639 [USACO09OCT]Bessie’s Weight Problem G</h3><h4 id="思路-3"><a href="#思路-3" class="headerlink" title="思路"></a>思路</h4><ul><li>01背包模板</li></ul><h4 id="代码演示-3"><a href="#代码演示-3" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> w <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">></span> <span class="token string">'9'</span> <span class="token operator">||</span> ch <span class="token operator">&lt;</span> <span class="token string">'0'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        w <span class="token operator">|</span><span class="token operator">=</span> ch <span class="token operator">==</span> <span class="token string">'-'</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">>=</span> <span class="token string">'0'</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">&lt;=</span> <span class="token string">'9'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        x <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>ch <span class="token operator">^</span> <span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> w <span class="token operator">?</span> <span class="token operator">-</span>x <span class="token punctuation">:</span> x<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token macro property">#<span class="token directive keyword">define</span> max(a, b) ({\    (a) > (b) ? (a) : (b);\})</span><span class="token keyword">int</span> dp<span class="token punctuation">[</span><span class="token number">45003</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> V<span class="token punctuation">,</span> n<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    V <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> n <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">,</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        v <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> V<span class="token punctuation">;</span> j <span class="token operator">>=</span> v<span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>j <span class="token operator">-</span> v<span class="token punctuation">]</span> <span class="token operator">+</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>V<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span> </code></pre><h3 id="P1048-NOIP2005-普及组-采药"><a href="#P1048-NOIP2005-普及组-采药" class="headerlink" title="P1048 [NOIP2005 普及组] 采药"></a>P1048 [NOIP2005 普及组] 采药</h3><h4 id="思路-4"><a href="#思路-4" class="headerlink" title="思路"></a>思路</h4><ul><li>01背包模板套用</li><li>没有思路可言</li></ul><h4 id="代码演示-4"><a href="#代码演示-4" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> w <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">></span> <span class="token string">'9'</span> <span class="token operator">||</span> ch <span class="token operator">&lt;</span> <span class="token string">'0'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        w <span class="token operator">|</span><span class="token operator">=</span> ch <span class="token operator">==</span> <span class="token string">'-'</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">>=</span> <span class="token string">'0'</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">&lt;=</span> <span class="token string">'9'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        x <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>ch <span class="token operator">^</span> <span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token punctuation">}</span>    <span class="token keyword">return</span> w <span class="token operator">?</span> <span class="token operator">-</span>x <span class="token punctuation">:</span> x<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token macro property">#<span class="token directive keyword">define</span> max(a, b) ((a) > (b) ? (a) : (b))</span><span class="token macro property">#<span class="token directive keyword">define</span> MAX_T 1001</span><span class="token keyword">int</span> dp<span class="token punctuation">[</span>MAX_T<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> T<span class="token punctuation">,</span> M<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    T <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> M <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> t<span class="token punctuation">,</span> w<span class="token punctuation">,</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> M<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        t <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> w <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> T<span class="token punctuation">;</span> j<span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">>=</span> t<span class="token punctuation">)</span> dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>j <span class="token operator">-</span> t<span class="token punctuation">]</span> <span class="token operator">+</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>T<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="P1060-NOIP2006-普及组-开心的金明"><a href="#P1060-NOIP2006-普及组-开心的金明" class="headerlink" title="P1060 [NOIP2006 普及组] 开心的金明"></a>P1060 [NOIP2006 普及组] 开心的金明</h3><h4 id="思路-5"><a href="#思路-5" class="headerlink" title="思路"></a>思路</h4><ul><li>01背包模板套用</li><li><strong>1 &lt; vi &lt; s</strong>的数就是物品的体积，也就是题目的物品的价格</li><li>vi * wi为物品的价值，其中wi为题目物品的重要度</li></ul><h4 id="代码演示-5"><a href="#代码演示-5" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> w <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">></span> <span class="token string">'9'</span> <span class="token operator">||</span> ch <span class="token operator">&lt;</span> <span class="token string">'0'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        w <span class="token operator">|</span><span class="token operator">=</span> ch <span class="token operator">==</span> <span class="token string">'-'</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">>=</span> <span class="token string">'0'</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">&lt;=</span> <span class="token string">'9'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        x <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>ch <span class="token operator">^</span> <span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token punctuation">}</span>    <span class="token keyword">return</span> w <span class="token operator">?</span> <span class="token operator">-</span>x <span class="token punctuation">:</span> x<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token macro property">#<span class="token directive keyword">define</span> max(a, b) ((a) > (b) ? (a) : (b))</span><span class="token macro property">#<span class="token directive keyword">define</span> MAX_N 30004</span><span class="token keyword">int</span> dp<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    n <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> m <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//01背包模板套用 </span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">,</span> w<span class="token punctuation">,</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        v <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> w <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> n<span class="token punctuation">;</span> j<span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">>=</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>                dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>j <span class="token operator">-</span> v<span class="token punctuation">]</span> <span class="token operator">+</span> v <span class="token operator">*</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="P1507-NASA的食物计划"><a href="#P1507-NASA的食物计划" class="headerlink" title="P1507 NASA的食物计划"></a>P1507 NASA的食物计划</h3><h4 id="思路-6"><a href="#思路-6" class="headerlink" title="思路"></a>思路</h4><ul><li><p>这题有两个限制量（<strong>二维的01背包</strong>）</p></li><li><p>所以数组定义为：</p></li><li><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">define</span> MAX_VW 405</span><span class="token keyword">int</span> dp<span class="token punctuation">[</span>MAX_VW<span class="token punctuation">]</span><span class="token punctuation">[</span>MAX_VW<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre></li><li><p>由数据规模大小可以知道，可以来个二重循环求每个体积重量下的最大卡路里</p></li></ul><h4 id="代码演示-6"><a href="#代码演示-6" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> w <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">></span> <span class="token string">'9'</span> <span class="token operator">||</span> ch <span class="token operator">&lt;</span> <span class="token string">'0'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        w <span class="token operator">|</span><span class="token operator">=</span> ch <span class="token operator">==</span> <span class="token string">'-'</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">>=</span> <span class="token string">'0'</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">&lt;=</span> <span class="token string">'9'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        x <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>ch <span class="token operator">^</span> <span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token punctuation">}</span>    <span class="token keyword">return</span> w <span class="token operator">?</span> <span class="token operator">-</span>x <span class="token punctuation">:</span> x<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token macro property">#<span class="token directive keyword">define</span> max(a, b) ((a) > (b) ? (a) : (b))</span><span class="token macro property">#<span class="token directive keyword">define</span> MAX_VW 405</span><span class="token keyword">int</span> dp<span class="token punctuation">[</span>MAX_VW<span class="token punctuation">]</span><span class="token punctuation">[</span>MAX_VW<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> V<span class="token punctuation">,</span> W<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    V <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> W <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    n <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> v<span class="token punctuation">,</span> w<span class="token punctuation">,</span> k<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        v <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> w <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> V<span class="token punctuation">;</span> j<span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">>=</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> l <span class="token operator">=</span> W<span class="token punctuation">;</span> l<span class="token punctuation">;</span> l<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">>=</span> w<span class="token punctuation">)</span> <span class="token punctuation">{</span>                        dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>j <span class="token operator">-</span> v<span class="token punctuation">]</span><span class="token punctuation">[</span>l <span class="token operator">-</span> w<span class="token punctuation">]</span> <span class="token operator">+</span> k<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>V<span class="token punctuation">]</span><span class="token punctuation">[</span>W<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="P1910-L国的战斗之间谍-题解"><a href="#P1910-L国的战斗之间谍-题解" class="headerlink" title="P1910 L国的战斗之间谍 题解"></a>P1910 L国的战斗之间谍 题解</h3><ul><li>二维背包模板</li><li>自己了解一下</li></ul><h4 id="代码演示-7"><a href="#代码演示-7" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> w <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">></span> <span class="token string">'9'</span> <span class="token operator">||</span> ch <span class="token operator">&lt;</span> <span class="token string">'0'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        w <span class="token operator">|</span><span class="token operator">=</span> ch <span class="token operator">==</span> <span class="token string">'-'</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">>=</span> <span class="token string">'0'</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">&lt;=</span> <span class="token string">'9'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        x <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>ch <span class="token operator">^</span> <span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> w <span class="token operator">?</span> <span class="token operator">-</span>x <span class="token punctuation">:</span> x<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token macro property">#<span class="token directive keyword">define</span> max(a, b) ({\    (a) > (b) ? (a) : (b);\})</span><span class="token keyword">int</span> dp<span class="token punctuation">[</span><span class="token number">1001</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1001</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">,</span> x<span class="token punctuation">;</span>    n <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> m <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> x <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">;</span>        a <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> m<span class="token punctuation">;</span> j <span class="token operator">>=</span> b<span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> x<span class="token punctuation">;</span> k <span class="token operator">>=</span> c<span class="token punctuation">;</span> k<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>j <span class="token operator">-</span> b<span class="token punctuation">]</span><span class="token punctuation">[</span>k <span class="token operator">-</span> c<span class="token punctuation">]</span> <span class="token operator">+</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span> </code></pre><h3 id="P1832-A-B-Problem（再升级）"><a href="#P1832-A-B-Problem（再升级）" class="headerlink" title="P1832 A+B Problem（再升级）"></a>P1832 A+B Problem（再升级）</h3><h4 id="思路-7"><a href="#思路-7" class="headerlink" title="思路"></a>思路</h4><ul><li><p>完全背包套用</p></li><li><p>对于每个素数数量没有限制，素数本身就是体积，素数个数就是价格</p></li><li><p>条件初始化：</p></li><li><pre class=" language-c"><code class="language-c">dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span></code></pre></li><li><p>转移方程</p></li><li><pre class=" language-c"><code class="language-c">dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> dp<span class="token punctuation">[</span>j <span class="token operator">-</span> prime<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre></li></ul><h3 id="P2563-AHOI2001-质数和分解"><a href="#P2563-AHOI2001-质数和分解" class="headerlink" title="P2563 [AHOI2001]质数和分解"></a>P2563 [AHOI2001]质数和分解</h3><h4 id="思路-8"><a href="#思路-8" class="headerlink" title="思路"></a>思路</h4><ul><li><p>记得初始化条件</p></li><li><pre><code>dp[0] = 1;</code></pre></li><li></li></ul><h4 id="代码演示-8"><a href="#代码演示-8" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span><span class="token keyword">int</span> n<span class="token punctuation">;</span><span class="token keyword">int</span> prime<span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">200</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>prime<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> prime<span class="token punctuation">[</span><span class="token operator">++</span>prime<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> prime<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">*</span> prime<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">></span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>            prime<span class="token punctuation">[</span>i <span class="token operator">*</span> prime<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">%</span> prime<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>         <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token comment" spellcheck="true">//    for (int i = 0; i &lt;= prime[0]; i++) printf("%d\n", prime[i]);</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">long</span> <span class="token keyword">long</span> dp<span class="token punctuation">[</span><span class="token number">201</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> prime<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> prime<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> <span class="token number">200</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token macro property">#<span class="token directive keyword">define</span> max(a, b) ((a) > (b) ? (a) : (b))</span>            dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> dp<span class="token punctuation">[</span>j <span class="token operator">-</span> prime<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token constant">EOF</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%lld\n"</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="P1679-神奇的四次方数"><a href="#P1679-神奇的四次方数" class="headerlink" title="P1679 神奇的四次方数"></a>P1679 神奇的四次方数</h3><h4 id="思路-9"><a href="#思路-9" class="headerlink" title="思路"></a>思路</h4><ul><li></li></ul><h4 id="代码演示-9"><a href="#代码演示-9" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;math.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;queue></span></span>using namespace std<span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">define</span> min(a, b) ({\    (a) &lt; (b) ? (a) : (b);\})</span><span class="token keyword">int</span> dp<span class="token punctuation">[</span><span class="token number">100005</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> power<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">19</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        power<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token function">pow</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">memset</span><span class="token punctuation">(</span>dp<span class="token punctuation">,</span> <span class="token number">0x3f</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>dp<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//初始化，最重要 </span>    <span class="token keyword">int</span> n<span class="token punctuation">;</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">19</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> power<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>j <span class="token operator">-</span> power<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="代码演示-10"><a href="#代码演示-10" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">define</span> MAX_N 1001</span><span class="token keyword">int</span> prime<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//快速线性筛 </span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> MAX_N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>prime<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> prime<span class="token punctuation">[</span><span class="token operator">++</span>prime<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> prime<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">*</span> prime<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">>=</span> MAX_N<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>            prime<span class="token punctuation">[</span>i <span class="token operator">*</span> prime<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">%</span> prime<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> n<span class="token punctuation">;</span><span class="token keyword">long</span> <span class="token keyword">long</span> dp<span class="token punctuation">[</span>MAX_N <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//n = read();</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> prime<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//小优化，提前结束循环 </span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> prime<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//小优化，减少使用if语句 </span>            dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> dp<span class="token punctuation">[</span>j <span class="token operator">-</span> prime<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%lld\n"</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="P1164-小A点菜"><a href="#P1164-小A点菜" class="headerlink" title="P1164 小A点菜"></a>P1164 小A点菜</h3><h4 id="思路-10"><a href="#思路-10" class="headerlink" title="思路"></a>思路</h4><ul><li><p>跟上面那道题一样，都是求方案数量</p></li><li><p>那么0块钱点菜的方法也是一种方法，则初始化条件;</p></li><li><pre class=" language-c"><code class="language-c">dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></code></pre></li><li><p>由于每种菜只有一份，那么这是一道01背包问题</p></li><li><p>所以转移方程：</p></li><li><pre class=" language-c"><code class="language-c">dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> dp<span class="token punctuation">[</span>j <span class="token operator">-</span> a<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre></li></ul><h4 id="代码演示-11"><a href="#代码演示-11" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> w <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">></span> <span class="token string">'9'</span> <span class="token operator">||</span> ch <span class="token operator">&lt;</span> <span class="token string">'0'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        w <span class="token operator">|</span><span class="token operator">=</span> ch <span class="token operator">==</span> <span class="token string">'-'</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">>=</span> <span class="token string">'0'</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">&lt;=</span> <span class="token string">'9'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        x <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>ch <span class="token operator">^</span> <span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token punctuation">}</span>    <span class="token keyword">return</span> w <span class="token operator">?</span> <span class="token operator">-</span>x <span class="token punctuation">:</span> x<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token macro property">#<span class="token directive keyword">define</span> MAX_M 10000</span><span class="token keyword">int</span> dp<span class="token punctuation">[</span>MAX_M<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 条件初始化</span>    n <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> m <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        a <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> m<span class="token punctuation">;</span> j <span class="token operator">>=</span> a<span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> dp<span class="token punctuation">[</span>j <span class="token operator">-</span> a<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// 转移方程</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="P2722-USACO3-1-总分-Score-Inflation"><a href="#P2722-USACO3-1-总分-Score-Inflation" class="headerlink" title="P2722 [USACO3.1]总分 Score Inflation"></a>P2722 [USACO3.1]总分 Score Inflation</h3><h4 id="思路-11"><a href="#思路-11" class="headerlink" title="思路"></a>思路</h4><ul><li>完全背包直接套用</li></ul><h4 id="代码演示-12"><a href="#代码演示-12" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">//完全背包</span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> w <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">></span> <span class="token string">'9'</span> <span class="token operator">||</span> ch <span class="token operator">&lt;</span> <span class="token string">'0'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        w <span class="token operator">|</span><span class="token operator">=</span> ch <span class="token operator">==</span> <span class="token string">'-'</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">>=</span> <span class="token string">'0'</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">&lt;=</span> <span class="token string">'9'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        x <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>ch <span class="token operator">^</span> <span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token punctuation">}</span>    <span class="token keyword">return</span> w <span class="token operator">?</span> <span class="token operator">-</span>x <span class="token punctuation">:</span> x<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token macro property">#<span class="token directive keyword">define</span> max(a, b) ((a) > (b) ? (a) : (b))</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">;</span><span class="token keyword">int</span> dp<span class="token punctuation">[</span><span class="token number">10000</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    m <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> n <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> t<span class="token punctuation">,</span> p<span class="token punctuation">,</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        p <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> t <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> t<span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>j <span class="token operator">-</span> t<span class="token punctuation">]</span> <span class="token operator">+</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> </code></pre><h3 id="P2925-USACO08DEC-Hay-For-Sale-S"><a href="#P2925-USACO08DEC-Hay-For-Sale-S" class="headerlink" title="P2925 [USACO08DEC]Hay For Sale S"></a>P2925 [USACO08DEC]Hay For Sale S</h3><h4 id="思路-12"><a href="#思路-12" class="headerlink" title="思路"></a>思路</h4><ul><li>01背包</li></ul><h4 id="代码演示-13"><a href="#代码演示-13" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> w <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">></span> <span class="token string">'9'</span> <span class="token operator">||</span> ch <span class="token operator">&lt;</span> <span class="token string">'0'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        w <span class="token operator">|</span><span class="token operator">=</span> ch <span class="token operator">==</span> <span class="token string">'-'</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">>=</span> <span class="token string">'0'</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">&lt;=</span> <span class="token string">'9'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        x <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>ch <span class="token operator">^</span> <span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token punctuation">}</span>    <span class="token keyword">return</span> w <span class="token operator">?</span> <span class="token operator">-</span>x <span class="token punctuation">:</span> x<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> dp<span class="token punctuation">[</span><span class="token number">50004</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> V<span class="token punctuation">,</span> n<span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">define</span> max(a, b) ({\    (a) > (b) ? (a) : (b);\})</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    V <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> n <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">,</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        v <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> V<span class="token punctuation">;</span> j <span class="token operator">>=</span> v<span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>j <span class="token operator">-</span> v<span class="token punctuation">]</span> <span class="token operator">+</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>dp<span class="token punctuation">[</span>V<span class="token punctuation">]</span> <span class="token operator">==</span> V<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//最多只能装V体积干草 </span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> V<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>V<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span> </code></pre><h3 id="P1757-通天之分组背包"><a href="#P1757-通天之分组背包" class="headerlink" title="P1757 通天之分组背包"></a>P1757 通天之分组背包</h3><h4 id="思路-13"><a href="#思路-13" class="headerlink" title="思路"></a>思路</h4><ul><li>看注释</li><li>01背包</li></ul><h4 id="代码演示-14"><a href="#代码演示-14" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> w <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">></span> <span class="token string">'9'</span> <span class="token operator">||</span> ch <span class="token operator">&lt;</span> <span class="token string">'0'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        w <span class="token operator">|</span><span class="token operator">=</span> ch <span class="token operator">==</span> <span class="token string">'-'</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">>=</span> <span class="token string">'0'</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">&lt;=</span> <span class="token string">'9'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        x <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>ch <span class="token operator">^</span> <span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token punctuation">}</span>    <span class="token keyword">return</span> w <span class="token operator">?</span> <span class="token operator">-</span>x <span class="token punctuation">:</span> x<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token macro property">#<span class="token directive keyword">define</span> max(a, b) ({\    (a) > (b) ? (a) : (b);\})</span><span class="token macro property">#<span class="token directive keyword">define</span> MAX_N 1001</span><span class="token keyword">struct</span> Node <span class="token punctuation">{</span>    <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>vector <span class="token operator">&lt;</span>vector <span class="token operator">&lt;</span>Node<span class="token operator">></span> <span class="token operator">></span> <span class="token function">num</span><span class="token punctuation">(</span>MAX_N<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>Node<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 建立邻接表 </span><span class="token keyword">int</span> dp<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">;</span>    m <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> n <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">;</span>        a <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        num<span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">{</span>a<span class="token punctuation">,</span> b<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> MAX_N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 遍历所有组 </span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>num<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">/* 注意第二重与第三重循环顺序不能反，            顺序反了不能保证每组物品只放有一个；           该顺序可以保证在体积为j的情况下，           遍历该组所有物品，更新得到最大价值        */</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> m<span class="token punctuation">;</span> j<span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>             <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//遍历该组所有物品 </span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">>=</span> num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span> dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>j <span class="token operator">-</span> num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">.</span>a<span class="token punctuation">]</span> <span class="token operator">+</span> num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">.</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span> </code></pre><h3 id="P1616-疯狂的采药"><a href="#P1616-疯狂的采药" class="headerlink" title="P1616 疯狂的采药"></a>P1616 疯狂的采药</h3><h4 id="思路-14"><a href="#思路-14" class="headerlink" title="思路"></a>思路</h4><ul><li>多重背包</li></ul><h4 id="代码演示-15"><a href="#代码演示-15" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> w <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">></span> <span class="token string">'9'</span> <span class="token operator">||</span> ch <span class="token operator">&lt;</span> <span class="token string">'0'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        w <span class="token operator">|</span><span class="token operator">=</span> ch <span class="token operator">==</span> <span class="token string">'-'</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">>=</span> <span class="token string">'0'</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">&lt;=</span> <span class="token string">'9'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        x <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>ch <span class="token operator">^</span> <span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token punctuation">}</span>    <span class="token keyword">return</span> w <span class="token operator">?</span> <span class="token operator">-</span>x <span class="token punctuation">:</span> x<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token macro property">#<span class="token directive keyword">define</span> max(a, b) ({\    (a) > (b) ? (a) : (b);\})</span><span class="token macro property">#<span class="token directive keyword">define</span> MAX_T 10000007</span><span class="token keyword">long</span> <span class="token keyword">long</span> dp<span class="token punctuation">[</span>MAX_T<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> t<span class="token punctuation">,</span> m<span class="token punctuation">;</span>    t <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> m <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">;</span>        a <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> a<span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> t<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>j <span class="token operator">-</span> a<span class="token punctuation">]</span> <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%lld\n"</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span> </code></pre><h3 id="P2871-USACO07DEC-Charm-Bracelet-S"><a href="#P2871-USACO07DEC-Charm-Bracelet-S" class="headerlink" title="P2871 [USACO07DEC]Charm Bracelet S"></a>P2871 [USACO07DEC]Charm Bracelet S</h3><h4 id="思路-15"><a href="#思路-15" class="headerlink" title="思路"></a>思路</h4><ul><li>01背包</li></ul><h4 id="代码演示-16"><a href="#代码演示-16" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> w <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">></span> <span class="token string">'9'</span> <span class="token operator">||</span> ch <span class="token operator">&lt;</span> <span class="token string">'0'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        w <span class="token operator">|</span><span class="token operator">=</span> ch <span class="token operator">==</span> <span class="token string">'-'</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">>=</span> <span class="token string">'0'</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">&lt;=</span> <span class="token string">'9'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        x <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>ch <span class="token operator">^</span> <span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> w <span class="token operator">?</span> <span class="token operator">-</span>x <span class="token punctuation">:</span> x<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token macro property">#<span class="token directive keyword">define</span> max(a, b) ({\    (a) > (b) ? (a) : (b);\})</span><span class="token keyword">int</span> dp<span class="token punctuation">[</span><span class="token number">100004</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> V<span class="token punctuation">,</span> n<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    n <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> V <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v<span class="token punctuation">,</span> w<span class="token punctuation">,</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        v <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> w <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> V<span class="token punctuation">;</span> j <span class="token operator">>=</span> v<span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>j <span class="token operator">-</span> v<span class="token punctuation">]</span> <span class="token operator">+</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>V<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span> </code></pre><h3 id="P2392-kkksc03考前临时抱佛脚"><a href="#P2392-kkksc03考前临时抱佛脚" class="headerlink" title="P2392 kkksc03考前临时抱佛脚"></a>P2392 kkksc03考前临时抱佛脚</h3><h4 id="思路-16"><a href="#思路-16" class="headerlink" title="思路"></a>思路</h4><ul><li><p>首选01背包</p></li><li><p>左右大脑同时计算，仅限于同一科，那么可以初始化4个01背包数组</p></li><li><pre class=" language-c"><code class="language-c">dp<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">5000</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre></li><li><p>对于题目要求时间最少，那么对于左右大脑，这两个大脑消耗的时间尽可能趋近于该科目消耗的时间总和<strong>sum</strong>的一半</p></li><li><p>那么我们可以计算当背包容量为<strong>sum &gt;&gt; 1</strong>时，所装入的最大价值（消耗时间），其中</p></li><li><pre class=" language-c"><code class="language-c">dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>sum <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span> sum <span class="token operator">-</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>sum<span class="token punctuation">]</span><span class="token punctuation">;</span>i为第几科目</code></pre></li><li><p>那么转移方程为：</p></li><li><pre class=" language-c"><code class="language-c">dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> s<span class="token punctuation">]</span> <span class="token operator">+</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ul><h4 id="代码演示-17"><a href="#代码演示-17" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> w <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">></span> <span class="token string">'9'</span> <span class="token operator">||</span> ch <span class="token operator">&lt;</span> <span class="token string">'0'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        w <span class="token operator">|</span><span class="token operator">=</span> ch <span class="token operator">==</span> <span class="token string">'-'</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">>=</span> <span class="token string">'0'</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">&lt;=</span> <span class="token string">'9'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        x <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>ch <span class="token operator">^</span> <span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> w <span class="token operator">?</span> <span class="token operator">-</span>x <span class="token punctuation">:</span> x<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token macro property">#<span class="token directive keyword">define</span> max(a, b) ({\    (a) > (b) ? (a) : (b);\})</span><span class="token keyword">int</span> s<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">21</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> dp<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">5000</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//四个科目相互独立。所以利用四个01背包 </span><span class="token keyword">int</span> ans<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> S<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        S<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token punctuation">}</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> S<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            sum <span class="token operator">+</span><span class="token operator">=</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> k <span class="token operator">&lt;=</span> S<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> sum <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">>=</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        ans <span class="token operator">+</span><span class="token operator">=</span> sum <span class="token operator">-</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>sum <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// dp[i][sum >> 1] &lt;= sum - dp[i][sum >> 1]</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> ans<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="P1855-榨取kkksc03"><a href="#P1855-榨取kkksc03" class="headerlink" title="P1855 榨取kkksc03"></a>P1855 榨取kkksc03</h3><h4 id="思路-17"><a href="#思路-17" class="headerlink" title="思路"></a>思路</h4><ul><li>二维背包，自己看上面的题目</li></ul><h4 id="代码演示-18"><a href="#代码演示-18" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> w <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">></span> <span class="token string">'9'</span> <span class="token operator">||</span> ch <span class="token operator">&lt;</span> <span class="token string">'0'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        w <span class="token operator">|</span><span class="token operator">=</span> ch <span class="token operator">==</span> <span class="token string">'-'</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">>=</span> <span class="token string">'0'</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">&lt;=</span> <span class="token string">'9'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        x <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>ch <span class="token operator">^</span> <span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> w <span class="token operator">?</span> <span class="token operator">-</span>x <span class="token punctuation">:</span> x<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token macro property">#<span class="token directive keyword">define</span> max(a, b) ({\    (a) > (b) ? (a) : (b);\})</span><span class="token keyword">int</span> dp<span class="token punctuation">[</span><span class="token number">205</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">205</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">,</span> M<span class="token punctuation">,</span> T<span class="token punctuation">;</span>    n <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> M <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> T <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> m<span class="token punctuation">,</span> t<span class="token punctuation">;</span>        m <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> t <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> tt <span class="token operator">=</span> T<span class="token punctuation">;</span> tt <span class="token operator">>=</span> t<span class="token punctuation">;</span> tt<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> mm <span class="token operator">=</span> M<span class="token punctuation">;</span> mm <span class="token operator">>=</span> m<span class="token punctuation">;</span> mm<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                dp<span class="token punctuation">[</span>tt<span class="token punctuation">]</span><span class="token punctuation">[</span>mm<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>tt<span class="token punctuation">]</span><span class="token punctuation">[</span>mm<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>tt <span class="token operator">-</span> t<span class="token punctuation">]</span><span class="token punctuation">[</span>mm <span class="token operator">-</span> m<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>T<span class="token punctuation">]</span><span class="token punctuation">[</span>M<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span> </code></pre><h3 id="P1510-精卫填海"><a href="#P1510-精卫填海" class="headerlink" title="P1510 精卫填海"></a>P1510 精卫填海</h3><h4 id="思路-18"><a href="#思路-18" class="headerlink" title="思路"></a>思路</h4><ul><li>01背包</li></ul><h4 id="代码演示-19"><a href="#代码演示-19" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> w <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">></span> <span class="token string">'9'</span> <span class="token operator">||</span> ch <span class="token operator">&lt;</span> <span class="token string">'0'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        w <span class="token operator">|</span><span class="token operator">=</span> ch <span class="token operator">==</span> <span class="token string">'-'</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">>=</span> <span class="token string">'0'</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">&lt;=</span> <span class="token string">'9'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        x <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>ch <span class="token operator">^</span> <span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> w <span class="token operator">?</span> <span class="token operator">-</span>x <span class="token punctuation">:</span> x<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token macro property">#<span class="token directive keyword">define</span> max(a, b) ({\    (a) > (b) ? (a) : (b);\})</span><span class="token keyword">int</span> dp<span class="token punctuation">[</span><span class="token number">10005</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> v<span class="token punctuation">,</span> n<span class="token punctuation">,</span> c<span class="token punctuation">;</span>    v <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> n <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> k<span class="token punctuation">,</span> m<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        k <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> m <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> c<span class="token punctuation">;</span> j <span class="token operator">>=</span> m<span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>j <span class="token operator">-</span> m<span class="token punctuation">]</span> <span class="token operator">+</span> k<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> c<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//得出全部答案遍历答案得出最大值</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">>=</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> c <span class="token operator">-</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Impossible\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="P1877-HAOI2012-音量调节"><a href="#P1877-HAOI2012-音量调节" class="headerlink" title="P1877 [HAOI2012]音量调节"></a>P1877 [HAOI2012]音量调节</h3><h4 id="思路-19"><a href="#思路-19" class="headerlink" title="思路"></a>思路</h4><ul><li>不能进行空间优化的01背包，至少我目前不会，看代码</li><li>对于每一首歌，在那个音量的范围内，我们可以利用前一首歌改变的音量标记当前这首歌能达到的音量</li><li>最后从大到小遍历标记过的音量，进行输出，如果没有标记则输出-1</li></ul><h4 id="代码演示-20"><a href="#代码演示-20" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> w <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">></span> <span class="token string">'9'</span> <span class="token operator">||</span> ch <span class="token operator">&lt;</span> <span class="token string">'0'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        w <span class="token operator">|</span><span class="token operator">=</span> ch <span class="token operator">==</span> <span class="token string">'-'</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">>=</span> <span class="token string">'0'</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">&lt;=</span> <span class="token string">'9'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        x <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>ch <span class="token operator">^</span> <span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> w <span class="token operator">?</span> <span class="token operator">-</span>x <span class="token punctuation">:</span> x<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token macro property">#<span class="token directive keyword">define</span> max(a, b) ({\    (a) > (b) ? (a) : (b);\})</span><span class="token keyword">int</span> dp<span class="token punctuation">[</span><span class="token number">51</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1004</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">,</span> bl<span class="token punctuation">,</span> ml<span class="token punctuation">;</span>    n <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> bl <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ml <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>bl<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        a <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> ml<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">>=</span> a<span class="token punctuation">)</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> a<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">+</span> a <span class="token operator">&lt;=</span> ml<span class="token punctuation">)</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">+</span> a<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> ml<span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>dp<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"-1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 洛谷刷题 </tag>
            
            <tag> 动态规划 </tag>
            
            <tag> 背包问题 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>高效使用云主机</title>
      <link href="posts/1312.html"/>
      <url>posts/1312.html</url>
      
        <content type="html"><![CDATA[<h2 id="免密登录"><a href="#免密登录" class="headerlink" title="免密登录"></a>免密登录</h2><h3 id="用户user1与user2进行免密登录"><a href="#用户user1与user2进行免密登录" class="headerlink" title="用户user1与user2进行免密登录"></a>用户user1与user2进行免密登录</h3><p><strong>不提倡root用户与普通用户间进行免密登录</strong></p><h4 id="1、在user1家目录生成密钥（有密钥的直接跳过这步）"><a href="#1、在user1家目录生成密钥（有密钥的直接跳过这步）" class="headerlink" title="1、在user1家目录生成密钥（有密钥的直接跳过这步）"></a>1、在user1家目录生成密钥（有密钥的直接跳过这步）</h4><ul><li>ssh-keygen</li><li>一路回车就好</li></ul><h4 id="2、将用户的user1（最新）公钥id-rsa-pub保存到用户user2的authorized-keys"><a href="#2、将用户的user1（最新）公钥id-rsa-pub保存到用户user2的authorized-keys" class="headerlink" title="2、将用户的user1（最新）公钥id_rsa.pub保存到用户user2的authorized_keys"></a>2、将用户的user1（最新）公钥id_rsa.pub保存到用户user2的authorized_keys</h4><p><strong>方法1</strong></p><ul><li><p>在用户user1利用命令</p></li><li><pre class=" language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 进入文件.ssh</span><span class="token function">cd</span> .ssh/<span class="token comment" spellcheck="true"># 打印公钥id_rsa.pub</span><span class="token function">cat</span> id_ras.pub</code></pre></li><li><p>复制公钥id_rsa.pub</p></li><li><p>登录到用户user2</p></li><li><p>利用命令</p></li><li><pre class=" language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 进入文件.ssh</span><span class="token function">cd</span> .ssh/<span class="token comment" spellcheck="true"># 打开文件authorized_keys</span>vim authorized_keys</code></pre></li><li><p>粘贴公钥id_rsa.pub到authorized_keys，保存退出</p></li><li><p>大工告成！！！</p></li></ul><p><strong>方法2</strong></p><ul><li><p>在用户user1进行操作</p></li><li><pre class=" language-bash"><code class="language-bash">ssh-copy_id user2@主机号</code></pre></li><li><p>大功告成！！！</p></li></ul><h3 id="用户别名登录"><a href="#用户别名登录" class="headerlink" title="用户别名登录"></a>用户别名登录</h3><p><strong>注意：win环境不能进行这个操作</strong></p><h4 id="alias命令使用"><a href="#alias命令使用" class="headerlink" title="alias命令使用"></a><strong>alias命令使用</strong></h4><p><strong>将名字a323cas改成bas</strong> </p><ul><li><pre class=" language-bash"><code class="language-bash"><span class="token function">alias</span> bas<span class="token operator">=</span><span class="token string">'a323cas'</span></code></pre></li></ul><h4 id="zshrc文件操作"><a href="#zshrc文件操作" class="headerlink" title=".zshrc文件操作"></a><strong>.zshrc文件操作</strong></h4><ul><li><pre class=" language-bash"><code class="language-bash">vim .zshrc<span class="token comment" spellcheck="true"># 打开文件.zshrc</span></code></pre></li><li><p>在文件末尾加入</p></li><li><pre class=" language-bash"><code class="language-bash"><span class="token function">alias</span> u1<span class="token operator">=</span><span class="token string">'ssh user1@主机号'</span></code></pre></li><li><p>保存退出</p></li><li><p>以后就可以利用u1登录云主机了（进行过免密登录）</p></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 云主机 </tag>
            
            <tag> liunx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>力扣题解300.最长递增子序列</title>
      <link href="posts/bab9.html"/>
      <url>posts/bab9.html</url>
      
        <content type="html"><![CDATA[<h3 id="思路看注释"><a href="#思路看注释" class="headerlink" title="思路看注释"></a>思路看注释</h3><h3 id="O（n-2）"><a href="#O（n-2）" class="headerlink" title="O（n ^ 2）"></a>O（n ^ 2）</h3><pre class=" language-c"><code class="language-c">class Solution <span class="token punctuation">{</span>public<span class="token punctuation">:</span>    <span class="token keyword">int</span> <span class="token function">lengthOfLIS</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> dp<span class="token punctuation">[</span>nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// dp[i] 表示到达第i个数字的最长递增子序列长度</span>        <span class="token keyword">int</span> ma <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//全局答案</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//数组初始化</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token punctuation">)</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 状态转移</span>            <span class="token punctuation">}</span>            ma <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>ma<span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 全局答案更新</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> ma<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h3 id="O（nlogn）"><a href="#O（nlogn）" class="headerlink" title="O（nlogn）"></a>O（nlogn）</h3><pre class=" language-c"><code class="language-c">class Solution <span class="token punctuation">{</span>public<span class="token punctuation">:</span>        <span class="token keyword">int</span> <span class="token function">lengthOfLIS</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">int</span> ans<span class="token punctuation">[</span>nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//把递增子序列存储在ans, 一个有序的数组</span>        <span class="token keyword">int</span> t <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//t表示元素数量，也就是答案</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">&amp;&amp;</span> ans<span class="token punctuation">[</span>t <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">>=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token comment" spellcheck="true">// 二分答案 00000111111类型</span>                <span class="token keyword">int</span> l <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> r <span class="token operator">=</span> t <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>                <span class="token keyword">while</span> <span class="token punctuation">(</span>l <span class="token operator">&lt;</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>l <span class="token operator">+</span> r<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>ans<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&lt;</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> l <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>                    <span class="token keyword">else</span> r <span class="token operator">=</span> mid<span class="token punctuation">;</span>                <span class="token punctuation">}</span>                ans<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span> ans<span class="token punctuation">[</span>t<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> t<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 力扣题解 </tag>
            
            <tag> 动态规划 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>力扣题解198.打家劫舍</title>
      <link href="posts/a5b9.html"/>
      <url>posts/a5b9.html</url>
      
        <content type="html"><![CDATA[<h3 id="思路都在注释"><a href="#思路都在注释" class="headerlink" title="思路都在注释"></a>思路都在注释</h3><h3 id="自己写的"><a href="#自己写的" class="headerlink" title="自己写的"></a>自己写的</h3><pre class=" language-c"><code class="language-c">class Solution <span class="token punctuation">{</span>public<span class="token punctuation">:</span>    <span class="token keyword">int</span> <span class="token function">rob</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">max</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//dp[i]：表示偷到第i家人的最大金额   </span>        <span class="token keyword">int</span> dp<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>         <span class="token function">memset</span><span class="token punctuation">(</span>dp<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>dp<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//数组初始化</span>        dp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> nums<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//边界初始化</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">// dp[i - 1]：表示不偷</span>            <span class="token comment" spellcheck="true">// 偷到第i家人，有两种情况：</span>            <span class="token comment" spellcheck="true">// 1、偷之后dp[i] = nums[i] + dp[i - 2]，</span>            <span class="token comment" spellcheck="true">// 2、不偷之后dp[i] = dp[i - 1]</span>            dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> dp<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 状态定义</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> dp<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><h4 id="简化版"><a href="#简化版" class="headerlink" title="简化版"></a>简化版</h4><pre class=" language-c"><code class="language-c">class Solution <span class="token punctuation">{</span>public<span class="token punctuation">:</span>    <span class="token keyword">int</span> <span class="token function">rob</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&amp;</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>        vector <span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">dp</span><span class="token punctuation">(</span>nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         dp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>         <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            dp<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> dp<span class="token punctuation">[</span>nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 力扣题解 </tag>
            
            <tag> 动态规划 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>洛谷P1144最短路计数</title>
      <link href="posts/bbc9.html"/>
      <url>posts/bbc9.html</url>
      
        <content type="html"><![CDATA[<h4 id="Dijkstra解法"><a href="#Dijkstra解法" class="headerlink" title="Dijkstra解法"></a>Dijkstra解法</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;queue></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> w <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">></span> <span class="token string">'9'</span> <span class="token operator">||</span> ch <span class="token operator">&lt;</span> <span class="token string">'0'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        w <span class="token operator">|</span><span class="token operator">=</span> ch <span class="token operator">==</span> <span class="token string">'-'</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">>=</span> <span class="token string">'0'</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">&lt;=</span> <span class="token string">'9'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        x <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>ch <span class="token operator">^</span> <span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> w <span class="token operator">?</span> <span class="token operator">-</span>x <span class="token punctuation">:</span> x<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token macro property">#<span class="token directive keyword">define</span> MAX_N 1000005</span><span class="token macro property">#<span class="token directive keyword">define</span> MAX_M 2000005</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">;</span><span class="token keyword">int</span> cnt_dis<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">,</span> dis<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">int</span> head<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">,</span> to<span class="token punctuation">[</span>MAX_M <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ne<span class="token punctuation">[</span>MAX_M <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> cnt_edge<span class="token punctuation">;</span><span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">add_edge</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    to<span class="token punctuation">[</span><span class="token operator">++</span>cnt_edge<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">;</span>    ne<span class="token punctuation">[</span>cnt_edge<span class="token punctuation">]</span> <span class="token operator">=</span> head<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">;</span>    head<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">=</span> cnt_edge<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">struct</span> Node <span class="token punctuation">{</span>    <span class="token keyword">int</span> e<span class="token punctuation">,</span> dis<span class="token punctuation">;</span>    bool operator<span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token keyword">const</span> Node<span class="token operator">&amp;</span> a<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> dis <span class="token operator">></span> a<span class="token punctuation">.</span>dis<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> mod <span class="token operator">=</span> <span class="token number">100003</span><span class="token punctuation">;</span><span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token keyword">int</span> u<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">memset</span><span class="token punctuation">(</span>dis<span class="token punctuation">,</span> <span class="token number">0x3f</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>dis<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    priority_queue <span class="token operator">&lt;</span>Node<span class="token operator">></span> q<span class="token punctuation">;</span>    q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">{</span>u<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cnt_dis<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    dis<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        Node tp <span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>dis<span class="token punctuation">[</span>tp<span class="token punctuation">.</span>e<span class="token punctuation">]</span> <span class="token operator">&lt;</span> tp<span class="token punctuation">.</span>dis<span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> head<span class="token punctuation">[</span>tp<span class="token punctuation">.</span>e<span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token punctuation">;</span> i <span class="token operator">=</span> ne<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>dis<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> tp<span class="token punctuation">.</span>dis <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>dis<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">==</span> tp<span class="token punctuation">.</span>dis <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                cnt_dis<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> cnt_dis<span class="token punctuation">[</span>tp<span class="token punctuation">.</span>e<span class="token punctuation">]</span><span class="token punctuation">;</span>                cnt_dis<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">%</span><span class="token operator">=</span> mod<span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                dis<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> tp<span class="token punctuation">.</span>dis <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>                cnt_dis<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> cnt_dis<span class="token punctuation">[</span>tp<span class="token punctuation">.</span>e<span class="token punctuation">]</span><span class="token punctuation">;</span>                q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">{</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> dis<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>                    <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    n <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> m <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">;</span>        a <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">add_edge</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">add_edge</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">func</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> cnt_dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="SPFA解法"><a href="#SPFA解法" class="headerlink" title="SPFA解法"></a>SPFA解法</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> w <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">></span> <span class="token string">'9'</span> <span class="token operator">||</span> ch <span class="token operator">&lt;</span> <span class="token string">'0'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        w <span class="token operator">|</span><span class="token operator">=</span> ch <span class="token operator">==</span> <span class="token string">'-'</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">>=</span> <span class="token string">'0'</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">&lt;=</span> <span class="token string">'9'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        x <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>ch <span class="token operator">^</span> <span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> w <span class="token operator">?</span> <span class="token operator">-</span>x <span class="token punctuation">:</span> x<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token macro property">#<span class="token directive keyword">define</span> MAX_N 1000005</span><span class="token macro property">#<span class="token directive keyword">define</span> MAX_M 2000005</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">;</span><span class="token keyword">int</span> cnt_dis<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">,</span> dis<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">int</span> head<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">,</span> to<span class="token punctuation">[</span>MAX_M <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ne<span class="token punctuation">[</span>MAX_M <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> cnt_edge<span class="token punctuation">;</span><span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">add_edge</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    to<span class="token punctuation">[</span><span class="token operator">++</span>cnt_edge<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">;</span>    ne<span class="token punctuation">[</span>cnt_edge<span class="token punctuation">]</span> <span class="token operator">=</span> head<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">;</span>    head<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">=</span> cnt_edge<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">const</span> <span class="token keyword">int</span> mod <span class="token operator">=</span> <span class="token number">100003</span><span class="token punctuation">;</span><span class="token keyword">int</span> q<span class="token punctuation">[</span>MAX_M<span class="token punctuation">]</span><span class="token punctuation">,</span> vis<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">,</span> l<span class="token punctuation">,</span> r<span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span><span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">SPFA</span><span class="token punctuation">(</span><span class="token keyword">int</span> u<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">memset</span><span class="token punctuation">(</span>dis<span class="token punctuation">,</span> <span class="token number">0x3f</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>dis<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    q<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> u<span class="token punctuation">;</span>    vis<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    dis<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    r <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    cnt_dis<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>l <span class="token operator">&lt;</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> tp <span class="token operator">=</span> q<span class="token punctuation">[</span>l<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        vis<span class="token punctuation">[</span>tp<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> head<span class="token punctuation">[</span>tp<span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token punctuation">;</span> i <span class="token operator">=</span> ne<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>dis<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> dis<span class="token punctuation">[</span>tp<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>dis<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">==</span> dis<span class="token punctuation">[</span>tp<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                cnt_dis<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> cnt_dis<span class="token punctuation">[</span>tp<span class="token punctuation">]</span><span class="token punctuation">;</span>                cnt_dis<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">%</span><span class="token operator">=</span> mod<span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                dis<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> dis<span class="token punctuation">[</span>tp<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>                cnt_dis<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> cnt_dis<span class="token punctuation">[</span>tp<span class="token punctuation">]</span><span class="token punctuation">;</span>                q<span class="token punctuation">[</span>r<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>                vis<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    n <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> m <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">;</span>        a <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">add_edge</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">add_edge</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">SPFA</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> cnt_dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> SPFA </tag>
            
            <tag> 最短路 </tag>
            
            <tag> Dijkstra </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>洛谷P1265公路修建-Prim优先队列</title>
      <link href="posts/843.html"/>
      <url>posts/843.html</url>
      
        <content type="html"><![CDATA[<h4 id="朴素Prim"><a href="#朴素Prim" class="headerlink" title="朴素Prim"></a>朴素Prim</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">//法二：朴素版</span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;queue></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cmath></span></span>using namespace std<span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">define</span> min(a, b) ({\    (a) > (b) ? (b) : (a);\})</span><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> w <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">></span> <span class="token string">'9'</span> <span class="token operator">||</span> ch <span class="token operator">&lt;</span> <span class="token string">'0'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        w <span class="token operator">|</span><span class="token operator">=</span> ch <span class="token operator">==</span> <span class="token string">'-'</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">>=</span> <span class="token string">'0'</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">&lt;=</span> <span class="token string">'9'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        x <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>ch <span class="token operator">^</span> <span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token keyword">return</span> w <span class="token operator">?</span> <span class="token operator">-</span>x <span class="token punctuation">:</span> x<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token macro property">#<span class="token directive keyword">define</span> MAX_N 5001</span><span class="token keyword">struct</span> point <span class="token punctuation">{</span>    <span class="token keyword">int</span> x<span class="token punctuation">,</span> y<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">struct</span> Node <span class="token punctuation">{</span>    <span class="token keyword">int</span> to<span class="token punctuation">;</span>    <span class="token keyword">double</span> v<span class="token punctuation">;</span>    bool operator<span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token keyword">const</span> Node <span class="token operator">&amp;</span>a<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> this<span class="token operator">-></span>v <span class="token operator">></span> a<span class="token punctuation">.</span>v<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>point num<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">;</span><span class="token keyword">int</span> vis<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">double</span> dis<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// dis[i]记录联通i点的最短边 </span><span class="token keyword">double</span> <span class="token function">d</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token function">pow</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">-</span> num<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">pow</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">.</span>y <span class="token operator">-</span> num<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token macro property">#<span class="token directive keyword">define</span> INF 9e15</span><span class="token keyword">inline</span> <span class="token keyword">double</span> <span class="token function">Prim</span><span class="token punctuation">(</span><span class="token keyword">int</span> u<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">double</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    dis<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> k <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">double</span> mi <span class="token operator">=</span> INF<span class="token punctuation">;</span>        <span class="token keyword">int</span> pos <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>vis<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> mi<span class="token punctuation">)</span> <span class="token punctuation">{</span>                mi <span class="token operator">=</span> dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>                pos <span class="token operator">=</span> i<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        vis<span class="token punctuation">[</span>pos<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        sum <span class="token operator">+</span><span class="token operator">=</span> mi<span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token function">d</span><span class="token punctuation">(</span>pos<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> sum<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    n <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> INF<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">double</span> sum <span class="token operator">=</span> <span class="token function">Prim</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%.2lf\n"</span><span class="token punctuation">,</span> sum<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="优先队列Prim"><a href="#优先队列Prim" class="headerlink" title="优先队列Prim"></a>优先队列Prim</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;queue></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cmath></span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> w <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">></span> <span class="token string">'9'</span> <span class="token operator">||</span> ch <span class="token operator">&lt;</span> <span class="token string">'0'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        w <span class="token operator">|</span><span class="token operator">=</span> ch <span class="token operator">==</span> <span class="token string">'-'</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">>=</span> <span class="token string">'0'</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">&lt;=</span> <span class="token string">'9'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        x <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>ch <span class="token operator">^</span> <span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token keyword">return</span> w <span class="token operator">?</span> <span class="token operator">-</span>x <span class="token punctuation">:</span> x<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token macro property">#<span class="token directive keyword">define</span> MAX_N 5001</span><span class="token keyword">struct</span> point <span class="token punctuation">{</span>    <span class="token keyword">int</span> x<span class="token punctuation">,</span> y<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">struct</span> Node <span class="token punctuation">{</span>    <span class="token keyword">int</span> to<span class="token punctuation">;</span>    <span class="token keyword">double</span> v<span class="token punctuation">;</span>    bool operator<span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token keyword">const</span> Node <span class="token operator">&amp;</span>a<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> this<span class="token operator">-></span>v <span class="token operator">></span> a<span class="token punctuation">.</span>v<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>point num<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">double</span> dis<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">;</span><span class="token keyword">int</span> vis<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">double</span> s<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//s[i]记录联通i点的最短边 </span><span class="token keyword">inline</span> <span class="token keyword">double</span> <span class="token function">Prim</span><span class="token punctuation">(</span><span class="token keyword">int</span> u<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">double</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    priority_queue <span class="token operator">&lt;</span>Node<span class="token operator">></span> q<span class="token punctuation">;</span>    q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">{</span>u<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> cnt <span class="token operator">&lt;</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>        Node tp <span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>vis<span class="token punctuation">[</span>tp<span class="token punctuation">.</span>to<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>        vis<span class="token punctuation">[</span>tp<span class="token punctuation">.</span>to<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        sum <span class="token operator">+</span><span class="token operator">=</span> tp<span class="token punctuation">.</span>v<span class="token punctuation">;</span>        cnt<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>vis<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">||</span> i <span class="token operator">==</span> tp<span class="token punctuation">.</span>to<span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>            <span class="token keyword">long</span> <span class="token keyword">long</span> dx <span class="token operator">=</span> num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">-</span> num<span class="token punctuation">[</span>tp<span class="token punctuation">.</span>to<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">;</span>            <span class="token keyword">long</span> <span class="token keyword">long</span> dy <span class="token operator">=</span> num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>y <span class="token operator">-</span> num<span class="token punctuation">[</span>tp<span class="token punctuation">.</span>to<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">;</span>            <span class="token keyword">double</span> ss <span class="token operator">=</span> <span class="token function">sqrt</span><span class="token punctuation">(</span>dx <span class="token operator">*</span> dx <span class="token operator">+</span> dy <span class="token operator">*</span> dy<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> ss<span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>            s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> ss<span class="token punctuation">;</span>            q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">{</span>i<span class="token punctuation">,</span> ss<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> sum<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    n <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">9999999999999999</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">double</span> sum <span class="token operator">=</span> <span class="token function">Prim</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%.2lf\n"</span><span class="token punctuation">,</span> sum<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 图论 </tag>
            
            <tag> Prim算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>排序-拓扑排序</title>
      <link href="posts/8dc0.html"/>
      <url>posts/8dc0.html</url>
      
        <content type="html"><![CDATA[<h3 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h3><h4 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h4><p> 一个不同的值的升序排序数列指的是一个从左到右元素依次增大的序列，例如，一个有序的数列 A,B,C,DA,B,C,D 表示 A&lt;B,B&lt;C,C&lt;DA&lt;B,B&lt;C,C&lt;D。在这道题中，我们将给你一系列形如 A&lt;BA&lt;B 的关系，并要求你判断是否能够根据这些关系确定这个数列的顺序。</p><hr><h4 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h4><p> 第一行有两个整数 n,m。n 表示需要排序的元素数量，第 1 到 n 个元素将用大写的 A,B,C,D….表示。m 表示将给出的形如 A&lt;B 的关系的数量。</p><p> 接下来有 m 行，每行有 3 个字符，分别为一个大写字母，一个 &lt; 符号，一个大写字母，表示两个元素之间的关系。</p><h4 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h4><p> 若根据前 x 个关系即可确定这 n 个元素的顺序 yyy..yyyy..y（如ABC），输出</p><p> Sorted sequence determined after xxx relations: yyy…y.</p><p> 若根据前 x 个关系即发现存在矛盾（如 A&lt;B,B&lt;C,C&lt;A），输出</p><p> Inconsistency found after xxx relations.</p><p> 若根据这 m 个关系无法确定这 n 个元素的顺序，输出</p><p> Sorted sequence cannot be determined.</p><p> （提示：确定 n 个元素的顺序后即可结束程序，可以不用考虑确定顺序之后出现矛盾的情况）</p><hr><h4 id="样例输入"><a href="#样例输入" class="headerlink" title="样例输入"></a>样例输入</h4><pre><code>4 6A&lt;BA&lt;CB&lt;CC&lt;DB&lt;DA&lt;B</code></pre><h4 id="样例输出"><a href="#样例输出" class="headerlink" title="样例输出"></a>样例输出</h4><pre><code>Sorted sequence determined after 4 relations: ABCD.</code></pre><h4 id="样例输入2"><a href="#样例输入2" class="headerlink" title="样例输入2"></a>样例输入2</h4><pre><code>3 2A&lt;BB&lt;A</code></pre><h4 id="样例输出2"><a href="#样例输出2" class="headerlink" title="样例输出2"></a>样例输出2</h4><pre><code>Inconsistency found after 2 relations.</code></pre><h4 id="样例输入3"><a href="#样例输入3" class="headerlink" title="样例输入3"></a>样例输入3</h4><pre><code>26 1A&lt;Z</code></pre><h4 id="样例输出3"><a href="#样例输出3" class="headerlink" title="样例输出3"></a>样例输出3</h4><pre><code>Sorted sequence cannot be determined.</code></pre><hr><h4 id="数据规模与约定"><a href="#数据规模与约定" class="headerlink" title="数据规模与约定"></a>数据规模与约定</h4><p> 时间限制：1 s</p><p> 内存限制：256 M</p><p> 100% 的数据保证 2≤n≤26</p><h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><ul><li><p>本题考查点：判断图是否有环、判断这个图的拓扑排序是否唯一</p></li><li><p>对于这种中途可以结束程序的题目，只能一边输入一边进行拓扑排序了</p></li></ul><h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">,</span> rudu<span class="token punctuation">[</span><span class="token number">27</span><span class="token punctuation">]</span><span class="token punctuation">,</span> cnt<span class="token punctuation">;</span><span class="token keyword">char</span> ans<span class="token punctuation">[</span><span class="token number">27</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> q<span class="token punctuation">[</span><span class="token number">27</span><span class="token punctuation">]</span><span class="token punctuation">,</span> l<span class="token punctuation">,</span> r<span class="token punctuation">;</span>vector <span class="token operator">&lt;</span>vector <span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token operator">></span> <span class="token function">edge</span><span class="token punctuation">(</span><span class="token number">27</span><span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">Topological_sorting</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> l <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> in<span class="token punctuation">[</span><span class="token number">27</span><span class="token punctuation">]</span><span class="token punctuation">,</span> qcnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        in<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> rudu<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>in<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> q<span class="token punctuation">[</span>r<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>l <span class="token operator">&lt;</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//队列中元素始终不唯一代表拓扑序列不唯一，始终为1代表拓扑序列唯一 </span>        qcnt <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>qcnt<span class="token punctuation">,</span> <span class="token punctuation">(</span>r <span class="token operator">-</span> l<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> tp <span class="token operator">=</span> q<span class="token punctuation">[</span>l<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        ans<span class="token punctuation">[</span>cnt<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> tp <span class="token operator">+</span> <span class="token string">'A'</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> to <span class="token punctuation">:</span> edge<span class="token punctuation">[</span>tp<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">--</span>in<span class="token punctuation">[</span>to<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                q<span class="token punctuation">[</span>r<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> to<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>cnt <span class="token operator">&lt;</span> n<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//有环 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>qcnt <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 拓扑排序序列唯一 </span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">,</span> <span class="token operator">&amp;</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">char</span> a<span class="token punctuation">,</span> b<span class="token punctuation">;</span>        <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%c&lt;%c"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>        rudu<span class="token punctuation">[</span>b <span class="token operator">-</span> <span class="token string">'A'</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>        edge<span class="token punctuation">[</span>a <span class="token operator">-</span> <span class="token string">'A'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>b <span class="token operator">-</span> <span class="token string">'A'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token function">Topological_sorting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Sorted sequence determined after %d relations: %s.\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> ans<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Inconsistency found after %d relations.\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Sorted sequence cannot be determined.\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 图论 </tag>
            
            <tag> 拓扑排序 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>食物链计数-拓扑排序</title>
      <link href="posts/4a80.html"/>
      <url>posts/4a80.html</url>
      
        <content type="html"><![CDATA[<h3 id="食物链计数"><a href="#食物链计数" class="headerlink" title="食物链计数"></a>食物链计数</h3><h4 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h4><p> 给你一个食物网，你要求出这个食物网中所有食物链的数量。（这里的“食物链”，指的是<strong>生物学意义上的食物链</strong>，即<strong>最左端是不会捕食其他生物的生产者，最右端是不会被其他生物捕食的消费者</strong>。）</p><p> 由于这个结果可能过大，你只需要输出总数模上 10^8+7 的结果。</p><hr><h4 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h4><p> 第一行，两个正整数 n,m。表示生物种类 n 和吃与被吃的关系数 m。</p><p> 接下来 m 行，每行两个正整数 A,B。表示生物 B 吃生物 A。保证不会出现环。</p><h4 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h4><p> 一行一个整数，为最大食物链数量模上 10^8+7 的结果。</p><hr><h4 id="样例输入"><a href="#样例输入" class="headerlink" title="样例输入"></a>样例输入</h4><pre><code>7 91 31 42 32 42 53 64 64 75 7</code></pre><h4 id="样例输出"><a href="#样例输出" class="headerlink" title="样例输出"></a>样例输出</h4><pre><code>7</code></pre><hr><h4 id="数据规模与约定"><a href="#数据规模与约定" class="headerlink" title="数据规模与约定"></a>数据规模与约定</h4><p> 时间限制：1 s</p><p> 内存限制：256 M</p><p> 100% 的数据保证 1≤n≤5000,1≤m≤500000</p><h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><ul><li>画个图就知道，该图是多颗树连接的图，想要统计食物链数量，只需要统计到根节点到叶子节点的路径数量</li><li>对于根节点，我们初始化其路径数量为1，利用拓扑排序把根节点去更新其他节点，直到叶子节点</li></ul><h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> w <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">&lt;</span> <span class="token string">'0'</span> <span class="token operator">||</span> ch <span class="token operator">></span> <span class="token string">'9'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        w <span class="token operator">|</span><span class="token operator">=</span> ch <span class="token operator">==</span> <span class="token string">'-'</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">>=</span> <span class="token string">'0'</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">&lt;=</span> <span class="token string">'9'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        x <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>ch <span class="token operator">^</span> <span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> w <span class="token operator">?</span> <span class="token operator">-</span>x <span class="token punctuation">:</span> x<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token macro property">#<span class="token directive keyword">define</span> MAX_N 5003</span><span class="token macro property">#<span class="token directive keyword">define</span> MAX_M 500005</span><span class="token keyword">const</span> <span class="token keyword">int</span> mod <span class="token operator">=</span> <span class="token number">1e8</span> <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">;</span><span class="token keyword">int</span> rudu<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">,</span> chudu<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> cnt_edge<span class="token punctuation">,</span> head<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">,</span> to<span class="token punctuation">[</span>MAX_M<span class="token punctuation">]</span><span class="token punctuation">,</span> next<span class="token punctuation">[</span>MAX_M<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">add_edge</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token operator">++</span>rudu<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token operator">++</span>chudu<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">;</span>    to<span class="token punctuation">[</span><span class="token operator">++</span>cnt_edge<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">;</span>    next<span class="token punctuation">[</span>cnt_edge<span class="token punctuation">]</span> <span class="token operator">=</span> head<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">;</span>    head<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">=</span> cnt_edge<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> q<span class="token punctuation">[</span>MAX_M<span class="token punctuation">]</span><span class="token punctuation">,</span> l<span class="token punctuation">,</span> r<span class="token punctuation">;</span><span class="token keyword">int</span> cnt<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">,</span> ans<span class="token punctuation">;</span><span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">Topological_sorting</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//拓扑排序 </span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>l <span class="token operator">&lt;</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> tp <span class="token operator">=</span> q<span class="token punctuation">[</span>l<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> head<span class="token punctuation">[</span>tp<span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token punctuation">;</span> i <span class="token operator">=</span> next<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            cnt<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> cnt<span class="token punctuation">[</span>tp<span class="token punctuation">]</span><span class="token punctuation">;</span>            cnt<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">%</span><span class="token operator">=</span> mod<span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">--</span>rudu<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                q<span class="token punctuation">[</span>r<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    n <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> m <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">;</span>        a <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">add_edge</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>rudu<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//入度为0的生物为生产者 </span>            cnt<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 初始化生产者为一条食物链 </span>            q<span class="token punctuation">[</span>r<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">Topological_sorting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 只需统计到达最顶端捕食者的食物链数量之和，即为答案 </span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//出度为0的生物为最顶端捕食者 </span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>chudu<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> ans <span class="token operator">+</span><span class="token operator">=</span> cnt<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> ans<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 图论 </tag>
            
            <tag> 拓扑排序 </tag>
            
            <tag> 刷题计划 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>旅行计划-拓扑排序</title>
      <link href="posts/4b2d.html"/>
      <url>posts/4b2d.html</url>
      
        <content type="html"><![CDATA[<h3 id="旅行计划"><a href="#旅行计划" class="headerlink" title="旅行计划"></a>旅行计划</h3><h4 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h4><p> 小明要去一个国家旅游。这个国家有 N 个城市，编号为 1 至 N，并且有 MM 条道路连接着，小明准备从其中一个城市出发，并只往东走到城市 i 停止。</p><p> 所以他就需要选择最先到达的城市，并制定一条路线以城市 i 为终点，使得线路上除了第一个城市，每个城市都在路线前一个城市东面，并且满足这个前提下还希望游览的城市尽量多。</p><p> 现在，你只知道每一条道路所连接的两个城市的相对位置关系，但并不知道所有城市具体的位置。现在对于所有的 i，都需要你为小明制定一条路线，并求出以城市 i 为终点最多能够游览多少个城市。</p><hr><h4 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h4><p> 第 1 行为两个正整数 N,M。</p><p> 接下来 M 行，每行两个正整数 x,y，表示了有一条连接城市 x 与城市 y 的道路，保证了城市 x 在城市 y 西面。</p><h4 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h4><p> N 行，第 i 行包含一个正整数，表示以第 i 个城市为终点最多能游览多少个城市。</p><hr><h4 id="样例输入"><a href="#样例输入" class="headerlink" title="样例输入"></a>样例输入</h4><pre><code>5 61 21 32 32 43 42 5</code></pre><h4 id="样例输出"><a href="#样例输出" class="headerlink" title="样例输出"></a>样例输出</h4><pre><code>12343</code></pre><hr><h4 id="数据规模与约定"><a href="#数据规模与约定" class="headerlink" title="数据规模与约定"></a>数据规模与约定</h4><p> 时间限制：1 s</p><p> 内存限制：256 M</p><p> 100% 的数据保证 1≤n≤100000,1≤m≤200000</p><h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><ul><li>本题的图为有向无权图，则入度为0的点只能在本城市旅游</li><li>那么就好想到利用<strong>拓扑排序</strong>，从入度为0的点更新其它点的最长距离，也就是旅游城市的数量</li></ul><h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">define</span> N 100005</span><span class="token macro property">#<span class="token directive keyword">define</span> M 200005</span><span class="token keyword">int</span> head<span class="token punctuation">[</span>M<span class="token punctuation">]</span><span class="token punctuation">,</span> to<span class="token punctuation">[</span>M<span class="token punctuation">]</span><span class="token punctuation">,</span> nt<span class="token punctuation">[</span>M<span class="token punctuation">]</span><span class="token punctuation">,</span> cnt_edge<span class="token punctuation">;</span><span class="token keyword">int</span> rudu<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">add_edge</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    to<span class="token punctuation">[</span><span class="token operator">++</span>cnt_edge<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">;</span>    <span class="token operator">++</span>rudu<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">;</span>    nt<span class="token punctuation">[</span>cnt_edge<span class="token punctuation">]</span> <span class="token operator">=</span> head<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">;</span>    head<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">=</span> cnt_edge<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">;</span><span class="token keyword">int</span> cnt<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">define</span> max(a, b) ({\    (a) > (b) ? (a) : (b);\})</span><span class="token keyword">int</span> q<span class="token punctuation">[</span>M<span class="token punctuation">]</span><span class="token punctuation">,</span> l<span class="token punctuation">,</span> r<span class="token punctuation">;</span><span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">Topological_sorting</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>l <span class="token operator">&lt;</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> tp <span class="token operator">=</span> q<span class="token punctuation">[</span>l<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> head<span class="token punctuation">[</span>tp<span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token punctuation">;</span> i <span class="token operator">=</span> nt<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">//if (rudu[to[i]] == 0) continue; //有向图，入度为0的点不会重新走，故这句代码可以省略 </span>            <span class="token comment" spellcheck="true">//cnt[to[i]] = max(cnt[to[i]], cnt[tp] + 1); //队列，后来的比前面的大，直接更新，可以忽略这代码 </span>            cnt<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> cnt<span class="token punctuation">[</span>tp<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">--</span>rudu<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                q<span class="token punctuation">[</span>r<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">,</span> <span class="token operator">&amp;</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">;</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">add_edge</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>rudu<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            cnt<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            q<span class="token punctuation">[</span>r<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">Topological_sorting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> cnt<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 图论 </tag>
            
            <tag> 拓扑排序 </tag>
            
            <tag> 刷题计划 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>线段树</title>
      <link href="posts/bdab.html"/>
      <url>posts/bdab.html</url>
      
        <content type="html"><![CDATA[<h2 id="线段树"><a href="#线段树" class="headerlink" title="线段树"></a>线段树</h2><h4 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h4><ul><li>求解区间和</li><li>求解区间最大值</li><li>单点修改、区间修改</li><li>扫描线、主席树</li></ul><h3 id="建树与懒标记下沉"><a href="#建树与懒标记下沉" class="headerlink" title="建树与懒标记下沉"></a>建树与懒标记下沉</h3><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">//建树 </span><span class="token keyword">void</span> <span class="token function">built_tree</span><span class="token punctuation">(</span><span class="token keyword">int</span> l<span class="token punctuation">,</span> <span class="token keyword">int</span> r<span class="token punctuation">,</span> <span class="token keyword">int</span> now<span class="token punctuation">)</span> <span class="token punctuation">{</span>    tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>l <span class="token operator">=</span> l<span class="token punctuation">,</span> tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>r <span class="token operator">=</span> r<span class="token punctuation">;</span>    tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>cnt <span class="token operator">=</span> r <span class="token operator">-</span> l <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 区间大小 </span>    tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>lazy <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">==</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>        tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>sum <span class="token operator">=</span> num<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>l <span class="token operator">+</span> r<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token function">built_tree</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> now <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">built_tree</span><span class="token punctuation">(</span>mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> r<span class="token punctuation">,</span> now <span class="token operator">&lt;&lt;</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">PushUp</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//懒标记下沉 </span><span class="token keyword">void</span> <span class="token function">down_lazy</span><span class="token punctuation">(</span><span class="token keyword">int</span> now<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>lazy <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//懒标记下沉 </span>    tree<span class="token punctuation">[</span>now <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>lazy <span class="token operator">+</span><span class="token operator">=</span> tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>lazy<span class="token punctuation">;</span>    tree<span class="token punctuation">[</span>now <span class="token operator">&lt;&lt;</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>lazy <span class="token operator">+</span><span class="token operator">=</span> tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>lazy<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//更新左右子树的区间和值 </span>    tree<span class="token punctuation">[</span>now <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sum <span class="token operator">+</span><span class="token operator">=</span> tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>lazy <span class="token operator">*</span> tree<span class="token punctuation">[</span>now <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>cnt<span class="token punctuation">;</span>    tree<span class="token punctuation">[</span>now <span class="token operator">&lt;&lt;</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sum <span class="token operator">+</span><span class="token operator">=</span> tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>lazy <span class="token operator">*</span> tree<span class="token punctuation">[</span>now <span class="token operator">&lt;&lt;</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>cnt<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//懒标记重置 </span>    tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>lazy <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="向上更新和值"><a href="#向上更新和值" class="headerlink" title="向上更新和值"></a>向上更新和值</h3><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">// 向上更新和值 </span><span class="token keyword">void</span> <span class="token function">PushUp</span><span class="token punctuation">(</span><span class="token keyword">int</span> now<span class="token punctuation">)</span> <span class="token punctuation">{</span>     tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>sum <span class="token operator">=</span> tree<span class="token punctuation">[</span>now <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sum <span class="token operator">+</span> tree<span class="token punctuation">[</span>now <span class="token operator">&lt;&lt;</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sum<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="区间修改"><a href="#区间修改" class="headerlink" title="区间修改"></a>区间修改</h3><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">// 区间修改</span><span class="token keyword">void</span> <span class="token function">modify</span><span class="token punctuation">(</span><span class="token keyword">int</span> now<span class="token punctuation">,</span> <span class="token keyword">int</span> l<span class="token punctuation">,</span> <span class="token keyword">int</span> r<span class="token punctuation">,</span> <span class="token keyword">int</span> lazy<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//修改区间完全包含该子树区间</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>l <span class="token operator">>=</span> l <span class="token operator">&amp;&amp;</span> tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>r <span class="token operator">&lt;=</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>        tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>lazy <span class="token operator">+</span><span class="token operator">=</span> lazy<span class="token punctuation">;</span>        tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>sum <span class="token operator">+</span><span class="token operator">=</span> lazy <span class="token operator">*</span> tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>cnt<span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">// 向下分解区间前，先向下处理懒标记</span>    <span class="token function">down_lazy</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>l <span class="token operator">+</span> tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>r<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//左子树与修改区间有交集</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>mid <span class="token operator">>=</span> l<span class="token punctuation">)</span> <span class="token function">modify</span><span class="token punctuation">(</span>now <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">,</span> l<span class="token punctuation">,</span> r<span class="token punctuation">,</span> lazy<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//右子树与修改区间有交集</span>    <span class="token comment" spellcheck="true">//mid + 1 &lt;= r == mid &lt; r</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>mid <span class="token operator">&lt;</span> r<span class="token punctuation">)</span> <span class="token function">modify</span><span class="token punctuation">(</span>now <span class="token operator">&lt;&lt;</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">,</span> l<span class="token punctuation">,</span> r<span class="token punctuation">,</span> lazy<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//回溯，更新区间和 </span>    <span class="token function">PushUp</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="查询区间和"><a href="#查询区间和" class="headerlink" title="查询区间和"></a>查询区间和</h3><pre><code>// 查询区间[l, r]的区间和ll query(int now, int l, int r) {    if (tree[now].l &gt;= l &amp;&amp; tree[now].r &lt;= r) { //完全包含查询区间         return tree[now].sum;    }    // 向下分解区间前，向下处理懒标记先     down_lazy(now);     // 该节点区间二分    int mid = (tree[now].l + tree[now].r) &gt;&gt; 1;    ll tp_sum = 0;       // 如果左子树区间与查询区间有交集，向左子树查询     if (mid &gt;= l) tp_sum += query(now &lt;&lt; 1, l, r);    // 如果右子树区间与查询区间有交集，向右子树查询     // mid + 1 &lt;= r == mid &lt; r     if (mid &lt; r) tp_sum += query(now &lt;&lt; 1 | 1, l, r);    // 返回查询区间的和     return tp_sum;}</code></pre><h4 id="代码演示1"><a href="#代码演示1" class="headerlink" title="代码演示1"></a>代码演示1</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">long</span> <span class="token keyword">long</span> ll<span class="token punctuation">;</span><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> w <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">></span> <span class="token string">'9'</span> <span class="token operator">||</span> ch <span class="token operator">&lt;</span> <span class="token string">'0'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        w <span class="token operator">|</span><span class="token operator">=</span> ch <span class="token operator">==</span> <span class="token string">'-'</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">>=</span> <span class="token string">'0'</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">&lt;=</span> <span class="token string">'9'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        x <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>ch <span class="token operator">^</span> <span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> w <span class="token operator">?</span> <span class="token operator">-</span>x <span class="token punctuation">:</span> x<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token macro property">#<span class="token directive keyword">define</span> MAX_N 10002</span><span class="token keyword">struct</span> Node <span class="token punctuation">{</span>    ll sum<span class="token punctuation">,</span> lazy<span class="token punctuation">;</span>      <span class="token keyword">int</span> l<span class="token punctuation">,</span> r<span class="token punctuation">,</span> cnt<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 区间左边界l，右边界r，区间元素个数cnt </span><span class="token punctuation">}</span><span class="token punctuation">;</span>Node tree<span class="token punctuation">[</span>MAX_N <span class="token operator">&lt;&lt;</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 存储树 </span><span class="token keyword">int</span> num<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 向上更新和值 </span><span class="token keyword">void</span> <span class="token function">PushUp</span><span class="token punctuation">(</span><span class="token keyword">int</span> now<span class="token punctuation">)</span> <span class="token punctuation">{</span>     tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>sum <span class="token operator">=</span> tree<span class="token punctuation">[</span>now <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sum <span class="token operator">+</span> tree<span class="token punctuation">[</span>now <span class="token operator">&lt;&lt;</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sum<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//建树 </span><span class="token keyword">void</span> <span class="token function">built_tree</span><span class="token punctuation">(</span><span class="token keyword">int</span> l<span class="token punctuation">,</span> <span class="token keyword">int</span> r<span class="token punctuation">,</span> <span class="token keyword">int</span> now<span class="token punctuation">)</span> <span class="token punctuation">{</span>    tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>l <span class="token operator">=</span> l<span class="token punctuation">,</span> tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>r <span class="token operator">=</span> r<span class="token punctuation">;</span>    tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>cnt <span class="token operator">=</span> r <span class="token operator">-</span> l <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 区间大小 </span>    tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>lazy <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">==</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>        tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>sum <span class="token operator">=</span> num<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>l <span class="token operator">+</span> r<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token function">built_tree</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> now <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">built_tree</span><span class="token punctuation">(</span>mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> r<span class="token punctuation">,</span> now <span class="token operator">&lt;&lt;</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">PushUp</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//懒标记下沉 </span><span class="token keyword">void</span> <span class="token function">down_lazy</span><span class="token punctuation">(</span><span class="token keyword">int</span> now<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>lazy <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//懒标记下沉 </span>    tree<span class="token punctuation">[</span>now <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>lazy <span class="token operator">+</span><span class="token operator">=</span> tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>lazy<span class="token punctuation">;</span>    tree<span class="token punctuation">[</span>now <span class="token operator">&lt;&lt;</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>lazy <span class="token operator">+</span><span class="token operator">=</span> tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>lazy<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//更新左右子树的区间和值 </span>    tree<span class="token punctuation">[</span>now <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sum <span class="token operator">+</span><span class="token operator">=</span> tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>lazy <span class="token operator">*</span> tree<span class="token punctuation">[</span>now <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>cnt<span class="token punctuation">;</span>    tree<span class="token punctuation">[</span>now <span class="token operator">&lt;&lt;</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sum <span class="token operator">+</span><span class="token operator">=</span> tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>lazy <span class="token operator">*</span> tree<span class="token punctuation">[</span>now <span class="token operator">&lt;&lt;</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>cnt<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//懒标记重置 </span>    tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>lazy <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// 查询区间[l, r]的区间和</span>ll <span class="token function">query</span><span class="token punctuation">(</span><span class="token keyword">int</span> now<span class="token punctuation">,</span> <span class="token keyword">int</span> l<span class="token punctuation">,</span> <span class="token keyword">int</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>l <span class="token operator">>=</span> l <span class="token operator">&amp;&amp;</span> tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>r <span class="token operator">&lt;=</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//完全包含查询区间 </span>        <span class="token keyword">return</span> tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>sum<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">// 向下分解区间前，向下处理懒标记先 </span>    <span class="token function">down_lazy</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">// 该节点区间二分</span>    <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>l <span class="token operator">+</span> tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>r<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>    ll tp_sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">// 如果左子树区间与查询区间有交集，向左子树查询 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>mid <span class="token operator">>=</span> l<span class="token punctuation">)</span> tp_sum <span class="token operator">+</span><span class="token operator">=</span> <span class="token function">query</span><span class="token punctuation">(</span>now <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">,</span> l<span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 如果右子树区间与查询区间有交集，向右子树查询 </span>    <span class="token comment" spellcheck="true">// mid + 1 &lt;= r == mid &lt; r </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>mid <span class="token operator">&lt;</span> r<span class="token punctuation">)</span> tp_sum <span class="token operator">+</span><span class="token operator">=</span> <span class="token function">query</span><span class="token punctuation">(</span>now <span class="token operator">&lt;&lt;</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">,</span> l<span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 返回查询区间的和 </span>    <span class="token keyword">return</span> tp_sum<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// 区间修改</span><span class="token keyword">void</span> <span class="token function">modify</span><span class="token punctuation">(</span><span class="token keyword">int</span> now<span class="token punctuation">,</span> <span class="token keyword">int</span> l<span class="token punctuation">,</span> <span class="token keyword">int</span> r<span class="token punctuation">,</span> <span class="token keyword">int</span> lazy<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//修改区间完全包含该子树区间</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>l <span class="token operator">>=</span> l <span class="token operator">&amp;&amp;</span> tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>r <span class="token operator">&lt;=</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>        tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>lazy <span class="token operator">+</span><span class="token operator">=</span> lazy<span class="token punctuation">;</span>        tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>sum <span class="token operator">+</span><span class="token operator">=</span> lazy <span class="token operator">*</span> tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>cnt<span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">// 向下分解区间前，先向下处理懒标记</span>    <span class="token function">down_lazy</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>l <span class="token operator">+</span> tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>r<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//左子树与修改区间有交集</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>mid <span class="token operator">>=</span> l<span class="token punctuation">)</span> <span class="token function">modify</span><span class="token punctuation">(</span>now <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">,</span> l<span class="token punctuation">,</span> r<span class="token punctuation">,</span> lazy<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//右子树与修改区间有交集</span>    <span class="token comment" spellcheck="true">//mid + 1 &lt;= r == mid &lt; r</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>mid <span class="token operator">&lt;</span> r<span class="token punctuation">)</span> <span class="token function">modify</span><span class="token punctuation">(</span>now <span class="token operator">&lt;&lt;</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">,</span> l<span class="token punctuation">,</span> r<span class="token punctuation">,</span> lazy<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//回溯，更新区间和 </span>    <span class="token function">PushUp</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    n <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> m <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        num<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">built_tree</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> t<span class="token punctuation">;</span>        t <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">;</span>            a <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//if (b > c) continue;</span>            <span class="token function">modify</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">;</span>            a <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%lld\n"</span><span class="token punctuation">,</span> <span class="token function">query</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="建树与更新最大值"><a href="#建树与更新最大值" class="headerlink" title="建树与更新最大值"></a>建树与更新最大值</h3><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">//建树 </span><span class="token keyword">void</span> <span class="token function">built_tree</span><span class="token punctuation">(</span><span class="token keyword">int</span> l<span class="token punctuation">,</span> <span class="token keyword">int</span> r<span class="token punctuation">,</span> <span class="token keyword">int</span> now<span class="token punctuation">)</span> <span class="token punctuation">{</span>    tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>l <span class="token operator">=</span> l<span class="token punctuation">,</span> tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>r <span class="token operator">=</span> r<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">==</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>        tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>ma <span class="token operator">=</span> num<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>l <span class="token operator">+</span> r<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token function">built_tree</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> now <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">built_tree</span><span class="token punctuation">(</span>mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> r<span class="token punctuation">,</span> now <span class="token operator">&lt;&lt;</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">PushUp</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// 向上更新子树最大值 </span><span class="token keyword">void</span> <span class="token function">PushUp</span><span class="token punctuation">(</span><span class="token keyword">int</span> now<span class="token punctuation">)</span> <span class="token punctuation">{</span>    tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>ma <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>tree<span class="token punctuation">[</span>now <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>ma<span class="token punctuation">,</span> tree<span class="token punctuation">[</span>now <span class="token operator">&lt;&lt;</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>ma<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="单点修改"><a href="#单点修改" class="headerlink" title="单点修改"></a>单点修改</h3><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">// 单点修改</span><span class="token keyword">void</span> <span class="token function">Update</span><span class="token punctuation">(</span><span class="token keyword">int</span> now<span class="token punctuation">,</span> <span class="token keyword">int</span> l<span class="token punctuation">,</span> <span class="token keyword">int</span> r<span class="token punctuation">,</span> <span class="token keyword">int</span> pos<span class="token punctuation">,</span> <span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">==</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>        tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>ma <span class="token operator">=</span> val<span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>l <span class="token operator">+</span> r<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>mid <span class="token operator">>=</span> pos<span class="token punctuation">)</span> <span class="token function">Update</span><span class="token punctuation">(</span>now <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">,</span> l<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> pos<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">else</span> <span class="token function">Update</span><span class="token punctuation">(</span>now <span class="token operator">&lt;&lt;</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> r<span class="token punctuation">,</span> pos<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">PushUp</span><span class="token punctuation">(</span>now<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="区间查询最大值"><a href="#区间查询最大值" class="headerlink" title="区间查询最大值"></a>区间查询最大值</h3><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">// 区间查询</span>ll <span class="token function">query</span><span class="token punctuation">(</span><span class="token keyword">int</span> now<span class="token punctuation">,</span> <span class="token keyword">int</span> l<span class="token punctuation">,</span> <span class="token keyword">int</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>    ll ma <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>l <span class="token operator">>=</span> l <span class="token operator">&amp;&amp;</span> tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>r <span class="token operator">&lt;=</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//查询区间完全包含当前区间 </span>        ma <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>ma<span class="token punctuation">,</span> tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>ma<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> ma<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">// 该节点区间二分</span>    <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>l <span class="token operator">+</span> tree<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">.</span>r<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">// 如果左子树区间与查询区间有交集，向左子树查询 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>mid <span class="token operator">>=</span> l<span class="token punctuation">)</span> ma <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token function">query</span><span class="token punctuation">(</span>now <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">,</span> l<span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">,</span> ma<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 如果右子树区间与查询区间有交集，向右子树查询 </span>    <span class="token comment" spellcheck="true">// mid + 1 &lt;= r == mid &lt; r </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>mid <span class="token operator">&lt;</span> r<span class="token punctuation">)</span> ma <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token function">query</span><span class="token punctuation">(</span>now <span class="token operator">&lt;&lt;</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">,</span> l<span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">,</span> ma<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 返回查询区间的和 </span>    <span class="token keyword">return</span> ma<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="代码演示2"><a href="#代码演示2" class="headerlink" title="代码演示2"></a>代码演示2</h4><pre><code>#include&lt;stdio.h&gt;typedef long long ll;inline int read() {    int w = 0, x = 0;    char ch = getchar();    while (ch &gt; '9' || ch &lt; '0') {        w |= ch == '-';        ch = getchar();    }    while (ch &gt;= '0' &amp;&amp; ch &lt;= '9') {        x = (x &lt;&lt; 1) + (x &lt;&lt; 3) + (ch ^ 48);        ch = getchar();    }    return w ? -x : x;}#define MAX_N 10002#define max(a, b) ((a) &gt; (b) ? (a) : (b))typedef struct Node {    ll ma;      int l, r; // 区间左边界l，右边界r} Node;Node tree[MAX_N &lt;&lt; 2]; // 存储树int num[MAX_N];int n, m;// 向上更新子树最大值 void PushUp(int now) {     tree[now].ma = max(tree[now &lt;&lt; 1].ma, tree[now &lt;&lt; 1 | 1].ma);}//建树 void built_tree(int l, int r, int now) {    tree[now].l = l, tree[now].r = r;    if (l == r) {        tree[now].ma = num[l];        return ;    }    int mid = (l + r) &gt;&gt; 1;    built_tree(l, mid, now &lt;&lt; 1);    built_tree(mid + 1, r, now &lt;&lt; 1 | 1);    PushUp(now);    return ;}// 区间查询ll query(int now, int l, int r) {    ll ma = -1;    if (tree[now].l &gt;= l &amp;&amp; tree[now].r &lt;= r) { //查询区间完全包含当前区间         ma = max(ma, tree[now].ma);        return ma;    }    // 该节点区间二分    int mid = (tree[now].l + tree[now].r) &gt;&gt; 1;       // 如果左子树区间与查询区间有交集，向左子树查询     if (mid &gt;= l) ma = max(query(now &lt;&lt; 1, l, r), ma);    // 如果右子树区间与查询区间有交集，向右子树查询     // mid + 1 &lt;= r == mid &lt; r     if (mid &lt; r) ma = max(query(now &lt;&lt; 1 | 1, l, r), ma);    // 返回查询区间的和     return ma;}// 单点修改void Update(int now, int l, int r, int pos, int val) {    if (l == r) {        tree[now].ma = val;        return ;    }    int mid = (l + r) &gt;&gt; 1;    if (mid &gt;= pos) Update(now &lt;&lt; 1, l, mid, pos, val);    else Update(now &lt;&lt; 1 | 1, mid + 1, r, pos, val);    PushUp(now);    return ;}int main() {    n = read(), m = read();    for (int i = 1; i &lt;= n; i++) {        num[i] = read();    }    built_tree(1, n, 1);    for (int i = 1; i &lt;= m; i++) {        int t, a, b;        t = read(), a = read(), b = read();         if (t == 1) {            if (a &gt; b) continue;            Update(1, 1, n, a, b);        } else {            if (a &gt; b) {                printf("-2147483648\n");                continue;            }            printf("%lld\n", query(1, a, b));        }    }    return 0;}</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 基础数据结构 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>启发式搜索</title>
      <link href="posts/515c.html"/>
      <url>posts/515c.html</url>
      
        <content type="html"><![CDATA[<h3 id="A-搜索"><a href="#A-搜索" class="headerlink" title="A*搜索"></a>A*搜索</h3><h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/*************************************************************************        > File Name: A星搜索.cpp        > Author:        > Mail:        > Created Time: Thu 14 Oct 2021 07:50:55 PM CST ************************************************************************/</span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;queue></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cstdio></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cmath></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">struct</span> Node <span class="token punctuation">{</span>    <span class="token keyword">int</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> step<span class="token punctuation">;</span>    <span class="token keyword">double</span> dis<span class="token punctuation">;</span>    bool operator<span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token keyword">const</span> Node <span class="token operator">&amp;</span>a<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> this<span class="token operator">-></span>step <span class="token operator">+</span> this<span class="token operator">-></span>dis <span class="token operator">></span> a<span class="token punctuation">.</span>step <span class="token operator">+</span> a<span class="token punctuation">.</span>dis<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">,</span> sx<span class="token punctuation">,</span> sy<span class="token punctuation">,</span> tx<span class="token punctuation">,</span> ty<span class="token punctuation">,</span> cnt<span class="token punctuation">;</span><span class="token keyword">int</span> dis<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">char</span> mmap<span class="token punctuation">[</span><span class="token number">102</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">102</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> ans<span class="token punctuation">[</span><span class="token number">102</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">102</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">double</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 计算欧式距离</span>    <span class="token keyword">int</span> t1 <span class="token operator">=</span> x <span class="token operator">-</span> tx<span class="token punctuation">;</span>    <span class="token keyword">int</span> t2 <span class="token operator">=</span> y <span class="token operator">-</span> ty<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token function">sqrt</span><span class="token punctuation">(</span>t1 <span class="token operator">*</span> t1 <span class="token operator">+</span> t2 <span class="token operator">*</span> t2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">func2</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 回溯路径</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>mmap<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'S'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token punctuation">}</span>    mmap<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'o'</span><span class="token punctuation">;</span>    <span class="token function">func2</span><span class="token punctuation">(</span>ans<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ans<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">p_out</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//打印地图</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"............................cnt = %d ............................\n"</span><span class="token punctuation">,</span> cnt<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            cout <span class="token operator">&lt;&lt;</span> mmap<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>mmap<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'x'</span><span class="token punctuation">)</span> mmap<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'X'</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    cin <span class="token operator">>></span> n <span class="token operator">>></span> m<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            cin <span class="token operator">>></span> mmap<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>mmap<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'S'</span><span class="token punctuation">)</span> sx <span class="token operator">=</span> i<span class="token punctuation">,</span> sy <span class="token operator">=</span> j<span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>mmap<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'T'</span><span class="token punctuation">)</span> tx <span class="token operator">=</span> i<span class="token punctuation">,</span> ty <span class="token operator">=</span> j<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    priority_queue <span class="token operator">&lt;</span>Node<span class="token operator">></span> q<span class="token punctuation">;</span>    q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">{</span>sx<span class="token punctuation">,</span> sy<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">func</span><span class="token punctuation">(</span>sx<span class="token punctuation">,</span> sy<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        Node tp <span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">8</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">int</span> dx <span class="token operator">=</span> tp<span class="token punctuation">.</span>x <span class="token operator">+</span> dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> dy <span class="token operator">=</span> tp<span class="token punctuation">.</span>y <span class="token operator">+</span> dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>mmap<span class="token punctuation">[</span>dx<span class="token punctuation">]</span><span class="token punctuation">[</span>dy<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'T'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token function">func2</span><span class="token punctuation">(</span>tp<span class="token punctuation">.</span>x<span class="token punctuation">,</span> tp<span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token function">p_out</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                cout <span class="token operator">&lt;&lt;</span> tp<span class="token punctuation">.</span>step <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>                <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>mmap<span class="token punctuation">[</span>dx<span class="token punctuation">]</span><span class="token punctuation">[</span>dy<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'.'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                mmap<span class="token punctuation">[</span>dx<span class="token punctuation">]</span><span class="token punctuation">[</span>dy<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'x'</span><span class="token punctuation">;</span>                cnt<span class="token operator">++</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>cnt <span class="token operator">%</span> <span class="token number">10</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token function">p_out</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>                ans<span class="token punctuation">[</span>dx<span class="token punctuation">]</span><span class="token punctuation">[</span>dy<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> tp<span class="token punctuation">.</span>x<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//标记当前坐标从那个坐标来</span>                ans<span class="token punctuation">[</span>dx<span class="token punctuation">]</span><span class="token punctuation">[</span>dy<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> tp<span class="token punctuation">.</span>y<span class="token punctuation">;</span>                q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">{</span>dx<span class="token punctuation">,</span> dy<span class="token punctuation">,</span> tp<span class="token punctuation">.</span>step <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token function">func</span><span class="token punctuation">(</span>dx<span class="token punctuation">,</span> dy<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 搜索算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Kruskal算法</title>
      <link href="posts/d923.html"/>
      <url>posts/d923.html</url>
      
        <content type="html"><![CDATA[<h3 id="克鲁斯卡算法"><a href="#克鲁斯卡算法" class="headerlink" title="克鲁斯卡算法"></a>克鲁斯卡算法</h3><h4 id="算法思想"><a href="#算法思想" class="headerlink" title="算法思想"></a>算法思想</h4><p><strong>以边为主</strong></p><ul><li>（1）将图中的所有边都去掉。</li><li>（2）将边按权值（排序，升序）从小到大的顺序添加到图中，保证添加的过程中不会形成环</li><li>（3）重复上一步直到连接所有顶点，此时就生成了最小生成树。这是一种贪心策略。</li></ul><p><strong>Kruskal算法就是基于并查集的贪心算法</strong></p><h4 id="使用地方"><a href="#使用地方" class="headerlink" title="使用地方"></a>使用地方</h4><ul><li><strong>用于边数较少的稀疏图</strong></li></ul><h4 id="时间复杂度O-Elog-E"><a href="#时间复杂度O-Elog-E" class="headerlink" title="时间复杂度O(|Elog|E|)"></a>时间复杂度O(|Elog|E|)</h4><ul><li>E为边的数量</li></ul><h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> M <span class="token operator">=</span> <span class="token number">100010</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">100000</span><span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Node <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//边的集合 </span>    <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> v<span class="token punctuation">;</span><span class="token punctuation">}</span> Node<span class="token punctuation">;</span><span class="token keyword">int</span> fa<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//集合 </span>Node edges<span class="token punctuation">[</span>M<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//存储边的数组 </span><span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//n个点，m条边 </span><span class="token keyword">int</span> <span class="token function">comp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">void</span> <span class="token operator">*</span>a<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">void</span> <span class="token operator">*</span>b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>Node <span class="token operator">*</span><span class="token punctuation">)</span>a<span class="token punctuation">)</span><span class="token operator">-></span>v <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>Node <span class="token operator">*</span><span class="token punctuation">)</span>b<span class="token punctuation">)</span><span class="token operator">-></span>v<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//集合元素初始化 </span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        fa<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> x <span class="token operator">==</span> fa<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">?</span> x <span class="token punctuation">:</span> fa<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>fa<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 可能退化为链表 </span>    <span class="token keyword">int</span> f_a <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> f_b <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>f_a <span class="token operator">==</span> f_b<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    fa<span class="token punctuation">[</span>f_a<span class="token punctuation">]</span> <span class="token operator">=</span> f_b<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">Kruskal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//最小生成树算法 </span>    <span class="token function">init</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">qsort</span><span class="token punctuation">(</span>edges <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> m<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">,</span> comp<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> t <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> cnt_point <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">++</span>t <span class="token operator">&lt;=</span> m <span class="token operator">&amp;&amp;</span> cnt_point <span class="token operator">&lt;</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> f_a <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>edges<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> f_b <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>edges<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">.</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>f_a <span class="token operator">==</span> f_b<span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//a与b在一个联通环内，如果连接，则a与b形成环 </span>        <span class="token function">merge</span><span class="token punctuation">(</span>edges<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">.</span>a<span class="token punctuation">,</span> edges<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">.</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>        cnt_point<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//点的数量加一 </span>        sum <span class="token operator">+</span><span class="token operator">=</span> edges<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">.</span>v<span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//printf("%d - %d = %d, %d\n", edges[t].a, edges[t].b, edges[t].v, sum);</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> cnt_point <span class="token operator">==</span> n <span class="token operator">?</span> sum <span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">,</span> <span class="token operator">&amp;</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>edges<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>edges<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>b<span class="token punctuation">,</span> <span class="token operator">&amp;</span>edges<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">Kruskal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/*7 111 2 71 4 52 3 82 4 92 5 73 5 55 7 96 7 114 6 65 6 84 5 15*/</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 树 </tag>
            
            <tag> 图论 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>牛客保卫村庄之树的重心</title>
      <link href="posts/8419.html"/>
      <url>posts/8419.html</url>
      
        <content type="html"><![CDATA[<p><em>吐槽不给数据范围，垃圾题目</em></p><p><strong>题目连接</strong>：<a href=""></a><a href="https://ac.nowcoder.com/acm/problem/214212">保卫村庄 (nowcoder.com)</a></p><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span>using namespace std<span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">define</span> max(a, b) ({\    (a) > (b) ? (a) : (b);\})</span><span class="token macro property">#<span class="token directive keyword">define</span> min(a, b) ({\    (a) &lt; (b) ? (a) : (b);\})</span><span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">1e5</span> <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token keyword">const</span> <span class="token keyword">int</span> M <span class="token operator">=</span> N <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//dis[u]: 表示以u为根的总距离</span><span class="token keyword">int</span> n<span class="token punctuation">;</span><span class="token keyword">int</span> to<span class="token punctuation">[</span>M<span class="token punctuation">]</span><span class="token punctuation">,</span> head<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">,</span> ne<span class="token punctuation">[</span>M<span class="token punctuation">]</span><span class="token punctuation">,</span> cnt<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 链式前向星 </span><span class="token comment" spellcheck="true">// 加无向边 </span><span class="token keyword">void</span> <span class="token function">add_edge</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    to<span class="token punctuation">[</span><span class="token operator">++</span>cnt<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">;</span>    ne<span class="token punctuation">[</span>cnt<span class="token punctuation">]</span> <span class="token operator">=</span> head<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">;</span>    head<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">=</span> cnt<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> size<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// size[i] = 统计以每个节点i为根节点的树的节点数量 </span>bool vis<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 标记数组 </span><span class="token keyword">int</span> ct <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">int</span> ans <span class="token operator">=</span> N<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 记录最大子树节点数量最小值 </span><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> u<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 计算以u为根的树的节点个数 </span>    size<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 自己本身就是一颗树 </span>    <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 记录最大子树节点数量  </span>    vis<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">=</span> true<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> head<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token punctuation">;</span> i <span class="token operator">=</span> ne<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>vis<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>        size<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">dfs</span><span class="token punctuation">(</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//计算以to[i]为根的树的节点个数 </span>        res <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> size<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 记录最大子树节点数量 </span>        size<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> size<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    res <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> n <span class="token operator">-</span> size<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 记录最大子树节点数量 </span>    <span class="token comment" spellcheck="true">// ans = min(ans, res); </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ans <span class="token operator">></span> res<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 记录最大子树节点数量最小值 </span>        ans <span class="token operator">=</span> res<span class="token punctuation">;</span>        ct <span class="token operator">=</span> u<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">==</span> ans <span class="token operator">&amp;&amp;</span> u <span class="token operator">&lt;</span> ct<span class="token punctuation">)</span> ct <span class="token operator">=</span> u<span class="token punctuation">;</span>        <span class="token keyword">return</span> size<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//输入节点个数</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//输入n - 1条边</span>        <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//输入边的两端</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">add_edge</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">add_edge</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 以1为根节点进行搜索 </span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n <span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"size[%d] = %d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> size<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d %d\n"</span><span class="token punctuation">,</span> ct<span class="token punctuation">,</span> ans <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 图论 </tag>
            
            <tag> 树的重心 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Prim算法</title>
      <link href="posts/b483.html"/>
      <url>posts/b483.html</url>
      
        <content type="html"><![CDATA[<h3 id="普里姆算法"><a href="#普里姆算法" class="headerlink" title="普里姆算法"></a>普里姆算法</h3><p><strong>以点为主</strong></p><h4 id="算法流程"><a href="#算法流程" class="headerlink" title="算法流程"></a>算法流程</h4><ul><li><p>全集点集为u，最小生成树点集为v</p></li><li><p>随机选取起点，起点入加集合v</p></li><li><p>（1）由集合v中选取所有的点向外扩散，找到最小边权连接的点，且该点属于（u - v），把该点加入集合v</p></li><li><p>重复步骤（1），直到集合v == 集合u</p></li></ul><h4 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h4><ul><li>居然<strong>Kruskal</strong>适用于稀疏图，那么这个算法适用于稠密图</li></ul><h4 id="一般代码"><a href="#一般代码" class="headerlink" title="一般代码"></a>一般代码</h4><ul><li>时间复杂度O（n^2 - n^3）</li></ul><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> w <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">></span> <span class="token string">'9'</span> <span class="token operator">||</span> ch <span class="token operator">&lt;</span> <span class="token string">'0'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        w <span class="token operator">|</span><span class="token operator">=</span> ch <span class="token operator">==</span> <span class="token string">'-'</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">>=</span> <span class="token string">'0'</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">&lt;=</span> <span class="token string">'9'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        x <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>ch <span class="token operator">^</span> <span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> w <span class="token operator">?</span> <span class="token operator">-</span>x <span class="token punctuation">:</span> x<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token macro property">#<span class="token directive keyword">define</span> MAX_N 1000</span><span class="token macro property">#<span class="token directive keyword">define</span> MAX_M 2000</span><span class="token macro property">#<span class="token directive keyword">define</span> min(a, b) ({\    (a) > (b) ? (b) : (a);\})</span><span class="token comment" spellcheck="true">//链式前向星</span><span class="token keyword">int</span> cnt_edge<span class="token punctuation">,</span> head<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">,</span> next<span class="token punctuation">[</span>MAX_M<span class="token punctuation">]</span><span class="token punctuation">,</span> to<span class="token punctuation">[</span>MAX_M<span class="token punctuation">]</span><span class="token punctuation">,</span> w<span class="token punctuation">[</span>MAX_M<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 加边 </span><span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">add_edge</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">,</span> <span class="token keyword">int</span> c<span class="token punctuation">)</span> <span class="token punctuation">{</span>     to<span class="token punctuation">[</span><span class="token operator">++</span>cnt_edge<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">;</span>    w<span class="token punctuation">[</span>cnt_edge<span class="token punctuation">]</span> <span class="token operator">=</span> c<span class="token punctuation">;</span>    next<span class="token punctuation">[</span>cnt_edge<span class="token punctuation">]</span> <span class="token operator">=</span> head<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">;</span>    head<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">=</span> cnt_edge<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">//输入点的数量、边的数量 </span><span class="token keyword">int</span> vis<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//标记进入集合v的元素</span><span class="token keyword">int</span> ans<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//存储集合v的元素 </span><span class="token keyword">int</span> sum<span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//最小生成树的边权和 </span><span class="token keyword">int</span> cnt<span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//记录加入集合v的元素数量 </span><span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">Prim</span><span class="token punctuation">(</span><span class="token keyword">int</span> u<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//u为起始点 </span>    vis<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    ans<span class="token punctuation">[</span>cnt<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> u<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>cnt <span class="token operator">&lt;</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//判断是否找到最小边 </span>        <span class="token keyword">int</span> point <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> mi <span class="token operator">=</span> <span class="token number">0x7fffffff</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> cnt<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> head<span class="token punctuation">[</span>ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> j<span class="token punctuation">;</span> j <span class="token operator">=</span> next<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>vis<span class="token punctuation">[</span>to<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">// 在集合v中</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>mi <span class="token operator">&lt;=</span> w<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>                mi <span class="token operator">=</span> w<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>                point <span class="token operator">=</span> to<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>                flag <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>            vis<span class="token punctuation">[</span>point<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            ans<span class="token punctuation">[</span>cnt<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> point<span class="token punctuation">;</span>            sum <span class="token operator">+</span><span class="token operator">=</span> mi<span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>         <span class="token keyword">if</span> <span class="token punctuation">(</span>cnt <span class="token operator">==</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> sum<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"-1\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> cnt<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token function">putchar</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>     <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    n <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> m <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">;</span>        a <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">add_edge</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">add_edge</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> a<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>     <span class="token function">Prim</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="朴素代码"><a href="#朴素代码" class="headerlink" title="朴素代码"></a>朴素代码</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">define</span> INF 9e8   </span><span class="token macro property">#<span class="token directive keyword">define</span> Type int</span><span class="token macro property">#<span class="token directive keyword">define</span> MAX_N 100000</span><span class="token macro property">#<span class="token directive keyword">define</span> min(a, b) ({\    (a) > (b) ? (b) : (a);\})</span>Type dis<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">;</span>bool vis<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">;</span><span class="token keyword">int</span> head<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">,</span> to<span class="token punctuation">[</span>MAX_N <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span>MAX_N <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> nex<span class="token punctuation">[</span>MAX_N <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> cnt_edge<span class="token punctuation">;</span><span class="token keyword">inline</span> Type <span class="token function">Prim</span><span class="token punctuation">(</span><span class="token keyword">int</span> u<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> INF<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//对距离初始化为无穷</span>    Type sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    dis<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> t <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> t <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> t<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        Type min_s <span class="token operator">=</span> INF<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//寻找最小值</span>        <span class="token keyword">int</span> pos <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">//最小值得坐标</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>vis<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> min_s<span class="token punctuation">)</span> <span class="token punctuation">{</span>                min_s <span class="token operator">=</span> dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>                pos <span class="token operator">=</span> i<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        vis<span class="token punctuation">[</span>pos<span class="token punctuation">]</span> <span class="token operator">=</span> true<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//标记这个点被访问</span>        sum <span class="token operator">+</span><span class="token operator">=</span> min_s<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//将找到的最小边加入答案里</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> head<span class="token punctuation">[</span>pos<span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token punctuation">;</span> i <span class="token operator">=</span> nex<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//循环更新距离数组</span>            dis<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>dis<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dis<span class="token punctuation">[</span>pos<span class="token punctuation">]</span> <span class="token operator">+</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> sum<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="优先队列实现代码"><a href="#优先队列实现代码" class="headerlink" title="优先队列实现代码"></a>优先队列实现代码</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;queue></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> w <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">></span> <span class="token string">'9'</span> <span class="token operator">||</span> ch <span class="token operator">&lt;</span> <span class="token string">'0'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        w <span class="token operator">|</span><span class="token operator">=</span> ch <span class="token operator">==</span> <span class="token string">'-'</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">>=</span> <span class="token string">'0'</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">&lt;=</span> <span class="token string">'9'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        x <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>ch <span class="token operator">^</span> <span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> w <span class="token operator">?</span> <span class="token operator">-</span>x <span class="token punctuation">:</span> x<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">struct</span> Node <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">// 优先队列的节点 </span>    <span class="token keyword">int</span> to<span class="token punctuation">,</span> v<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 存储下一个节点与这条边权值 </span>    bool operator<span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token keyword">const</span> Node <span class="token operator">&amp;</span>a<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> this<span class="token operator">-></span>v <span class="token operator">></span> a<span class="token punctuation">.</span>v<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">define</span> MAX_M 200000</span><span class="token macro property">#<span class="token directive keyword">define</span> MAX_N 100000</span><span class="token keyword">int</span> head<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">,</span> to<span class="token punctuation">[</span>MAX_M<span class="token punctuation">]</span><span class="token punctuation">,</span> nt<span class="token punctuation">[</span>MAX_M<span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span>MAX_M<span class="token punctuation">]</span><span class="token punctuation">,</span> cnt_edge<span class="token punctuation">;</span><span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">add_edge</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">,</span> <span class="token keyword">int</span> c<span class="token punctuation">)</span> <span class="token punctuation">{</span>    to<span class="token punctuation">[</span><span class="token operator">++</span>cnt_edge<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">;</span>    v<span class="token punctuation">[</span>cnt_edge<span class="token punctuation">]</span> <span class="token operator">=</span> c<span class="token punctuation">;</span>    nt<span class="token punctuation">[</span>cnt_edge<span class="token punctuation">]</span> <span class="token operator">=</span> head<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">;</span>    head<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">=</span> cnt_edge<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">;</span> <span class="token keyword">int</span> vis<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 标记集合v的元素 </span><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">Prim</span><span class="token punctuation">(</span><span class="token keyword">int</span> u<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    priority_queue <span class="token operator">&lt;</span>Node<span class="token operator">></span> q<span class="token punctuation">;</span>    q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">{</span>u<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        Node tp <span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 每次从队列取到边权最小的边，不用和朴素代码一样，遍历每条连接的边 </span>        q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>vis<span class="token punctuation">[</span>tp<span class="token punctuation">.</span>to<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//下一个点在集合v，跳过 </span>        cnt<span class="token operator">++</span><span class="token punctuation">;</span>        sum <span class="token operator">+</span><span class="token operator">=</span> tp<span class="token punctuation">.</span>v<span class="token punctuation">;</span>         vis<span class="token punctuation">[</span>tp<span class="token punctuation">.</span>to<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 标记集合v的元素 </span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> head<span class="token punctuation">[</span>tp<span class="token punctuation">.</span>to<span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token punctuation">;</span> i <span class="token operator">=</span> nt<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>vis<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>            q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">{</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> sum<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>cnt <span class="token operator">==</span> n <span class="token operator">?</span> sum <span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    n <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> m <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">;</span>        a <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> c <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">add_edge</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">add_edge</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> a<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token function">Prim</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> ans<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="习题"><a href="#习题" class="headerlink" title="习题"></a>习题</h4><ul><li>洛谷P1265 公路修建：<a href="">https://www.luogu.com.cn/problem/P1265</a></li><li>题解：<a href=""></a><a href="https://axieyun.top/posts/843.html">https://Axieyun.top/posts/843.html</a></li><li></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 树 </tag>
            
            <tag> 最小生成树算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>生成树与最小生成树</title>
      <link href="posts/200b.html"/>
      <url>posts/200b.html</url>
      
        <content type="html"><![CDATA[<h3 id="生成树"><a href="#生成树" class="headerlink" title="生成树"></a>生成树</h3><h4 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h4><ul><li> 给定一个无向图，如果它任意两个顶点都联通并且是一棵树，那么我们就称之为生成树。</li><li>也就是说，深度优先遍历或者广度优先遍历搜索无向联通图的过程中，经过的所有顶点与边的集合一起构成的图的极小联通子图，就是生成树。</li><li>生成树也叫深度优先生成树或广度优先生成树。</li></ul><h3 id="生成森林"><a href="#生成森林" class="headerlink" title="生成森林"></a>生成森林</h3><h4 id="概念-1"><a href="#概念-1" class="headerlink" title="概念"></a>概念</h4><ul><li>非连通无向图深度优先搜索遍历或广度优先搜索遍历，每个连通分量中的顶点集合遍历时走过的边一起构成若干颗生成树，这些连通分量的生成树组成非连通图的生成森林</li></ul><p><strong>注意：生成树是对应连通图来说，而生成森林是对应非连通图来说的</strong></p><h3 id="最小生成树"><a href="#最小生成树" class="headerlink" title="最小生成树"></a>最小生成树</h3><h4 id="概念-2"><a href="#概念-2" class="headerlink" title="概念"></a>概念</h4><ul><li>给定一个<strong>带权值</strong>的<strong>无向图</strong>，<strong>权值之和最小的生成树</strong>，我们就称之为最小生成树。</li><li>最小生成树又称<strong>MST</strong>或<strong>最小代价生成树</strong></li><li>按照我的理解：从图中找到一个权值最小的边的集合，使得所有点相互联通</li></ul><h4 id="性质"><a href="#性质" class="headerlink" title="性质"></a>性质</h4><ul><li>图中权值最小的边（如果唯一的话）一定在最小生成树上</li><li>对于一个图<em>G</em>，如果图中的边权值都不相同，则图的最小生成树唯一，反之不然。</li></ul><h4 id="求解最小生成树算法"><a href="#求解最小生成树算法" class="headerlink" title="求解最小生成树算法"></a>求解最小生成树算法</h4><ul><li><strong>Kruskal算法</strong></li><li><strong>Prim算法</strong></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 树 </tag>
            
            <tag> 图论 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>二叉树的还原</title>
      <link href="posts/246c.html"/>
      <url>posts/246c.html</url>
      
        <content type="html"><![CDATA[<h3 id="先序遍历-amp-中序遍历还原二叉树"><a href="#先序遍历-amp-中序遍历还原二叉树" class="headerlink" title="先序遍历&amp;中序遍历还原二叉树"></a>先序遍历&amp;中序遍历还原二叉树</h3><h3 id="后序遍历-amp-中序遍历还原二叉树"><a href="#后序遍历-amp-中序遍历还原二叉树" class="headerlink" title="后序遍历&amp;中序遍历还原二叉树"></a>后序遍历&amp;中序遍历还原二叉树</h3>]]></content>
      
      
      
        <tags>
            
            <tag> 树 </tag>
            
            <tag> 基础数据结构 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>最长路</title>
      <link href="posts/1de2.html"/>
      <url>posts/1de2.html</url>
      
        <content type="html"><![CDATA[<h4 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h4><p> 给定一个有 N 个点的有向带权无环图，现求从 1 号点到 N 号点的最长路径。</p><hr><h4 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h4><p> 第一行有两个整数，分别代表图的点数 n 和边数 m。</p><p> 第二到第 m+1 行，每行 33 个整数 u,v,w，代表存在一条从 u 到 v 边权为 w 的边。</p><h4 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h4><p> 输出一行一个整数，代表 1 到 n 的最长路。</p><p> 若 1 与 n 不联通，请输出 −1。</p><hr><h4 id="样例输入"><a href="#样例输入" class="headerlink" title="样例输入"></a>样例输入</h4><pre><code>3 41 3 101 2 51 2 42 3 7</code></pre><h4 id="样例输出"><a href="#样例输出" class="headerlink" title="样例输出"></a>样例输出</h4><pre><code>12</code></pre><hr><h4 id="数据规模与约定"><a href="#数据规模与约定" class="headerlink" title="数据规模与约定"></a>数据规模与约定</h4><p> 时间限制：1 s</p><p> 内存限制：256 M</p><p> 100% 的数据保证 2≤n≤1500,1≤m≤50000,−105≤w≤1052≤n≤1500,1≤m≤50000,−105≤w≤105</p><h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><ul><li>初看第一眼题目加数据范围，不就是SPFA模板题吗，简单写了SPFA后，得了90分，后来发现由于负边的存在，dis数组得初始化为极小值</li><li>本题原本考察的是拓扑排序，就用拓扑排序写一下。</li></ul><h4 id="SPFA题解"><a href="#SPFA题解" class="headerlink" title="SPFA题解"></a>SPFA题解</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">define</span> MAX_M 50004</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">;</span><span class="token keyword">int</span> cnt_edge<span class="token punctuation">,</span> head<span class="token punctuation">[</span>MAX_M<span class="token punctuation">]</span><span class="token punctuation">,</span> next<span class="token punctuation">[</span>MAX_M<span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span>MAX_M<span class="token punctuation">]</span><span class="token punctuation">,</span> to<span class="token punctuation">[</span>MAX_M<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">add_edge</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">,</span> <span class="token keyword">int</span> c<span class="token punctuation">)</span> <span class="token punctuation">{</span>    to<span class="token punctuation">[</span><span class="token operator">++</span>cnt_edge<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">;</span>    v<span class="token punctuation">[</span>cnt_edge<span class="token punctuation">]</span> <span class="token operator">=</span> c<span class="token punctuation">;</span>    next<span class="token punctuation">[</span>cnt_edge<span class="token punctuation">]</span> <span class="token operator">=</span> head<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">;</span>    head<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">=</span> cnt_edge<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//int dfs(int *x, int *f) { //判断能否到达n点 </span><span class="token comment" spellcheck="true">//    int tx = *x, tf = *f;</span><span class="token comment" spellcheck="true">//    if (tx == n) return 1;</span><span class="token comment" spellcheck="true">//    for (int i = head[tx]; i; i = next[i]) {</span><span class="token comment" spellcheck="true">//        if (to[i] == tf) continue;</span><span class="token comment" spellcheck="true">//        if (dfs(&amp;to[i], &amp;tx) == 1) return 1;</span><span class="token comment" spellcheck="true">//    }</span><span class="token comment" spellcheck="true">//    return 0;</span><span class="token comment" spellcheck="true">//} </span><span class="token macro property">#<span class="token directive keyword">define</span> MAX_N 1502</span><span class="token keyword">int</span> dis<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">,</span> q<span class="token punctuation">[</span>MAX_M<span class="token punctuation">]</span><span class="token punctuation">,</span> vis<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">SPFA</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">2000000000</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//初始为极小值 </span>    dis<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    vis<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    q<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> l <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>l <span class="token operator">&lt;</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> tp <span class="token operator">=</span> q<span class="token punctuation">[</span>l<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        vis<span class="token punctuation">[</span>tp<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> head<span class="token punctuation">[</span>tp<span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token punctuation">;</span> i <span class="token operator">=</span> next<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>dis<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">>=</span> dis<span class="token punctuation">[</span>tp<span class="token punctuation">]</span> <span class="token operator">+</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>            dis<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> dis<span class="token punctuation">[</span>tp<span class="token punctuation">]</span> <span class="token operator">+</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>vis<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>            vis<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            q<span class="token punctuation">[</span>r<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>            <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">,</span> <span class="token operator">&amp;</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> a<span class="token punctuation">,</span> b <span class="token punctuation">,</span>c<span class="token punctuation">;</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">,</span> <span class="token operator">&amp;</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">add_edge</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token comment" spellcheck="true">//    int x = 1, f = 0;</span><span class="token comment" spellcheck="true">//    if (dfs(&amp;x, &amp;f) == 0) {</span><span class="token comment" spellcheck="true">//        printf("-1\n");</span><span class="token comment" spellcheck="true">//        return 0;</span><span class="token comment" spellcheck="true">//    }</span>    <span class="token function">SPFA</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> dis<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">2000000000</span> <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">:</span> dis<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//注：使用SPFA不需要判断能否到达n点，只需初始化为极小值 </span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="拓扑排序题解思路"><a href="#拓扑排序题解思路" class="headerlink" title="拓扑排序题解思路"></a>拓扑排序题解思路</h4><ul><li>首先提前判断1到n点是否连通，不连通直接输出-1；</li><li></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 图论 </tag>
            
            <tag> 每日刷题计划 </tag>
            
            <tag> SPFA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C语言第三章讲义</title>
      <link href="posts/434e.html"/>
      <url>posts/434e.html</url>
      
        <content type="html"><![CDATA[<h3 id="认识最简单的常量与变量"><a href="#认识最简单的常量与变量" class="headerlink" title="认识最简单的常量与变量"></a>认识最简单的常量与变量</h3><h4 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h4><p><strong>理解</strong></p><ul><li><strong>没有被定义&amp;在程序运行中不能改变&amp;可以直接使用</strong></li></ul><h5 id="（1）整型常量"><a href="#（1）整型常量" class="headerlink" title="（1）整型常量"></a>（1）整型常量</h5><ul><li>表现形式为整数。</li></ul><h5 id="（2）实型常量"><a href="#（2）实型常量" class="headerlink" title="（2）实型常量"></a>（2）实型常量</h5><ul><li>十进制小数形式表现，表现通式为<strong>a.b</strong>，小数点左右为整数。</li><li>还有指数形式，<strong>也就是中学学过的科学计数法</strong>，表现通式为<strong>aEb或者aeb</strong>，其中a为整数或者小数，b为整数，a&amp;b缺一不可。</li></ul><h5 id="（3）字符常量"><a href="#（3）字符常量" class="headerlink" title="（3）字符常量"></a>（3）字符常量</h5><p><strong>普通字符</strong></p><ul><li>由单撇号括起来的<strong>一个字符</strong>，不包含单撇号；</li></ul><p><strong>转义字符</strong></p><ul><li>以<strong>字符 ‘ \ ‘开头的字符序列</strong></li><li></li><li>常用转义字符如下</li></ul><table><thead><tr><th>转义字符</th><th>意义</th><th>ASCII码值（十进制）</th></tr></thead><tbody><tr><td>\a</td><td>响铃(BEL)</td><td>007</td></tr><tr><td>\b</td><td>退格(BS) ，将当前位置移到前一列</td><td>008</td></tr><tr><td>\f</td><td>换页(FF)，将当前位置移到下页开头</td><td>012</td></tr><tr><td>\n</td><td>换行(LF) ，将当前位置移到下一行开头</td><td>010</td></tr><tr><td>\r</td><td>回车(CR) ，将当前位置移到本行开头</td><td>013</td></tr><tr><td>\t</td><td>水平制表(HT) （跳到下一个TAB位置）</td><td>009</td></tr><tr><td>\v</td><td>垂直制表(VT)</td><td>011</td></tr><tr><td>\ \</td><td>输出一个反斜线字符’’'</td><td>092</td></tr><tr><td>\ ‘</td><td>输出一个单引号（撇号）字符</td><td>039</td></tr><tr><td>\ “</td><td>输出一个双引号字符</td><td>034</td></tr><tr><td>?</td><td>输出一个问号</td><td>063</td></tr><tr><td>\0</td><td>空字符(NUL)</td><td>000</td></tr><tr><td>\ooo</td><td>3位八进制数所代表的任意字符</td><td>三位八进制</td></tr><tr><td>\xhh</td><td>十六进制所代表的任意字符</td><td>十六进制</td></tr></tbody></table><h5 id="（字符串常量）"><a href="#（字符串常量）" class="headerlink" title="（字符串常量）"></a>（字符串常量）</h5><ul><li>由双撇号括起来的多个字符，<strong>不包括双撇号</strong>。</li></ul><h5 id="（符号常量）-（宏）"><a href="#（符号常量）-（宏）" class="headerlink" title="（符号常量）| （宏）"></a>（符号常量）| （宏）</h5><ul><li><p><strong>利用#define指令</strong>，指定用一个字符名称代表一个常量。如：</p></li><li><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">define</span> PI 3.1415926     </span><span class="token comment" spellcheck="true">// 圆周率</span><span class="token macro property">#<span class="token directive keyword">define</span> RADIUS 4         </span><span class="token comment" spellcheck="true">// 半径</span></code></pre></li><li><p>显而易见，直接看出来代表啥意思！！！</p></li></ul><h5 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h5><p><strong>符号常量不占用内存，符号常量在预编译阶段就已经变成字面常量，预编译后就不存在了</strong></p><p><strong>常量占用内存空间</strong></p><p><strong>C语言区分大小写</strong></p><h4 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h4><p><strong>理解</strong></p><ul><li><p>使用前先定义，在内存分配一块存储的空间给变量存储变量值。定义必须指出变量名字与类型。如</p></li><li><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></code></pre></li><li><p>其中，a为变量名，1为变量值。</p></li></ul><h5 id="（1）整形变量"><a href="#（1）整形变量" class="headerlink" title="（1）整形变量"></a>（1）整形变量</h5><ul><li><pre class=" language-c"><code class="language-c"><span class="token keyword">short</span> <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>             <span class="token comment" spellcheck="true">// 定义一个短整形变量</span><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>                   <span class="token comment" spellcheck="true">// 定义一个基本整形变量</span><span class="token keyword">long</span> <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>              <span class="token comment" spellcheck="true">// 定义一个长整形变量</span><span class="token keyword">long</span> <span class="token keyword">long</span> <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>         <span class="token comment" spellcheck="true">// 定义一个双长整形变量</span></code></pre></li><li><p>对于整形变量所占字节数和其取值范围具体看书本</p></li></ul><h5 id="（2）字符型变量"><a href="#（2）字符型变量" class="headerlink" title="（2）字符型变量"></a>（2）字符型变量</h5><ul><li><pre class=" language-c"><code class="language-c"><span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token string">'a'</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//定义一个普通字符ch，值为字符a</span><span class="token keyword">signed</span> ch <span class="token operator">=</span> <span class="token string">'a'</span><span class="token punctuation">;</span>          <span class="token comment" spellcheck="true">//定义一个有符号字符ch，值为字符a</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span> <span class="token operator">=</span> <span class="token string">'a'</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">//定义一个无符号字符ch，值为字符a</span></code></pre></li><li><p>具体看书本</p></li></ul><h5 id="（3）浮点型变量"><a href="#（3）浮点型变量" class="headerlink" title="（3）浮点型变量"></a>（3）浮点型变量</h5><ul><li><pre class=" language-c"><code class="language-c"><span class="token keyword">float</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>         <span class="token comment" spellcheck="true">//定义单精度浮点型变量x，值为1.000000；</span><span class="token keyword">double</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//定义双精度浮点型变量x，值为1.000000</span><span class="token keyword">long</span> <span class="token keyword">double</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//定义长双精度浮点型变量x，值为1.000000；</span></code></pre></li><li><p>具体看书本</p></li></ul><h4 id="常变量"><a href="#常变量" class="headerlink" title="常变量"></a>常变量</h4><p><strong>理解</strong></p><ul><li><p>在<strong>定义变量前</strong>加入C语言关键字<strong>const</strong>，如：</p></li><li><pre class=" language-c"><code class="language-c"><span class="token keyword">const</span> <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span></code></pre></li><li><p>定义一个值恒为3的常变量a</p></li></ul><h3 id="C运算符"><a href="#C运算符" class="headerlink" title="C运算符"></a>C运算符</h3><h4 id="算术运算符"><a href="#算术运算符" class="headerlink" title="算术运算符"></a>算术运算符</h4><p><strong>大前提</strong></p><ul><li><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> A <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> B <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span></code></pre></li></ul><table><thead><tr><th align="left">运算符</th><th align="left">描述</th><th align="left">实例</th></tr></thead><tbody><tr><td align="left">+</td><td align="left">把两个操作数相加</td><td align="left">A + B 将得到 30</td></tr><tr><td align="left">-</td><td align="left">从第一个操作数中减去第二个操作数</td><td align="left">A - B 将得到 -10</td></tr><tr><td align="left">*</td><td align="left">把两个操作数相乘</td><td align="left">A * B 将得到 200</td></tr><tr><td align="left">/</td><td align="left">分子除以分母</td><td align="left">B / A 将得到 2</td></tr><tr><td align="left">%</td><td align="left">取模运算符，整除后的余数，取模运算的变量必须是整型</td><td align="left">B % A 将得到 0</td></tr><tr><td align="left">++</td><td align="left">自增运算符，整数值增加 1</td><td align="left">A++ 将得到 11</td></tr><tr><td align="left">–</td><td align="left">自减运算符，整数值减少 1</td><td align="left">A– 将得到 9</td></tr></tbody></table><h4 id="关系运算符"><a href="#关系运算符" class="headerlink" title="关系运算符"></a>关系运算符</h4><ul><li>进行关系运算符作用后的<strong>条件为（真）1或者（假）0</strong></li></ul><p><strong>大前提</strong></p><ul><li><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> A <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> B <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span></code></pre></li></ul><table><thead><tr><th align="left">运算符</th><th align="left">描述</th><th align="left">实例</th></tr></thead><tbody><tr><td align="left">==</td><td align="left">检查两个操作数的值是否相等，如果相等则条件为真。</td><td align="left">(A == B) 为假。</td></tr><tr><td align="left">!=</td><td align="left">检查两个操作数的值是否相等，如果不相等则条件为真。</td><td align="left">(A != B) 为真。</td></tr><tr><td align="left">&gt;</td><td align="left">检查左操作数的值是否大于右操作数的值，如果是则条件为真。</td><td align="left">(A &gt; B) 为假。</td></tr><tr><td align="left">&lt;</td><td align="left">检查左操作数的值是否小于右操作数的值，如果是则条件为真。</td><td align="left">(A &lt; B) 为真。</td></tr><tr><td align="left">&gt;=</td><td align="left">检查左操作数的值是否大于或等于右操作数的值，如果是则条件为真。</td><td align="left">(A &gt;= B) 为假。</td></tr><tr><td align="left">&lt;=</td><td align="left">检查左操作数的值是否小于或等于右操作数的值，如果是则条件为真。</td><td align="left">(A &lt;= B) 为真。</td></tr></tbody></table><h4 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h4><ul><li>进行关系运算的<strong>返回值为（真）1或者（假）0</strong></li></ul><p><strong>大前提</strong></p><ul><li><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> A <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> B <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></code></pre></li></ul><table><thead><tr><th align="left">运算符</th><th align="left">描述</th><th align="left">实例</th></tr></thead><tbody><tr><td align="left">&amp;&amp;</td><td align="left">逻辑与运算符。如果两个操作数都非零，则条件为真。</td><td align="left">(A &amp;&amp; B) 为假。</td></tr><tr><td align="left">||</td><td align="left">逻辑或运算符。如果两个操作数中有任意一个非零，则条件为真。</td><td align="left">(A || B) 为真。</td></tr><tr><td align="left">!</td><td align="left">逻辑非运算符。用来逆转操作数的逻辑状态。如果条件为真则逻辑非运算符将使其为假。</td><td align="left">!(A &amp;&amp; B) 为真。</td></tr></tbody></table><h4 id="位运算符"><a href="#位运算符" class="headerlink" title="位运算符"></a>位运算符</h4><p><strong>注意位运算符作用于二进制位，并逐位执行操作</strong></p><table><thead><tr><th align="left">p</th><th align="left">q</th><th align="left">p &amp; q</th><th align="left">p | q</th><th align="left">p ^ q</th></tr></thead><tbody><tr><td align="left">0</td><td align="left">0</td><td align="left">0</td><td align="left">0</td><td align="left">0</td></tr><tr><td align="left">0</td><td align="left">1</td><td align="left">0</td><td align="left">1</td><td align="left">1</td></tr><tr><td align="left">1</td><td align="left">1</td><td align="left">1</td><td align="left">1</td><td align="left">0</td></tr><tr><td align="left">1</td><td align="left">0</td><td align="left">0</td><td align="left">1</td><td align="left">1</td></tr></tbody></table><p>假设如果 A = 60，且 B = 13，现在以二进制格式表示，它们如下所示：</p><p>A = 0011 1100</p><p>B = 0000 1101</p><p>-———————</p><p>A&amp;B = 0000 1100</p><p>A|B = 0011 1101</p><p>A^B = 0011 0001</p><p>~A = 1100 0011</p><p>下表显示了 C 语言支持的位运算符。假设变量 <strong>A</strong> 的值为 60，变量 <strong>B</strong> 的值为 13，则：</p><table><thead><tr><th align="left">运算符</th><th align="left">描述</th><th align="left">实例</th></tr></thead><tbody><tr><td align="left">&amp;</td><td align="left">按位与操作，按二进制位进行”与”运算。运算规则：<code>0&amp;0=0;    0&amp;1=0;     1&amp;0=0;      1&amp;1=1;</code></td><td align="left">(A &amp; B) 将得到 12，即为 0000 1100</td></tr><tr><td align="left">|</td><td align="left">按位或运算符，按二进制位进行”或”运算。运算规则：`0</td><td align="left">0=0;    0</td></tr><tr><td align="left">^</td><td align="left">异或运算符，按二进制位进行”异或”运算。运算规则：<code>0^0=0;    0^1=1;    1^0=1;   1^1=0;</code></td><td align="left">(A ^ B) 将得到 49，即为 0011 0001</td></tr><tr><td align="left">~</td><td align="left">取反运算符，按二进制位进行”取反”运算。运算规则：<code>~1=-2;    ~0=-1;</code></td><td align="left">(~A ) 将得到 -61，即为 1100 0011，一个有符号二进制数的补码形式。</td></tr><tr><td align="left">&lt;&lt;</td><td align="left">二进制左移运算符。将一个运算对象的各二进制位全部左移若干位（左边的二进制位丢弃，右边补0）。</td><td align="left">A &lt;&lt; 2 将得到 240，即为 1111 0000</td></tr><tr><td align="left">&gt;&gt;</td><td align="left">二进制右移运算符。将一个数的各二进制位全部右移若干位，正数左补0，负数左补1，右边丢弃。</td><td align="left">A &gt;&gt; 2 将得到 15，即为 0000 1111</td></tr></tbody></table><h4 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h4><p>下表列出了 C 语言支持的赋值运算符：</p><table><thead><tr><th align="left">运算符</th><th align="left">描述</th><th align="left">实例</th></tr></thead><tbody><tr><td align="left">=</td><td align="left">简单的赋值运算符，把右边操作数的值赋给左边操作数</td><td align="left">C = A + B 将把 A + B 的值赋给 C</td></tr><tr><td align="left">+=</td><td align="left">加且赋值运算符，把右边操作数加上左边操作数的结果赋值给左边操作数</td><td align="left">C += A 相当于 C = C + A</td></tr><tr><td align="left">-=</td><td align="left">减且赋值运算符，把左边操作数减去右边操作数的结果赋值给左边操作数</td><td align="left">C -= A 相当于 C = C - A</td></tr><tr><td align="left">*=</td><td align="left">乘且赋值运算符，把右边操作数乘以左边操作数的结果赋值给左边操作数</td><td align="left">C *= A 相当于 C = C * A</td></tr><tr><td align="left">/=</td><td align="left">除且赋值运算符，把左边操作数除以右边操作数的结果赋值给左边操作数</td><td align="left">C /= A 相当于 C = C / A</td></tr><tr><td align="left">%=</td><td align="left">求模且赋值运算符，求两个操作数的模赋值给左边操作数</td><td align="left">C %= A 相当于 C = C % A</td></tr><tr><td align="left">&lt;&lt;=</td><td align="left">左移且赋值运算符</td><td align="left">C &lt;&lt;= 2 等同于 C = C &lt;&lt; 2</td></tr><tr><td align="left">&gt;&gt;=</td><td align="left">右移且赋值运算符</td><td align="left">C &gt;&gt;= 2 等同于 C = C &gt;&gt; 2</td></tr><tr><td align="left">&amp;=</td><td align="left">按位与且赋值运算符</td><td align="left">C &amp;= 2 等同于 C = C &amp; 2</td></tr><tr><td align="left">^=</td><td align="left">按位异或且赋值运算符</td><td align="left">C ^= 2 等同于 C = C ^ 2</td></tr><tr><td align="left">|=</td><td align="left">按位或且赋值运算符</td><td align="left">C |= 2 等同于 C = C | 2</td></tr></tbody></table><h4 id="杂项运算符-↦-sizeof-amp-三元"><a href="#杂项运算符-↦-sizeof-amp-三元" class="headerlink" title="杂项运算符 ↦ sizeof &amp; 三元"></a>杂项运算符 ↦ sizeof &amp; 三元</h4><p>下表列出了 C 语言支持的其他一些重要的运算符，包括  <strong>sizeof</strong>  和  <strong>? :</strong> 。</p><table><thead><tr><th align="left">运算符</th><th align="left">描述</th><th align="left">实例</th></tr></thead><tbody><tr><td align="left">sizeof()</td><td align="left">返回变量字节总数的大小。</td><td align="left">sizeof(a) 将返回 4，其中 a 是整数。</td></tr><tr><td align="left">&amp;</td><td align="left">返回变量的地址。</td><td align="left">&amp;a; 将给出变量的实际地址。</td></tr><tr><td align="left">*</td><td align="left">指向一个变量。</td><td align="left">*a; 将指向一个变量。</td></tr><tr><td align="left">? :</td><td align="left">条件表达式</td><td align="left">如果条件为真 ? 则值为 X : 否则值为 Y</td></tr></tbody></table><p><strong>代码演示</strong></p><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span> <span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>   <span class="token keyword">short</span> b<span class="token punctuation">;</span>   <span class="token keyword">double</span> c<span class="token punctuation">;</span>   <span class="token keyword">int</span><span class="token operator">*</span> ptr<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">/* sizeof 运算符实例 */</span>   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Line 1 - 变量 a 的大小 = %lu\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Line 2 - 变量 b 的大小 = %lu\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Line 3 - 变量 c 的大小 = %lu\n"</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">/* &amp; 和 * 运算符实例 */</span>   ptr <span class="token operator">=</span> <span class="token operator">&amp;</span>a<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">/* 'ptr' 现在包含 'a' 的地址 */</span>   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"a 的值是 %d\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"*ptr 是 %d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span>ptr<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">/* 三元运算符实例 */</span>   a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>   b <span class="token operator">=</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">20</span><span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">;</span>   <span class="token function">printf</span><span class="token punctuation">(</span> <span class="token string">"b 的值是 %d\n"</span><span class="token punctuation">,</span> b <span class="token punctuation">)</span><span class="token punctuation">;</span>    b <span class="token operator">=</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">20</span><span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">;</span>   <span class="token function">printf</span><span class="token punctuation">(</span> <span class="token string">"b 的值是 %d\n"</span><span class="token punctuation">,</span> b <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>结果</strong></p><pre class=" language-ABAP"><code class="language-ABAP">Line 1 - 变量 a 的大小 = 4Line 2 - 变量 b 的大小 = 2Line 3 - 变量 c 的大小 = 8a 的值是 4*ptr 是 4b 的值是 30b 的值是 20</code></pre><h4 id="算术表达式-amp-运算符的优先级-amp-结合性"><a href="#算术表达式-amp-运算符的优先级-amp-结合性" class="headerlink" title="算术表达式&amp;运算符的优先级&amp;结合性"></a>算术表达式&amp;运算符的优先级&amp;结合性</h4><p>运算符的优先级确定表达式中项的组合。这会影响到一个表达式如何计算。某些运算符比其他运算符有更高的优先级，例如，乘除运算符具有比加减运算符更高的优先级。</p><p>例如 x = 7 + 3 * 2，在这里，x 被赋值为 13，而不是 20，因为运算符 * 具有比 + 更高的优先级，所以首先计算乘法 3*2，然后再加上 7。</p><p>下表将按运算符优先级从高到低列出各个运算符，具有较高优先级的运算符出现在表格的上面，具有较低优先级的运算符出现在表格的下面。在表达式中，较高优先级的运算符会优先被计算。</p><table><thead><tr><th>优先级</th><th>运算符</th><th>结合律</th></tr></thead><tbody><tr><td>1</td><td>后缀运算符：[]   ()   ·   -&gt;   ++   –(类型名称){列表}</td><td>从左到右</td></tr><tr><td>2</td><td>一元运算符：++   –   !   ~   +   -   *   &amp;   sizeof_Alignof</td><td>从右到左</td></tr><tr><td>3</td><td>类型转换运算符：(类型名称)</td><td>从右到左</td></tr><tr><td>4</td><td>乘除法运算符：*   /   %</td><td>从左到右</td></tr><tr><td>5</td><td>加减法运算符：+   -</td><td>从左到右</td></tr><tr><td>6</td><td>移位运算符：&lt;&lt;   &gt;&gt;</td><td>从左到右</td></tr><tr><td>7</td><td>关系运算符：&lt;&lt;=   &gt;&gt;=</td><td>从左到右</td></tr><tr><td>8</td><td>相等运算符：==   !=</td><td>从左到右</td></tr><tr><td>9</td><td>位运算符 AND：&amp;</td><td>从左到右</td></tr><tr><td>10</td><td>位运算符 XOR：^</td><td>从左到右</td></tr><tr><td>11</td><td>位运算符 OR：|</td><td>从左到右</td></tr><tr><td>12</td><td>逻辑运算符 AND：&amp;&amp;</td><td>从左到右</td></tr><tr><td>13</td><td>逻辑运算符 OR：||</td><td>从左到右</td></tr><tr><td>14</td><td>条件运算符：?:</td><td>从右到左</td></tr><tr><td>15</td><td>赋值运算符：    =     +=     -=    *=    /=    %=    &amp;=    ^=    |=     &lt;&lt;=    &gt;&gt;=</td><td>从右到左</td></tr><tr><td>16</td><td>逗号运算符：，</td><td></td></tr></tbody></table><p><strong>代码演示</strong></p><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>   <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>   <span class="token keyword">int</span> c <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span>   <span class="token keyword">int</span> d <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>   <span class="token keyword">int</span> e<span class="token punctuation">;</span>    e <span class="token operator">=</span> <span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span> <span class="token operator">*</span> c <span class="token operator">/</span> d<span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">// ( 30 * 15 ) / 5</span>   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"(a + b) * c / d 的值是 %d\n"</span><span class="token punctuation">,</span>  e <span class="token punctuation">)</span><span class="token punctuation">;</span>    e <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span> <span class="token operator">*</span> c<span class="token punctuation">)</span> <span class="token operator">/</span> d<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// (30 * 15 ) / 5</span>   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"((a + b) * c) / d 的值是 %d\n"</span> <span class="token punctuation">,</span>  e <span class="token punctuation">)</span><span class="token punctuation">;</span>    e <span class="token operator">=</span> <span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>c <span class="token operator">/</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">// (30) * (15/5)</span>   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"(a + b) * (c / d) 的值是 %d\n"</span><span class="token punctuation">,</span>  e <span class="token punctuation">)</span><span class="token punctuation">;</span>    e <span class="token operator">=</span> a <span class="token operator">+</span> <span class="token punctuation">(</span>b <span class="token operator">*</span> c<span class="token punctuation">)</span> <span class="token operator">/</span> d<span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//  20 + (150/5)</span>   <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"a + (b * c) / d 的值是 %d\n"</span> <span class="token punctuation">,</span>  e <span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>结果</strong></p><pre class=" language-apl"><code class="language-apl"><span class="token punctuation">(</span>a <span class="token function">+</span> b<span class="token punctuation">)</span> <span class="token function">*</span> c <span class="token monadic-operator operator">/</span> d 的值是 <span class="token number">90</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a <span class="token function">+</span> b<span class="token punctuation">)</span> <span class="token function">*</span> c<span class="token punctuation">)</span> <span class="token monadic-operator operator">/</span> d 的值是 <span class="token number">90</span><span class="token punctuation">(</span>a <span class="token function">+</span> b<span class="token punctuation">)</span> <span class="token function">*</span> <span class="token punctuation">(</span>c <span class="token monadic-operator operator">/</span> d<span class="token punctuation">)</span> 的值是 <span class="token number">90</span>a <span class="token function">+</span> <span class="token punctuation">(</span>b <span class="token function">*</span> c<span class="token punctuation">)</span> <span class="token monadic-operator operator">/</span> d 的值是 <span class="token number">50</span></code></pre><h3 id="输入与输出"><a href="#输入与输出" class="headerlink" title="输入与输出"></a>输入与输出</h3><p><strong>理解</strong></p><ul><li>用户从键盘输入数据，输出数据到</li><li>从文件读取数据，输入数据到文件</li></ul><h4 id="输入函数"><a href="#输入函数" class="headerlink" title="输入函数"></a>输入函数</h4><ul><li>scanf()：和 printf() 类似，scanf() 可以输入多种类型的数据。</li><li>gets()：获取一行数据，并作为字符串处理。</li><li>getchar()、getche()、getch()：这三个函数都用于输入单个字符。</li></ul><h4 id="输出函数"><a href="#输出函数" class="headerlink" title="输出函数"></a>输出函数</h4><ul><li>puts()：只能输出字符串，并且输出结束后会自动换行。</li><li>putchar()：只能输出单个字符。</li><li>printf()：可以输出各种类型的数据。</li></ul><p><strong>注意</strong></p><hr><p>scanf() 是最灵活、最复杂、最常用的输入函数，但它不能完全取代其他函数，大家都要有所了解。</p><p>printf() 是最灵活、最复杂、最常用的输出函数，完全可以替代 puts() 和 putchar()，大家一定要掌握。</p><hr><h4 id="printf-amp-scanf-的初级用法"><a href="#printf-amp-scanf-的初级用法" class="headerlink" title="printf()&amp;scanf()的初级用法"></a>printf()&amp;scanf()的初级用法</h4><h4 id="scanf"><a href="#scanf" class="headerlink" title="scanf()"></a>scanf()</h4><ul><li>scanf 是 scan format 的缩写，意思是格式化扫描，也就是从键盘获得用户输入，和 printf 的功能正好相反。</li><li>声明：int scanf(const char *format, …);</li><li><strong>format</strong> – 这是 C 字符串，包含了以下各项中的一个或多个：<em>空格字符、非空格字符</em> 和 <em>format 说明符</em>。</li></ul><h4 id="printf"><a href="#printf" class="headerlink" title="printf()"></a>printf()</h4><ul><li><strong>format</strong> – 这是字符串，包含了要被写入到标准输出 stdout 的文本。</li><li>声明：int printf(const char *format, …);</li></ul><p><strong>scanf 类型说明符：</strong></p><hr><table><thead><tr><th align="left">类型</th><th align="left">合格的输入</th><th align="left">参数的类型</th></tr></thead><tbody><tr><td align="left">%a、%A</td><td align="left">读入一个浮点数、十六进制数字（仅 C99 有效）。</td><td align="left">float *</td></tr><tr><td align="left">%c</td><td align="left">单个字符：读取下一个字符。如果指定了一个不为 1 的宽度 width，函数会读取 width 个字符，并通过参数传递，把它们存储在数组中连续位置。在末尾不会追加空字符。</td><td align="left">char *</td></tr><tr><td align="left">%d</td><td align="left">十进制整数：数字前面的 + 或 - 号是可选的。</td><td align="left">int *</td></tr><tr><td align="left">%e、%E、%f、%F、%g、%G</td><td align="left">浮点数：包含了一个小数点、一个可选的前置符号 + 或 -、一个可选的后置字符 e 或 E，以及一个十进制数字。两个有效的实例 -732.103 和 7.12e4</td><td align="left">float *</td></tr><tr><td align="left">%i</td><td align="left">读入十进制，八进制，十六进制整数 。</td><td align="left">int *</td></tr><tr><td align="left">%o</td><td align="left">八进制整数。</td><td align="left">int *</td></tr><tr><td align="left">%s</td><td align="left">字符串。这将读取连续字符，直到遇到一个空格字符（空格字符可以是空白、换行和制表符）。</td><td align="left">char *</td></tr><tr><td align="left">%u</td><td align="left">无符号的十进制整数。</td><td align="left">unsigned int *</td></tr><tr><td align="left">%x、%X</td><td align="left">十六进制整数。</td><td align="left">int *</td></tr><tr><td align="left">%p</td><td align="left">读入一个指针 。</td><td align="left"></td></tr><tr><td align="left">%[]</td><td align="left">扫描字符集合 。</td><td align="left"></td></tr><tr><td align="left">%lf</td><td align="left">读入一个double类型的变量值</td><td align="left">double *</td></tr><tr><td align="left">%%</td><td align="left">读 % 符号。</td><td align="left"></td></tr></tbody></table><ul><li><strong>附加参数</strong> – 根据不同的 format 字符串，函数可能需要一系列的附加参数，每个参数包含了一个要被插入的值，替换了 format 参数中指定的每个 % 标签。参数的个数应与 % 标签的个数相同。</li></ul><p><strong>printf 类型说明符：</strong></p><hr><table><thead><tr><th align="left">格式字符</th><th align="left">意义</th></tr></thead><tbody><tr><td align="left">%d</td><td align="left">以十进制形式输出带符号整数(正数不输出符号)</td></tr><tr><td align="left">%o</td><td align="left">以八进制形式输出无符号整数(不输出前缀0)</td></tr><tr><td align="left">%x,%X</td><td align="left">以十六进制形式输出无符号整数(不输出前缀Ox)</td></tr><tr><td align="left">%u</td><td align="left">以十进制形式输出无符号整数</td></tr><tr><td align="left">%f</td><td align="left">以小数形式输出单精度浮点型变量</td></tr><tr><td align="left">%e,%E</td><td align="left">以指数形式输出单、双精度实数</td></tr><tr><td align="left">%g,%G</td><td align="left">以%f或%e中较短的输出宽度输出单、双精度实数</td></tr><tr><td align="left">%c</td><td align="left">输出单个字符</td></tr><tr><td align="left">%s</td><td align="left">输出字符串</td></tr><tr><td align="left">%p</td><td align="left">输出指针地址</td></tr><tr><td align="left">%lu</td><td align="left">32位无符号整数</td></tr><tr><td align="left">%lf</td><td align="left">以小数形式输出双精度浮点型变量</td></tr><tr><td align="left">%llu</td><td align="left">64位无符号整数</td></tr></tbody></table><p><strong>代码演示1</strong></p><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>     <span class="token keyword">int</span> a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">;</span>      <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请输入三个数字："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span><span class="token operator">&amp;</span>b<span class="token punctuation">,</span><span class="token operator">&amp;</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d,%d,%d\n"</span><span class="token punctuation">,</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></code></pre><p><strong>输出1</strong></p><pre class=" language-apl"><code class="language-apl">请输入三个数字：<span class="token number">1</span> <span class="token number">2</span> <span class="token number">3</span><span class="token number">1</span><span class="token function">,</span><span class="token number">2</span><span class="token function">,</span><span class="token number">3</span></code></pre><p><strong>解析</strong></p><ul><li><strong>&amp;a、&amp;b、&amp;c</strong> 中的 <strong>&amp;</strong> 是地址运算符，分别获得这三个变量的内存地址。</li><li><strong>%d%d%d</strong> 是按十进值格式输入三个数值。输入时，在两个数据之间可以用一个或多个空格、tab 键、回车键分隔。</li></ul><p><strong>注意</strong></p><hr><p>如果使用 <strong>,</strong> 来分隔输入的 <strong>%d</strong>, 相应的输入时也需要添加 <strong>,</strong>:</p><p>输入时 <strong>,</strong> 前一定要紧跟在数字后面，数字与 <strong>,</strong> 之间不能有空格。</p><hr><p><strong>代码演示2</strong></p><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">;</span>     <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请输入三个数字："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d, %d, %d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span><span class="token operator">&amp;</span>b<span class="token punctuation">,</span><span class="token operator">&amp;</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d, %d, %d\n"</span><span class="token punctuation">,</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>输出2</strong></p><pre class=" language-apl"><code class="language-apl">请输入三个数字：<span class="token number">1</span><span class="token function">,</span> <span class="token number">2</span><span class="token function">,</span> <span class="token number">3</span><span class="token number">1</span><span class="token function">,</span> <span class="token number">2</span><span class="token function">,</span> <span class="token number">3</span></code></pre><p><strong>代码演示3</strong></p><ul><li>在用 %c 输入时，<strong>空格和”转义字符”均作为有效字符</strong>。</li></ul><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">char</span> a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">;</span>     <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"请输入三个字符："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%c%c%c"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>a<span class="token punctuation">,</span><span class="token operator">&amp;</span>b<span class="token punctuation">,</span><span class="token operator">&amp;</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%c,%c,%c\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>输出3</strong></p><pre class=" language-apl"><code class="language-apl">请输入三个字符：gdfg<span class="token function">,</span>d<span class="token function">,</span>f</code></pre><p><strong>代码演示4</strong></p><pre class=" language-C"><code class="language-C">#include<stdio.h>int main() {    char a,b,c;     printf("请输入三个字符：");    scanf("%c %c %c",&a,&b,&c);     printf("%c,%c,%c\n", a,b,c);    return 0;}</code></pre><p><strong>输出4</strong></p><pre class=" language-c"><code class="language-c">请输入三个字符：d f gd<span class="token punctuation">,</span>f<span class="token punctuation">,</span>g</code></pre><h4 id="printf-amp-scanf-的高级用法"><a href="#printf-amp-scanf-的高级用法" class="headerlink" title="printf()&amp;scanf()的高级用法"></a>printf()&amp;scanf()的高级用法</h4><h5 id="清空缓冲区"><a href="#清空缓冲区" class="headerlink" title="清空缓冲区"></a>清空缓冲区</h5><p><strong>缘由</strong></p><ul><li>因为输入缓冲区是行缓冲模式，用户按下回车键会产生换行符，结束本次输入，然后输入函数开始读取。</li></ul><pre class=" language-c"><code class="language-c"><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%*[^ ]"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%*c"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h5 id="丢弃读取到的字符"><a href="#丢弃读取到的字符" class="headerlink" title="丢弃读取到的字符"></a>丢弃读取到的字符</h5><ul><li><p>在 % 后面加一个*</p></li><li><pre class=" language-c"><code class="language-c"> <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%*d"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">// %*d 表示读取一个整数并丢弃；</span> <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%*[a-z]c"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">// %*[a-z] 表示读取小写字母并丢弃；</span></code></pre></li></ul><pre class=" language-apl"><code class="language-apl">%<span class="token function">*</span>d 表示读取一个整数并丢弃；%<span class="token function">*</span><span class="token punctuation">[</span>a<span class="token function">-</span>z<span class="token punctuation">]</span> 表示读取小写字母并丢弃；%<span class="token function">*</span><span class="token punctuation">[</span>^<span class="token monadic-operator operator">\</span>n<span class="token punctuation">]</span> 表示将换行符以外的字符全部丢弃。</code></pre><h5 id="匹配特定的字符"><a href="#匹配特定的字符" class="headerlink" title="匹配特定的字符"></a>匹配特定的字符</h5><ul><li><p>%s 控制符会匹配除空白符以外的所有字符，它有两个缺点：</p><ul><li><p>%s 不能读取特定的字符，比如只想读取小写字母，或者十进制数字等，%s 就无能为力；</p></li><li><p>%s 读取到的字符串中不能包含空白符，有些情况会比较尴尬，例如，无法将多个单词存放到一个字符串中，因为单词之间就是以空格为分隔的，%s 遇到空格就读取结束了。</p></li></ul></li><li><p>要想解决以上问题，可以使用 scanf() 的另外一种字符匹配方式，就是%[xxx]</p></li><li><p>[ ]包围起来的是需要读取的字符集合。</p></li></ul><pre class=" language-apl"><code class="language-apl">%<span class="token punctuation">[</span>a<span class="token function">-</span>z<span class="token punctuation">]</span> 表示读取 abc<span class="token dyadic-operator operator">.</span><span class="token dyadic-operator operator">.</span><span class="token dyadic-operator operator">.</span>xyz 范围内的字符，也即小写字母；%<span class="token punctuation">[</span>A<span class="token function">-</span>Z<span class="token punctuation">]</span> 表示读取 ABC<span class="token dyadic-operator operator">.</span><span class="token dyadic-operator operator">.</span><span class="token dyadic-operator operator">.</span>XYZ 范围内的字符，也即大写字母；%<span class="token punctuation">[</span><span class="token number">0</span><span class="token function">-</span><span class="token number">9</span><span class="token punctuation">]</span> 表示读取 <span class="token number">012</span><span class="token dyadic-operator operator">.</span><span class="token dyadic-operator operator">.</span><span class="token number">.789</span> 范围内的字符，也即十进制数字。%<span class="token punctuation">[</span>a<span class="token function">-</span>zA<span class="token function">-</span>Z<span class="token punctuation">]</span> 表示读取大写字母和小写字母，也即所有英文字母。%<span class="token punctuation">[</span>a<span class="token function">-</span>z<span class="token function">-</span>A<span class="token function">-</span>Z<span class="token number">0</span><span class="token function">-</span><span class="token number">9</span><span class="token punctuation">]</span> 表示读取所有的英文字母和十进制数字。%<span class="token punctuation">[</span>^<span class="token monadic-operator operator">\</span>n<span class="token punctuation">]</span> 表示读取换行符以外的字符。</code></pre><h5 id="指定读取长度"><a href="#指定读取长度" class="headerlink" title="指定读取长度"></a>指定读取长度</h5><ul><li>格式控制符的中间加一个数字，用来表示读取数据的最大长度</li></ul><pre class=" language-apl"><code class="language-apl">%<span class="token number">2</span>d 表示最多读取两位整数；%<span class="token number">10</span>s 表示读取的字符串的最大长度为 <span class="token number">10</span>，或者说，最多读取 <span class="token number">10</span> 个字符。</code></pre><h4 id="代码演示1"><a href="#代码演示1" class="headerlink" title="代码演示1"></a>代码演示1</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">int</span> b<span class="token punctuation">,</span> c<span class="token punctuation">;</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%*d"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// %*d表示读取一个整数并丢弃；</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">,</span> <span class="token operator">&amp;</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d %d\n"</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%*[^ ]"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//刷新缓冲区 </span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%*[a-z]"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// %*[a-z] 表示读取小写字母并丢弃；</span>     <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">,</span> <span class="token operator">&amp;</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d %d\n"</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%*c"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//刷新缓冲区 </span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%2d%3d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">,</span> <span class="token operator">&amp;</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//   %2d 表示最多读取两位整数；</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d %d\n"</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>结果</strong></p><pre class=" language-apl"><code class="language-apl"><span class="token number">23</span> <span class="token number">34</span> <span class="token number">5</span><span class="token number">34</span> <span class="token number">5</span>s <span class="token number">4353</span> <span class="token number">342</span><span class="token number">4353</span> <span class="token number">342</span><span class="token number">2342893472</span><span class="token number">23</span> <span class="token number">428</span></code></pre><h4 id="代码演示2"><a href="#代码演示2" class="headerlink" title="代码演示2"></a>代码演示2</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;stdio.h></span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%*c"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">//刷新缓冲区 </span>    <span class="token keyword">char</span> <span class="token operator">*</span>s<span class="token punctuation">;</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%[^\n]"</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//表示读取换行符以外的字符。</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>结果</strong></p><pre class=" language-ABAP"><code class="language-ABAP">sjdhfsdjk  rfskdf  89erue 9hjdfh jksjdhfsdjk  rfskdf  89erue 9hjdfh jk</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> c语言 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>农夫寻宝</title>
      <link href="posts/d852.html"/>
      <url>posts/d852.html</url>
      
        <content type="html"><![CDATA[<p><strong>题目：</strong><a href="">https://www.luogu.com.cn/problem/P2910</a></p><h4 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">define</span> min(a, b) ({\    (a) > (b) ? (b) : (a);\})</span><span class="token keyword">const</span> <span class="token keyword">int</span> MAX_N <span class="token operator">=</span> <span class="token number">105</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">/*int head[MAX_N], nex[MAX_N], D[MAX_N], to[MAX_N], cnt_edge;inline int add_edge(int a, int b, int d) {    to[++cnt_edge] = b;    D[cnt_edge] = d;    nex[cnt_edge] = head[a];    head[a] = cnt_edge;    return 1;}*/</span><span class="token keyword">int</span> to_next<span class="token punctuation">[</span><span class="token number">10004</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">;</span><span class="token keyword">long</span> <span class="token keyword">long</span> d<span class="token punctuation">[</span><span class="token number">101</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">101</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//输入数据 </span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">,</span> <span class="token operator">&amp;</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>to_next<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%lld"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>d<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">//  Floyd</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> k <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> l <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> l <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> l<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> r <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> r <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> r<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                d<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>d<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">,</span> d<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">+</span> d<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">long</span> <span class="token keyword">long</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//printf("%lld\n", d[to_next[i - 1]][to_next[i]]); </span>        ans <span class="token operator">+</span><span class="token operator">=</span> d<span class="token punctuation">[</span>to_next<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span>to_next<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%lld\n"</span><span class="token punctuation">,</span> ans<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> Floyd </tag>
            
            <tag> 水题 </tag>
            
            <tag> 洛谷刷题 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>拓扑排序</title>
      <link href="posts/572b.html"/>
      <url>posts/572b.html</url>
      
        <content type="html"><![CDATA[<p><em>定个小目标啊，这几天学会它</em></p><h3 id="拓扑排序"><a href="#拓扑排序" class="headerlink" title="拓扑排序"></a>拓扑排序</h3><p><strong>拓扑排序是一个排序规则，求的是一个序列，并且序列不唯一</strong></p><h4 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h4><ul><li><p>在图论中，<strong>拓扑排序</strong>（Topological Sorting）是一个<strong>有向无环图</strong>（<strong>DAG</strong>, Directed Acyclic Graph）的<strong>所有顶点的线性序列</strong>。</p></li><li><p>且该序列<strong>必须满足</strong>下面两个条件：</p><ul><li>1、 每个顶点出现且只出现一次。</li><li>2、 若存在一条从顶点 A 到顶点 B 的路径，那么在序列中顶点 A 出现在顶点 B 的前面。</li></ul></li></ul><p>​    </p><p>​    </p><pre><code>**注意：只有有向无环图（DAG）才有拓扑排序**</code></pre><h4 id="用处"><a href="#用处" class="headerlink" title="用处"></a>用处</h4><ul><li>判断有向图是否有回路出现</li></ul><h4 id="思想"><a href="#思想" class="headerlink" title="思想"></a>思想</h4><ul><li><strong>（1）在有向图中把所有入度为0的节点入队列；</strong></li><li><strong>（2）从队列中取得入队为0的节点并进行输出，并让所有以它为头的边的尾节点入度减1；</strong></li><li><strong>（3）重复（1）、（2）两步，直至全队列为空。</strong></li></ul><h4 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h4><p><strong>拓扑排序过程中，队列中的元素始终唯1个，则拓扑排序序列唯一，反之，不然！！！</strong></p><h4 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token keyword">const</span> <span class="token keyword">int</span> MAX_N <span class="token operator">=</span> <span class="token number">1e5</span> <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">;</span><span class="token keyword">int</span> q<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">,</span> ans<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//队列, 拓扑排序序列 </span><span class="token keyword">int</span> head<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">,</span> next<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">,</span> to<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">,</span> pen<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">,</span> edge_cnt<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 构造链式前向星</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> cnt_ans<span class="token punctuation">;</span><span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">add_edge</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">,</span> <span class="token keyword">int</span> c<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//a->b = c</span>    to<span class="token punctuation">[</span><span class="token operator">++</span>edge_cnt<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">;</span>    v<span class="token punctuation">[</span>edge_cnt<span class="token punctuation">]</span> <span class="token operator">=</span> c<span class="token punctuation">;</span>    next<span class="token punctuation">[</span>edge_cnt<span class="token punctuation">]</span> <span class="token operator">=</span> head<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">;</span>    head<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">=</span> edge_cnt<span class="token punctuation">;</span>        <span class="token operator">++</span>pen<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// b节点入度加一 </span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">input1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// a->b = c</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">,</span> <span class="token operator">&amp;</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">add_edge</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">input2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//默认边权为1 </span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// a->b = c</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">add_edge</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">output</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> head<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> j<span class="token punctuation">;</span> j <span class="token operator">=</span> next<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"(%d->%d = %d)\t"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> to<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token function">putchar</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">input2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> l <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>pen<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> q<span class="token punctuation">[</span>r<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//入队列 </span>    <span class="token punctuation">}</span>    <span class="token function">output</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token keyword">while</span> <span class="token punctuation">(</span>l <span class="token operator">&lt;</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> tp <span class="token operator">=</span> q<span class="token punctuation">[</span>l<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        ans<span class="token punctuation">[</span>cnt_ans<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> tp<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 输出度为0的节点</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> head<span class="token punctuation">[</span>tp<span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token punctuation">;</span> i <span class="token operator">=</span> next<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">//printf("%d->%d = %d\n", tp, to[i], v[i]);</span>             <span class="token comment" spellcheck="true">//与节点tp连接的节点入度减一 </span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">--</span>pen<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                q<span class="token punctuation">[</span>r<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 进行入队</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>cnt_ans <span class="token operator">==</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            i <span class="token operator">&amp;&amp;</span> <span class="token function">putchar</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"自环\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/*61 3 10001 4 104 5 504 6 1004 2 100*/</span><span class="token comment" spellcheck="true">/*107 55 22 14 1010 33 16 88 99 1*/</span></code></pre><h4 id="输出所有的拓扑排序序列"><a href="#输出所有的拓扑排序序列" class="headerlink" title="输出所有的拓扑排序序列"></a>输出所有的拓扑排序序列</h4><p><strong>利用dfs</strong></p><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">define</span> MAX_N 1000</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">;</span><span class="token keyword">int</span> cnt_edge<span class="token punctuation">,</span> head<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">,</span> next<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">,</span> to<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">,</span> rudu<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">add_edge</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token operator">++</span>rudu<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">;</span>    to<span class="token punctuation">[</span><span class="token operator">++</span>cnt_edge<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">;</span>    next<span class="token punctuation">[</span>cnt_edge<span class="token punctuation">]</span> <span class="token operator">=</span> head<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">;</span>    head<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">=</span> cnt_edge<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> ans<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">,</span> flag<span class="token punctuation">,</span> vis<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">Topological_sorting</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> cnt<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//dfs </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>cnt <span class="token operator">==</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//输出拓扑排序序列</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        flag <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token function">putchar</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>vis<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">||</span> rudu<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>        ans<span class="token punctuation">[</span>cnt<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>        vis<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> head<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> j<span class="token punctuation">;</span> j <span class="token operator">=</span> next<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//与该点连接的点的入度减1 </span>            <span class="token operator">--</span>rudu<span class="token punctuation">[</span>to<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token function">Topological_sorting</span><span class="token punctuation">(</span>cnt <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 回溯 </span>        vis<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> head<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> j<span class="token punctuation">;</span> j <span class="token operator">=</span> next<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">++</span>rudu<span class="token punctuation">[</span>to<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//与该点连接的点的入度加1 </span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">,</span> <span class="token operator">&amp;</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">;</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">add_edge</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">Topological_sorting</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"No\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//存在环 </span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>对于输出最小的拓扑排序序列，得用优先队列</strong></p><p><em>完工</em></p>]]></content>
      
      
      
        <tags>
            
            <tag> 图论 </tag>
            
            <tag> 排序算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>直径公共边</title>
      <link href="posts/71b9.html"/>
      <url>posts/71b9.html</url>
      
        <content type="html"><![CDATA[<h4 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h4><p> 小Q最近学习了一些图论知识。根据课本，有如下定义。</p><p> 树:无回路且连通的无向图，每条边都有正整数的权值来表示其长度。如果一棵树有N个节点，可 以证明其有且仅有N-1 条边。</p><p> 路径:一棵树上，任意两个节点之间最多有一条简单路径。我们用 dis(a,b) 表示点a和点b的路径上各边长度之和。称dis(a,b)为a、b两个节点间的距离。</p><p> 直径:一棵树上，最长的路径为树的直径。树的直径可能不是唯一的。</p><p> 现在小Q想知道，对于给定的一棵树，其直径的长度是多少，以及有多少条边满足所有的直径都经过该边。</p><hr><h4 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h4><p> 第一行包含一个整数N(1≤N≤200000)，表示节点数。</p><p> 接下来N−1行，每行三个整数a,b,c，表示点a和点b之间有一条长度为c的无向边。</p><h4 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h4><p> 共两行。第一行一个整数，表示直径的长度。第二行一个整数，表示被所有直径经过的边的数量。</p><h4 id="输入样例1"><a href="#输入样例1" class="headerlink" title="输入样例1"></a>输入样例1</h4><pre><code>63 1 10001 4 104 2 1004 5 504 6 100</code></pre><h4 id="输出样例1"><a href="#输出样例1" class="headerlink" title="输出样例1"></a>输出样例1</h4><pre><code>11102</code></pre><hr><h4 id="数据规模与限定"><a href="#数据规模与限定" class="headerlink" title="数据规模与限定"></a>数据规模与限定</h4><p>时间限制：1 s</p><p>内存限制：64 M</p><p><strong>定义一条主直径，其它为次直径，直径的公共边上的点到达所以直径的端点距离相同</strong></p><h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><ul><li>思路都在注释了</li><li>dfs求出一条直径</li><li>记录直径前驱和后继方向</li><li>保留直径上的点到左端点（或者右端点）的距离</li><li>再求一遍直径上面的点到达非直径上面的点的最大距离</li><li>最后处理得到直径公共边的左端点或者右端点</li><li>再遍历公共边，即可得到公共边数量</li></ul><h4 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> MAX_N <span class="token operator">=</span> <span class="token number">2e5</span><span class="token operator">+</span><span class="token number">5</span><span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> ex<span class="token punctuation">,</span> cnt<span class="token punctuation">;</span><span class="token keyword">long</span> <span class="token keyword">long</span> ans<span class="token punctuation">;</span><span class="token keyword">int</span> l<span class="token punctuation">,</span> r<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 直径两个端点</span><span class="token comment" spellcheck="true">//链式前向星 </span><span class="token keyword">int</span> head<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">,</span> to<span class="token punctuation">[</span>MAX_N <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> nex<span class="token punctuation">[</span>MAX_N <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span>MAX_N <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> edge_cnt<span class="token punctuation">;</span> <span class="token keyword">int</span> per<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">,</span> ne<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">,</span> vis<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">long</span> <span class="token keyword">long</span> dis<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">,</span> disa<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 加边 </span><span class="token keyword">inline</span> <span class="token keyword">void</span> <span class="token function">add_edge</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">,</span> <span class="token keyword">int</span> c<span class="token punctuation">)</span> <span class="token punctuation">{</span>    to<span class="token punctuation">[</span><span class="token operator">++</span>edge_cnt<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">;</span>    v<span class="token punctuation">[</span>edge_cnt<span class="token punctuation">]</span> <span class="token operator">=</span> c<span class="token punctuation">;</span>    nex<span class="token punctuation">[</span>edge_cnt<span class="token punctuation">]</span> <span class="token operator">=</span> head<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">;</span>    head<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">=</span> edge_cnt<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// 利用dfs可以省略vis数组，但是有个步骤需要用vis标记主直径上面的点</span><span class="token comment" spellcheck="true">// s记录从根节点走到now的距离，f为now的父节点 </span><span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> now<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">long</span> <span class="token keyword">long</span><span class="token operator">&amp;</span> s<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> f<span class="token punctuation">)</span> <span class="token punctuation">{</span>         <span class="token keyword">if</span> <span class="token punctuation">(</span>s <span class="token operator">></span> ans<span class="token punctuation">)</span> <span class="token punctuation">{</span>        ans <span class="token operator">=</span> s<span class="token punctuation">;</span>        ex <span class="token operator">=</span> now<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> head<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token punctuation">;</span> i <span class="token operator">=</span> nex<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>f <span class="token operator">==</span> to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//防止往上搜</span>        per<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> now<span class="token punctuation">;</span>         dis<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> dis<span class="token punctuation">[</span>now<span class="token punctuation">]</span> <span class="token operator">+</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token function">dfs</span><span class="token punctuation">(</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> s <span class="token operator">+</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> now<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">dfs1</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> now<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">long</span> <span class="token keyword">long</span><span class="token operator">&amp;</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>    vis<span class="token punctuation">[</span>now<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>s <span class="token operator">></span> ans<span class="token punctuation">)</span> <span class="token punctuation">{</span>        ans <span class="token operator">=</span> s<span class="token punctuation">;</span>        ex <span class="token operator">=</span> now<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> head<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token punctuation">;</span> i <span class="token operator">=</span> nex<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>vis<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//防止往上搜</span>        per<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> now<span class="token punctuation">;</span>         dis<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> dis<span class="token punctuation">[</span>now<span class="token punctuation">]</span> <span class="token operator">+</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token function">dfs1</span><span class="token punctuation">(</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> s <span class="token operator">+</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">;</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">,</span> <span class="token operator">&amp;</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">add_edge</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">add_edge</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> a<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    per<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> dis<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//寻找距离1最远的点 </span>    <span class="token comment" spellcheck="true">//printf("ans = %d, ee = %d\n", ans, ex);</span>    l <span class="token operator">=</span> ex<span class="token punctuation">,</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    per<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> dis<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token function">dfs</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 寻找距离l最远的点r </span>    r <span class="token operator">=</span> ex<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//printf("ans = %d, ee = %d\n", ans, ex);</span>    <span class="token comment" spellcheck="true">//printf("主直径两端点：（%d，%d）\n", l, r);</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%lld\n"</span><span class="token punctuation">,</span> dis<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//输出主直径上的点     </span>    <span class="token keyword">int</span> p <span class="token operator">=</span> r<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token punctuation">{</span>        vis<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//标记主直径上的点 </span>        ne<span class="token punctuation">[</span>per<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> p<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//记录从主直径左端点l到右端点r的路径 </span>        disa<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> dis<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//保留主直径上的点到达直径左端点l的距离 </span>        <span class="token comment" spellcheck="true">// 输出从主直径右端点r到左端点l路径上的点，和到达左端点l的距离 </span>        <span class="token comment" spellcheck="true">//printf("%d dis = %d\n", p, dis[p]);</span>        p <span class="token operator">=</span> per<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">;</span>     <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//输出从主直径左端点到右端点的路径 </span><span class="token comment" spellcheck="true">//    p = l;</span><span class="token comment" spellcheck="true">//    while (p) {</span>        <span class="token comment" spellcheck="true">//printf("%d->", p);</span><span class="token comment" spellcheck="true">//        p = ne[p];</span><span class="token comment" spellcheck="true">//    } </span>    <span class="token comment" spellcheck="true">//putchar('\n');</span>              <span class="token comment" spellcheck="true">//从左往右求出主直径上的点到其他非主直径点的最远距离 </span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> l<span class="token punctuation">;</span> i<span class="token punctuation">;</span> i <span class="token operator">=</span> ne<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        ex <span class="token operator">=</span> i<span class="token punctuation">,</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token function">dfs1</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> dis<span class="token punctuation">[</span>ex<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 主直径上的点到达非主直径点的最远距离 </span>        <span class="token comment" spellcheck="true">//printf("%d->%d = %d\n", i, ex, ans);</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//    p = l;</span><span class="token comment" spellcheck="true">//    while (p) {</span><span class="token comment" spellcheck="true">//        printf("p = %d, disa[p] = %lld, dis[p] = %lld\n", p, disa[p], dis[p]);</span><span class="token comment" spellcheck="true">//        p = ne[p];        </span><span class="token comment" spellcheck="true">//    }</span>        <span class="token comment" spellcheck="true">//从右往左找到所有直径共同经过的边的第一个点 </span>    p <span class="token operator">=</span> r<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">&amp;&amp;</span> disa<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">!=</span> dis<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//printf("p = %d, disa[p] = %lld, dis[p] = %lld\n", p, disa[p], dis[p]);</span>        p <span class="token operator">=</span> per<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>disa<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">+</span> dis<span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">!=</span> disa<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//printf("p = %d, disa[p] = %lld, dis[p] = %lld\n", p, disa[p], dis[p]);</span>        p <span class="token operator">=</span> ne<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">++</span>cnt<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> cnt<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 图论 </tag>
            
            <tag> 刷题笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>医院设置</title>
      <link href="posts/c91d.html"/>
      <url>posts/c91d.html</url>
      
        <content type="html"><![CDATA[<h4 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h4><p><strong>链接</strong> ：<a href="">https://www.luogu.com.cn/problem/P1364</a></p><h4 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span>using namespace std<span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">define</span> max(a, b) ({\    (a) > (b) ? (a) : (b);\})</span><span class="token macro property">#<span class="token directive keyword">define</span> min(a, b) ({\    (a) &lt; (b) ? (a) : (b);\})</span><span class="token comment" spellcheck="true">//dis[u]: 表示以u为根的总距离</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> w<span class="token punctuation">[</span><span class="token number">101</span><span class="token punctuation">]</span><span class="token punctuation">,</span> size<span class="token punctuation">[</span><span class="token number">101</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> ans<span class="token punctuation">,</span> dis<span class="token punctuation">[</span><span class="token number">101</span><span class="token punctuation">]</span><span class="token punctuation">;</span>bool fa<span class="token punctuation">[</span><span class="token number">101</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> to<span class="token punctuation">[</span><span class="token number">201</span><span class="token punctuation">]</span><span class="token punctuation">,</span> head<span class="token punctuation">[</span><span class="token number">101</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ne<span class="token punctuation">[</span><span class="token number">201</span><span class="token punctuation">]</span><span class="token punctuation">,</span> cnt <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 链式前向星 </span><span class="token keyword">void</span> <span class="token function">add_edge</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    to<span class="token punctuation">[</span>cnt<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">;</span>    ne<span class="token punctuation">[</span>cnt<span class="token punctuation">]</span> <span class="token operator">=</span> head<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">;</span>    head<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">=</span> cnt<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//求以每个节点为根节点挂的节点个数，包括自身 </span><span class="token keyword">int</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> u<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> f<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> hight<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//fa[u] = f;</span>    size<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">=</span> w<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//w[i]存储i号节点自身节点数量 </span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> head<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token punctuation">;</span> i <span class="token operator">=</span> ne<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> f<span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//下一个点不是父节点</span>        size<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> <span class="token function">dfs</span><span class="token punctuation">(</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> u<span class="token punctuation">,</span> hight <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//自底而上求得所以节点到1号节点的距离 </span>    dis<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> w<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">*</span> hight<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//表示以1为根的总距离，先预处理求得以1为根，f[1]的值</span>    <span class="token keyword">return</span> size<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">dp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> u<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> f<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 树型dp </span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> head<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token punctuation">;</span> i <span class="token operator">=</span> ne<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> f<span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>        dis<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> dis<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">+</span> size<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> size<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>        <span class="token function">dp</span><span class="token punctuation">(</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> u<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    ans <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> dis<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">;</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>w<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token function">add_edge</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">add_edge</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token function">add_edge</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">add_edge</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//以1为根节点，求以每个节点为根节点的树的大小 </span>    ans <span class="token operator">=</span> <span class="token number">0x7fffffff</span><span class="token punctuation">;</span>    <span class="token function">dp</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> ans<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 洛谷刷题 </tag>
            
            <tag> 树形dp </tag>
            
            <tag> 树的重心 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>树的重心与直径</title>
      <link href="posts/a880.html"/>
      <url>posts/a880.html</url>
      
        <content type="html"><![CDATA[<h4 id="树的重心"><a href="#树的重心" class="headerlink" title="树的重心"></a>树的重心</h4><p><strong>定义</strong></p><hr><ul><li>找到一个点，当这个点成为树的根时，最大子树的结点数最小。 </li></ul><hr><p><strong>性质</strong></p><hr><ul><li>1、一棵树最多有两个重心，且相邻。</li><li>2、一棵树添加或者删除一个节点，树的重心最多只移动一条边的位置。</li><li>3、把两棵树通过一条边相连，新的树的重心在原来两棵树重心的连线上。</li><li>4、树中所有点到某个点的距离和中，到重心的距离和是最小的，如果有两个重心，他们的距离和一样。</li><li>5、如果以某个节点为整棵树（n个节点）的重心，那么它的每棵子树的大小都 &lt;= (n / 2)。 </li></ul><hr><p><strong>利用性质1求树的重心</strong></p><h4 id="代码演示一"><a href="#代码演示一" class="headerlink" title="代码演示一"></a>代码演示一</h4><p><em>我感觉这个代码有毒，想哭，每次都用代码二，不过代码思想都一样</em></p><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span>using namespace std<span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">define</span> max(a, b) ({\    (a) > (b) ? (a) : (b);\})</span><span class="token macro property">#<span class="token directive keyword">define</span> min(a, b) ({\    (a) &lt; (b) ? (a) : (b);\})</span><span class="token comment" spellcheck="true">//dis[u]: 表示以u为根的总距离</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> size<span class="token punctuation">[</span><span class="token number">101</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> fa<span class="token punctuation">[</span><span class="token number">101</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> to<span class="token punctuation">[</span><span class="token number">201</span><span class="token punctuation">]</span><span class="token punctuation">,</span> head<span class="token punctuation">[</span><span class="token number">101</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ne<span class="token punctuation">[</span><span class="token number">201</span><span class="token punctuation">]</span><span class="token punctuation">,</span> cnt <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 链式前向星 </span><span class="token comment" spellcheck="true">// 加无向边 </span><span class="token keyword">void</span> <span class="token function">add_edge</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    to<span class="token punctuation">[</span>cnt<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">;</span>    ne<span class="token punctuation">[</span>cnt<span class="token punctuation">]</span> <span class="token operator">=</span> head<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">;</span>    head<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">=</span> cnt<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//求以每个节点为根节点挂的节点个数，包括自身 </span><span class="token keyword">int</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> u<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> f<span class="token punctuation">)</span> <span class="token punctuation">{</span>    fa<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">=</span> f<span class="token punctuation">;</span>    size<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//w[i]存储i号节点自身节点数量</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> head<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token punctuation">;</span> i <span class="token operator">=</span> ne<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> f<span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//下一个点不是父节点</span>        size<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> <span class="token function">dfs</span><span class="token punctuation">(</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> u<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> size<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//输入节点个数</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//输入n - 1条边</span>        <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//输入边的两端</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">add_edge</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">add_edge</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//以1为根节点，求以每个节点为根节点的树的大小 </span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> size<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> mi <span class="token operator">=</span> <span class="token number">0x7fffffff</span><span class="token punctuation">,</span> mi_nu<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 枚举每个节点为根节点 </span>        <span class="token keyword">int</span> tp <span class="token operator">=</span> n <span class="token operator">-</span> size<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 计算以i为根节点的最大子树节点数 </span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> head<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> j<span class="token punctuation">;</span> j <span class="token operator">=</span> ne<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>to<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> fa<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>            tp <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>tp<span class="token punctuation">,</span> size<span class="token punctuation">[</span>to<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 计算最大子树节点数 </span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">// 计算以i为根节点的最大子树的结点数最小值，并记录根节点的编号</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>mi <span class="token operator">></span> tp<span class="token punctuation">)</span> <span class="token punctuation">{</span>             mi_nu <span class="token operator">=</span> i<span class="token punctuation">;</span>            mi <span class="token operator">=</span> tp<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"最大子树的结点数最小值：%d，该节点编号：%d\n"</span><span class="token punctuation">,</span> mi<span class="token punctuation">,</span> mi_nu<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="代码演示二"><a href="#代码演示二" class="headerlink" title="代码演示二"></a>代码演示二</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span>using namespace std<span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">define</span> max(a, b) ({\    (a) > (b) ? (a) : (b);\})</span><span class="token macro property">#<span class="token directive keyword">define</span> min(a, b) ({\    (a) &lt; (b) ? (a) : (b);\})</span><span class="token keyword">const</span> <span class="token keyword">int</span> N <span class="token operator">=</span> <span class="token number">1e5</span> <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> M <span class="token operator">=</span> N <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//dis[u]: 表示以u为根的总距离</span><span class="token keyword">int</span> n<span class="token punctuation">;</span><span class="token keyword">int</span> to<span class="token punctuation">[</span>M<span class="token punctuation">]</span><span class="token punctuation">,</span> head<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">,</span> ne<span class="token punctuation">[</span>M<span class="token punctuation">]</span><span class="token punctuation">,</span> cnt<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 链式前向星 </span><span class="token comment" spellcheck="true">// 加无向边 </span><span class="token keyword">void</span> <span class="token function">add_edge</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    to<span class="token punctuation">[</span><span class="token operator">++</span>cnt<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">;</span>    ne<span class="token punctuation">[</span>cnt<span class="token punctuation">]</span> <span class="token operator">=</span> head<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">;</span>    head<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">=</span> cnt<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> size<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// size[i] = 统计以每个节点i为根节点的树的节点数量 </span>bool vis<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 标记数组 </span><span class="token keyword">int</span> ct <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">int</span> ans <span class="token operator">=</span> N<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 记录最大子树节点数量最小值 </span><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> u<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 计算以u为根的树的节点个数 </span>    size<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 自己本身就是一颗树 </span>    <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 记录最大子树节点数量  </span>    vis<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">=</span> true<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> head<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token punctuation">;</span> i <span class="token operator">=</span> ne<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>vis<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>        size<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">dfs</span><span class="token punctuation">(</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//计算以to[i]为根的树的节点个数 </span>        res <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> size<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 记录最大子树节点数量 </span>        size<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> size<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    res <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> n <span class="token operator">-</span> size<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 记录最大子树节点数量 </span>    <span class="token comment" spellcheck="true">// ans = min(ans, res); </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ans <span class="token operator">></span> res<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 记录最大子树节点数量最小值 </span>        ans <span class="token operator">=</span> res<span class="token punctuation">;</span>        ct <span class="token operator">=</span> u<span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token keyword">return</span> size<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//输入节点个数</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//输入n - 1条边</span>        <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//输入边的两端</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">add_edge</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">add_edge</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 以1为根节点进行搜索 </span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n <span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"size[%d] = %d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> size<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d %d\n"</span><span class="token punctuation">,</span> ct<span class="token punctuation">,</span> ans<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="习题"><a href="#习题" class="headerlink" title="习题"></a>习题</h4><p>洛谷1364医院设置：<a href="">https://www.luogu.com.cn/problem/P1364</a></p><p>题解：<a href="">https://axieyun.top/posts/c91d.html</a></p><p>牛客网保卫村庄：<a href=""></a><a href="https://ac.nowcoder.com/acm/problem/214212">保卫村庄 (nowcoder.com)</a></p><p>题解：<a href="">https://axieyun.top/posts/8419.html0</a></p><h4 id="树的直径"><a href="#树的直径" class="headerlink" title="树的直径"></a>树的直径</h4><p><strong>定义</strong></p><hr><p>带权树上距离最远的两点</p><hr><p><strong>性质</strong></p><hr><p>1、直径两端点一点是叶子节点<br>2、距离任意点最远的点一定是直径的端点，这个基于贪心求直径方法的正确性可以得出<br>3、对于任意两棵树，如果第一棵树的直径两端点为（u，v），第二棵树直径的两端点为（x，y），<br>   用一条边链接这两棵树，那么新树的直径一定是u，v，x，y，其中两个点。<br>4、若一棵树存在多条直径，那么这些直径交与一点且交点是这些直径的中点。<br>5、对于一棵树，如果在一个点的上接一个叶子节点，那么最多会改变直径的一个端点。 </p><hr><p><strong>树的直径有两种求法</strong></p><ul><li>dfs：利用性质二，利用两边dfs即可求得直径，O(N + M)时间复杂度。</li><li>优点：能求出直径路径。</li><li>缺点：在有负权边的树无法使用。</li><li>树形dp：我们假设dis[v]为以v为根的子树到u的最长距离，那么取v的父节点u，将v和u的子树到各自的最长距离拼接在一起，即ans = max(ans, dis[v] + dis[u] + e[i].vi)，递归到叶子节点，在回溯的过程中维护dis[u] = max(dis[u], dis[v] + e[i].vi)即可。</li><li>优点：代码简单，可以求出以当前节点为根时的最长链，O(N)时间复杂度。</li><li>缺点：不能求出直径路径。</li></ul><p><strong>DFS利用性质二求解树的直径</strong></p><p>、</p><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/*方法：随便把一个节点x当作根节点，从该节点出发，找到距离x最远的点l即为直径的一个端点；再从l出发，找到距离l最远的点r，r即为直径的另一个端点。在第二遍dfs过程中，我们可以记录这条直径的路径。*/</span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> MAX_N <span class="token operator">=</span> <span class="token number">1e5</span><span class="token operator">+</span><span class="token number">5</span><span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> ans<span class="token punctuation">,</span> ex<span class="token punctuation">;</span><span class="token keyword">int</span> l<span class="token punctuation">,</span> r<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 直径两个端点</span><span class="token comment" spellcheck="true">//链式前向星 </span><span class="token keyword">int</span> head<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">,</span> to<span class="token punctuation">[</span>MAX_N <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> nex<span class="token punctuation">[</span>MAX_N <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span>MAX_N <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> edge_cnt<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 加边 </span><span class="token keyword">void</span> <span class="token function">add_edge</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">,</span> <span class="token keyword">int</span> c<span class="token punctuation">)</span> <span class="token punctuation">{</span>    to<span class="token punctuation">[</span><span class="token operator">++</span>edge_cnt<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">;</span>    v<span class="token punctuation">[</span>edge_cnt<span class="token punctuation">]</span> <span class="token operator">=</span> c<span class="token punctuation">;</span>    nex<span class="token punctuation">[</span>edge_cnt<span class="token punctuation">]</span> <span class="token operator">=</span> head<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">;</span>    head<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">=</span> edge_cnt<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> pre<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">// s记录从根节点走到now的距离，f为now的父节点 </span><span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> now<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> s<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> f<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//可以省略f，增加vis数组标记节点</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>s <span class="token operator">></span> ans<span class="token punctuation">)</span> <span class="token punctuation">{</span>        pre<span class="token punctuation">[</span>now<span class="token punctuation">]</span> <span class="token operator">=</span> ex<span class="token punctuation">;</span>        ans <span class="token operator">=</span> s<span class="token punctuation">;</span>        ex <span class="token operator">=</span> now<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> head<span class="token punctuation">[</span>now<span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token punctuation">;</span> i <span class="token operator">=</span> nex<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>f <span class="token operator">==</span> to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//防止往上搜</span>        <span class="token function">dfs</span><span class="token punctuation">(</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> s <span class="token operator">+</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> now<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">;</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">,</span> <span class="token operator">&amp;</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">add_edge</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">add_edge</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> a<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//寻找距离1最远的点 </span>    <span class="token comment" spellcheck="true">//printf("ans = %d, ee = %d\n", ans, ex);</span>        l <span class="token operator">=</span> ex<span class="token punctuation">,</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    pre<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token function">dfs</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 寻找距离l最远的点r </span>    r <span class="token operator">=</span> ex<span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//printf("ans = %d, ee = %d\n", ans, ex);</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"直径两端点：（%d，%d）\n"</span><span class="token punctuation">,</span> l<span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> ans<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//直径长度 </span>        <span class="token comment" spellcheck="true">//输出直径路径 </span>    ex <span class="token operator">=</span> r<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ex<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d->"</span><span class="token punctuation">,</span> ex<span class="token punctuation">)</span><span class="token punctuation">;</span>        ex <span class="token operator">=</span> pre<span class="token punctuation">[</span>ex<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"0\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>树形DP</strong></p><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span>using namespace std<span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">define</span> max(a, b) ({\    (a) > (b) ? (a) : (b);\})</span><span class="token keyword">const</span> <span class="token keyword">int</span> MAX_N <span class="token operator">=</span> <span class="token number">1e5</span><span class="token operator">+</span><span class="token number">5</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//d[i]记录i为根节点时，向下的最长距离； </span><span class="token comment" spellcheck="true">// ans记录直径长度</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> ans<span class="token punctuation">,</span> d<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> l<span class="token punctuation">,</span> r<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 直径两个端点</span><span class="token comment" spellcheck="true">//链式前向星</span><span class="token keyword">int</span> head<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">,</span> to<span class="token punctuation">[</span>MAX_N <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> nex<span class="token punctuation">[</span>MAX_N <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span>MAX_N <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> edge_cnt<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 加边 </span><span class="token keyword">void</span> <span class="token function">add_edge</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">,</span> <span class="token keyword">int</span> c<span class="token punctuation">)</span> <span class="token punctuation">{</span>    to<span class="token punctuation">[</span><span class="token operator">++</span>edge_cnt<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">;</span>    v<span class="token punctuation">[</span>edge_cnt<span class="token punctuation">]</span> <span class="token operator">=</span> c<span class="token punctuation">;</span>    nex<span class="token punctuation">[</span>edge_cnt<span class="token punctuation">]</span> <span class="token operator">=</span> head<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">;</span>    head<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">=</span> edge_cnt<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">dp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> x<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> f<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> head<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token punctuation">;</span> i <span class="token operator">=</span> nex<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> f<span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>        <span class="token function">dp</span><span class="token punctuation">(</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//递归到叶子节点 ，然后回溯回来  </span>        ans <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> d<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">+</span> d<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//跟新子直径长度</span>        d<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>d<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">,</span> d<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//维护</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">;</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">,</span> <span class="token operator">&amp;</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">add_edge</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">add_edge</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> a<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">dp</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"d[%d] = %d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> d<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//printf("直径两端点：（%d，%d）\n", l, r);</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> ans<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//直径长度 </span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/*思路：对于有向图&lt;u,v>   d[u][0] 表示 u向子节点（向下）能到达的最远距离d[u][1] 表示 u向子节点能到达的次远距离*/</span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span>using namespace std<span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">define</span> max(a, b) ({\    (a) > (b) ? (a) : (b);\})</span><span class="token keyword">const</span> <span class="token keyword">int</span> MAX_N <span class="token operator">=</span> <span class="token number">1e5</span><span class="token operator">+</span><span class="token number">5</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//d[i][0]记录i为根节点时，向下的最长距离； </span><span class="token comment" spellcheck="true">//d[i][1]记录i为根节点时，向下的次长距离； </span><span class="token comment" spellcheck="true">// ans记录直径长度</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> ans<span class="token punctuation">,</span> d<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> l<span class="token punctuation">,</span> r<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 直径两个端点</span><span class="token comment" spellcheck="true">//链式前向星</span><span class="token keyword">int</span> head<span class="token punctuation">[</span>MAX_N<span class="token punctuation">]</span><span class="token punctuation">,</span> to<span class="token punctuation">[</span>MAX_N <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> nex<span class="token punctuation">[</span>MAX_N <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">[</span>MAX_N <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> edge_cnt<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 加边 </span><span class="token keyword">void</span> <span class="token function">add_edge</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">,</span> <span class="token keyword">int</span> c<span class="token punctuation">)</span> <span class="token punctuation">{</span>    to<span class="token punctuation">[</span><span class="token operator">++</span>edge_cnt<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">;</span>    v<span class="token punctuation">[</span>edge_cnt<span class="token punctuation">]</span> <span class="token operator">=</span> c<span class="token punctuation">;</span>    nex<span class="token punctuation">[</span>edge_cnt<span class="token punctuation">]</span> <span class="token operator">=</span> head<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">;</span>    head<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">=</span> edge_cnt<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">dp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> x<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> f<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> head<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token punctuation">;</span> i <span class="token operator">=</span> nex<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> f<span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>        <span class="token function">dp</span><span class="token punctuation">(</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//递归到叶子节点 ，然后回溯回来  </span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>d<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> d<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//如果以x为根节点的最长链可以被它的儿子to[i]更新</span>            d<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> d<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//那么此时以x为根节点的次长链变为dp[x][0];</span>            d<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> d<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//最长链被更新</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>d<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> d<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//如果不能更新最长链但是却可以更新次长链</span>            d<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> d<span class="token punctuation">[</span>to<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    ans <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> d<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> d<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//跟新经过x的直径长度</span><span class="token punctuation">}</span> <span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">;</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">,</span> <span class="token operator">&amp;</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">add_edge</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">add_edge</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> a<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">dp</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//    for (int i = 1; i &lt;= n; i++) printf("d[%d] = %d\n", i, d[i]);</span>    <span class="token comment" spellcheck="true">//printf("直径两端点：（%d，%d）\n", l, r);</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> ans<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//直径长度 </span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>习题</strong></p><p>海贼oj421直径：<a href="">http://oj.haizeix.com/problem/421</a></p><p>题解 ：<a href="">https://axieyun.top/posts/cf35.html</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> 代码模板 </tag>
            
            <tag> 基础数据结构 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>最短路算法</title>
      <link href="posts/315.html"/>
      <url>posts/315.html</url>
      
        <content type="html"><![CDATA[<h3 id="单源最短路"><a href="#单源最短路" class="headerlink" title="单源最短路"></a>单源最短路</h3><p><strong>固定出发点，求到达其它点的最短距离</strong></p><h4 id="Dijkstra（迪杰斯特拉）算法"><a href="#Dijkstra（迪杰斯特拉）算法" class="headerlink" title="(Dijkstra（迪杰斯特拉）算法"></a><strong>(Dijkstra（迪杰斯特拉）算法</strong></h4><ul><li>不能解决负权边</li></ul><h4 id="堆优化的Dijkstra"><a href="#堆优化的Dijkstra" class="headerlink" title="堆优化的Dijkstra"></a><strong>堆优化的Dijkstra</strong></h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">define</span> MAX_N 100000 </span><span class="token comment" spellcheck="true">//最大点的数量</span><span class="token keyword">struct</span> Node <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//堆优化 </span>    <span class="token keyword">int</span> e<span class="token punctuation">,</span> dis<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// dis表示点s到点e的距离 </span>    bool operator<span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token keyword">const</span> Node<span class="token operator">&amp;</span> a<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> this<span class="token operator">-></span>dis <span class="token operator">></span> a<span class="token punctuation">.</span>dis<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">struct</span> edge <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 某个一条边上的点与b点的距离为v</span>    <span class="token keyword">int</span> b<span class="token punctuation">,</span> v<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">int</span> ans<span class="token punctuation">[</span>MAX_N <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//ans[i] 表示i到起点s的最短距离 </span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span>edge<span class="token operator">></span> <span class="token operator">></span> <span class="token function">ed</span><span class="token punctuation">(</span>MAX_N <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>edge<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//建立邻接表 </span><span class="token keyword">int</span> s<span class="token punctuation">,</span> n<span class="token punctuation">,</span> m<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//分别表示起点，点的个数，边的数量；</span>priority_queue <span class="token operator">&lt;</span>Node<span class="token operator">></span> q<span class="token punctuation">;</span> <span class="token keyword">void</span> <span class="token function">Dijkstra</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">memset</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> <span class="token number">0x3f</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>ans<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//初始化极大值 </span>    q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">{</span>s<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ans<span class="token punctuation">[</span>s<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//队列中存的是局部最优或者全局最优的点、距离 </span>        Node tp <span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>tp<span class="token punctuation">.</span>dis <span class="token operator">></span> ans<span class="token punctuation">[</span>tp<span class="token punctuation">.</span>e<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 当前保留的距离是最短的，不能用tp.dis去更新其他点的最短距离 </span>        <span class="token comment" spellcheck="true">//更新其它点的最短距离 </span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>ed<span class="token punctuation">[</span>tp<span class="token punctuation">.</span>e<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>ans<span class="token punctuation">[</span>ed<span class="token punctuation">[</span>tp<span class="token punctuation">.</span>e<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>b<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> tp<span class="token punctuation">.</span>dis <span class="token operator">+</span> ed<span class="token punctuation">[</span>tp<span class="token punctuation">.</span>e<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>v<span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>            ans<span class="token punctuation">[</span>ed<span class="token punctuation">[</span>tp<span class="token punctuation">.</span>e<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>b<span class="token punctuation">]</span> <span class="token operator">=</span> tp<span class="token punctuation">.</span>dis <span class="token operator">+</span> ed<span class="token punctuation">[</span>tp<span class="token punctuation">.</span>e<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>v<span class="token punctuation">;</span>            q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">{</span>ed<span class="token punctuation">[</span>tp<span class="token punctuation">.</span>e<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>b<span class="token punctuation">,</span> ans<span class="token punctuation">[</span>ed<span class="token punctuation">[</span>tp<span class="token punctuation">.</span>e<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>b<span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h4 id="线段树优化的Dijkstra"><a href="#线段树优化的Dijkstra" class="headerlink" title="线段树优化的Dijkstra"></a><strong>线段树优化的Dijkstra</strong></h4><pre class=" language-c"><code class="language-c"></code></pre><h4 id="斐波拉契堆优化的Dijkstra"><a href="#斐波拉契堆优化的Dijkstra" class="headerlink" title="斐波拉契堆优化的Dijkstra"></a>斐波拉契堆优化的Dijkstra</h4><pre><code></code></pre><h5 id="Bellman-ford"><a href="#Bellman-ford" class="headerlink" title="#### Bellman-ford"></a>#### <strong>Bellman-ford</strong></h5><ul><li>能解决负权边</li></ul><h5 id="小优化"><a href="#小优化" class="headerlink" title="小优化"></a>小优化</h5><pre class=" language-c"><code class="language-c"><span class="token keyword">struct</span> edge <span class="token punctuation">{</span>    <span class="token keyword">int</span> s<span class="token punctuation">,</span> e<span class="token punctuation">,</span> v<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>edge de<span class="token punctuation">[</span><span class="token number">200005</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">,</span> s<span class="token punctuation">,</span> ans<span class="token punctuation">[</span><span class="token number">100005</span><span class="token punctuation">]</span><span class="token punctuation">,</span> edge_cnt<span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">define</span> min(a, b) ({\    (a) > (b) ? (b) : (a);\})</span><span class="token keyword">void</span> <span class="token function">Bellman_ford</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>     <span class="token function">memset</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> <span class="token number">0x3f</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>ans<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ans<span class="token punctuation">[</span>s<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 小优化</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> edge_cnt<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>ans<span class="token punctuation">[</span>de<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>e<span class="token punctuation">]</span> <span class="token operator">></span> ans<span class="token punctuation">[</span>de<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>s<span class="token punctuation">]</span> <span class="token operator">+</span> de<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>v<span class="token punctuation">)</span> <span class="token punctuation">{</span>                ans<span class="token punctuation">[</span>de<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>e<span class="token punctuation">]</span> <span class="token operator">=</span> ans<span class="token punctuation">[</span>de<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>s<span class="token punctuation">]</span> <span class="token operator">+</span> de<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>v<span class="token punctuation">;</span>                flag <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token comment" spellcheck="true">//ans[de[i].e] = min(ans[de[i].e], ans[de[i].s] + de[i].v);</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>flag <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//如果没有更新某两个点的最短距离，那么已经达到全局最优了 </span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h5 id="大优化"><a href="#大优化" class="headerlink" title="大优化"></a>大优化</h5><ul><li>基于队列的Bellman-ford（SPFA）</li><li>由点s逐渐扩散，求得各个点到s的距离</li></ul><h4 id="bfs版的SPFA"><a href="#bfs版的SPFA" class="headerlink" title="bfs版的SPFA"></a><strong>bfs版的SPFA</strong></h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span> <span class="token keyword">struct</span> edge <span class="token punctuation">{</span>    <span class="token keyword">int</span> e<span class="token punctuation">,</span> v<span class="token punctuation">,</span> next<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>edge de<span class="token punctuation">[</span><span class="token number">200005</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">,</span> s<span class="token punctuation">,</span> ans<span class="token punctuation">[</span><span class="token number">100005</span><span class="token punctuation">]</span><span class="token punctuation">,</span> edge_cnt<span class="token punctuation">;</span><span class="token keyword">int</span> head<span class="token punctuation">[</span><span class="token number">100005</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//链表头节点</span><span class="token macro property">#<span class="token directive keyword">define</span> min(a, b) ({\    (a) > (b) ? (b) : (a);\})</span><span class="token keyword">int</span> q<span class="token punctuation">[</span><span class="token number">100000</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//队列</span><span class="token keyword">int</span> vis<span class="token punctuation">[</span><span class="token number">100005</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">Bellman_ford</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>     <span class="token function">memset</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> <span class="token number">0x3f</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>ans<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ans<span class="token punctuation">[</span>s<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    q<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">;</span>    vis<span class="token punctuation">[</span>s<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> l <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>l <span class="token operator">&lt;</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> tp <span class="token operator">=</span> q<span class="token punctuation">[</span>l<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        vis<span class="token punctuation">[</span>tp<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> head<span class="token punctuation">[</span>tp<span class="token punctuation">]</span><span class="token punctuation">;</span> i <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">=</span> de<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>next<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>ans<span class="token punctuation">[</span>de<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>e<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> ans<span class="token punctuation">[</span>tp<span class="token punctuation">]</span> <span class="token operator">+</span> de<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>v<span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>            ans<span class="token punctuation">[</span>de<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>e<span class="token punctuation">]</span> <span class="token operator">=</span> ans<span class="token punctuation">[</span>tp<span class="token punctuation">]</span> <span class="token operator">+</span> de<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>v<span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>vis<span class="token punctuation">[</span>de<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>e<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>            q<span class="token punctuation">[</span>r<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> de<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>e<span class="token punctuation">;</span>            vis<span class="token punctuation">[</span>de<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>e<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">add_edge</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">,</span> <span class="token keyword">int</span> c<span class="token punctuation">)</span> <span class="token punctuation">{</span>    de<span class="token punctuation">[</span>edge_cnt<span class="token punctuation">]</span><span class="token punctuation">.</span>e <span class="token operator">=</span> b<span class="token punctuation">;</span>    de<span class="token punctuation">[</span>edge_cnt<span class="token punctuation">]</span><span class="token punctuation">.</span>v <span class="token operator">=</span> c<span class="token punctuation">;</span>    de<span class="token punctuation">[</span>edge_cnt<span class="token punctuation">]</span><span class="token punctuation">.</span>next <span class="token operator">=</span> head<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">;</span>    head<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">=</span> edge_cnt<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">memset</span><span class="token punctuation">(</span>head<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>head<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">,</span> <span class="token operator">&amp;</span>m<span class="token punctuation">,</span> <span class="token operator">&amp;</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">;</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">,</span> <span class="token operator">&amp;</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">add_edge</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">add_edge</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> a<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">Bellman_ford</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0x3f3f3f3f</span> <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">:</span> ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="dfs版的SPFA"><a href="#dfs版的SPFA" class="headerlink" title="dfs版的SPFA"></a><strong>dfs版的SPFA</strong></h4><pre class=" language-c"><code class="language-c"></code></pre><h3 id="多源最短路"><a href="#多源最短路" class="headerlink" title="多源最短路"></a>多源最短路</h3><p><strong>求任意两点最短距离</strong></p><h4 id="Floyd"><a href="#Floyd" class="headerlink" title="Floyd"></a><strong>Floyd</strong></h4><p><strong>动态规划思想</strong></p><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">define</span> min(a, b) ({\    (a) > (b) ? (b) : (a);\})</span><span class="token keyword">void</span> <span class="token function">Floyd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//n表示点的个数， 点的编号从 1 开始 </span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> k <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 中转站 </span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> l <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> l <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> l<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> r <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> r <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> r<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                dis<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>dis<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">,</span> dis<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">+</span> dis<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><table><thead><tr><th>算法名称</th><th>图存储方式</th><th>适合情况</th><th>时间复杂度</th><th>说明</th></tr></thead><tbody><tr><td>Floyd</td><td>矩阵</td><td>多源</td><td>O(n^3)</td><td>可以存在负权边，图中不能存在环，能解决最长路径问题</td></tr><tr><td>Dijkstra</td><td>邻接表，链式前向星</td><td>单源</td><td>O(n ^ n)</td><td>不能存在负权边，不能存在负权环</td></tr><tr><td>优先队列优化的Dijksra</td><td>邻接表，链式前向星</td><td>单源</td><td>O(m * logn)，常数大</td><td>不能存在负权边，不能存在负权环</td></tr><tr><td>线段数优化的Dijksra</td><td>邻接表，链式前向星</td><td>单源</td><td>O(m * logn)，常数小</td><td>不能存在负权边，不能存在负权环</td></tr><tr><td>BEllman-ford</td><td>邻接表，链式前向星</td><td>单源</td><td>O(n * m)</td><td>能判断负环，不能解决负环最短路，边权可以为负，能解决最长路径问题</td></tr><tr><td>SPFA</td><td>邻接表，链式前向星</td><td>单源</td><td>O(n * m) 到 O(Km)</td><td>能判断负环，不能解决负环最短路，边权可以为负，能解决最长路径问题</td></tr><tr><td>斐波拉契堆优化的Dijkstra</td><td>邻接表，链式前向星</td><td>单源</td><td>O(m + nlogn)</td><td>不能存在负权边，不能存在负权环</td></tr></tbody></table>]]></content>
      
      
      
        <tags>
            
            <tag> 最短路 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>bfs-隔山大牛</title>
      <link href="posts/de1b.html"/>
      <url>posts/de1b.html</url>
      
        <content type="html"><![CDATA[<h4 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h4><p>题目描述</p><p>相信大家都会下中国象棋：在中国象棋中，有一种棋子“炮”，它的行走规则较为特殊，在没有障碍的情况下可以向四个方向走任意距离，特殊走法为：若和其他某个棋子 y 之间的直线上，有且只有另一棋子 z 时，则可以越过 z 直接跳到 y 处。现在给定 n 行 m 列的棋盘，在棋盘上有一枚“炮”棋子（用 x 表示），及若干其他棋子（用 o 表示），其他棋盘的空白处用 . 填充。现给定一终点，按照象棋规则，“炮”棋子走到终点至少需要多少次移动。注意：炮可以按照象棋中的规则“隔山打牛”，但在“隔山打牛”时，落点处之前必须有棋子，在落点后，该位置的原棋子暂时消失，当“炮”重新移走后，该点原棋子会恢复。</p><p>输入</p><p>输入第一行两个整数 n,m，表示棋盘的大小。（1 &lt;= n,m &lt;= 2000）</p><p>接下来 n 行，每行输入 m 个字符，表示棋盘上的信息。（字符只可能为 x、o、. 三种之一，x 只有一个）</p><p>再接下来一行输入两个整数 x1, y1，为终点坐标（棋盘左上角为 1 1 点），坐标一定在棋盘范围之内，终点不保证一定为空（可能需要绕一圈通过“隔山打牛”才能到达该点）。</p><p>输出</p><p>输出共一个数字，为“炮”棋子走到终点的最少移动次数；若无法走到终点，则输出该“炮”棋子最多能走到多少个点（本身也算一个点）。</p><p>题目限制</p><p><strong>时间限制：</strong>C/C++语言 2000MS；其他语言 4000 MS<br><strong>内存限制：</strong>C/C++语言 262144KB；其他语言 786432KB</p><p>样例输入</p><pre><code>5 6x.o..o...........o....oo...oo.5 6</code></pre><p>样例输出</p><pre><code>3</code></pre><h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">struct</span> Node <span class="token punctuation">{</span>    <span class="token keyword">int</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> setp<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>Node q<span class="token punctuation">[</span><span class="token number">100000</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">char</span> mmap<span class="token punctuation">[</span><span class="token number">2002</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2002</span><span class="token punctuation">]</span><span class="token punctuation">,</span> vis<span class="token punctuation">[</span><span class="token number">2002</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2002</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> dis<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> cnt<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">,</span> x1<span class="token punctuation">,</span> y1<span class="token punctuation">;</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">,</span> <span class="token operator">&amp;</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//刷新缓冲区 </span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>mmap<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>mmap<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'x'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                q<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">{</span>i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>                vis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'1'</span><span class="token punctuation">;</span>                cnt<span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>x1<span class="token punctuation">,</span> <span class="token operator">&amp;</span>y1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//终点坐标 </span>    <span class="token keyword">int</span> l <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>l <span class="token operator">&lt;</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>        Node tp <span class="token operator">=</span> q<span class="token punctuation">[</span>l<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>tp<span class="token punctuation">.</span>x <span class="token operator">==</span> x1 <span class="token operator">&amp;&amp;</span> tp<span class="token punctuation">.</span>y <span class="token operator">==</span> y1<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> tp<span class="token punctuation">.</span>setp<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">int</span> dx <span class="token operator">=</span> tp<span class="token punctuation">.</span>x <span class="token operator">+</span> j <span class="token operator">*</span> dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token keyword">int</span> dy <span class="token operator">=</span> tp<span class="token punctuation">.</span>y <span class="token operator">+</span> j <span class="token operator">*</span> dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>mmap<span class="token punctuation">[</span>dx<span class="token punctuation">]</span><span class="token punctuation">[</span>dy<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'o'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//遇到障碍物 </span>                    <span class="token keyword">do</span> <span class="token punctuation">{</span>                        dx <span class="token operator">+</span><span class="token operator">=</span> dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                        dy <span class="token operator">+</span><span class="token operator">=</span> dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>dx <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> dy <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> dx <span class="token operator">&lt;</span> n <span class="token operator">&amp;&amp;</span> dy <span class="token operator">&lt;</span> m <span class="token operator">&amp;&amp;</span> mmap<span class="token punctuation">[</span>dx<span class="token punctuation">]</span><span class="token punctuation">[</span>dy<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token string">'o'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//寻找下一个障碍物 </span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>mmap<span class="token punctuation">[</span>dx<span class="token punctuation">]</span><span class="token punctuation">[</span>dy<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'o'</span> <span class="token operator">&amp;&amp;</span> vis<span class="token punctuation">[</span>dx<span class="token punctuation">]</span><span class="token punctuation">[</span>dy<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token string">'1'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//判断退出循环的点是否为障碍物 </span>                        vis<span class="token punctuation">[</span>dx<span class="token punctuation">]</span><span class="token punctuation">[</span>dy<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'1'</span><span class="token punctuation">;</span>                        q<span class="token punctuation">[</span>r<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">{</span>dx<span class="token punctuation">,</span> dy<span class="token punctuation">,</span> tp<span class="token punctuation">.</span>setp <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>                        cnt<span class="token operator">++</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 不管有没有障碍物，都得结束 </span>                <span class="token punctuation">}</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>dx <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">||</span> dy <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">||</span> dx <span class="token operator">></span> n <span class="token operator">||</span> dy <span class="token operator">></span> m<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//出界了 </span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>mmap<span class="token punctuation">[</span>dx<span class="token punctuation">]</span><span class="token punctuation">[</span>dy<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'.'</span> <span class="token operator">&amp;&amp;</span> vis<span class="token punctuation">[</span>dx<span class="token punctuation">]</span><span class="token punctuation">[</span>dy<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token string">'1'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//没有遇到障碍物之前，正常每个点都走 </span>                    cnt<span class="token operator">++</span><span class="token punctuation">;</span>                    vis<span class="token punctuation">[</span>dx<span class="token punctuation">]</span><span class="token punctuation">[</span>dy<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'1'</span><span class="token punctuation">;</span>                    q<span class="token punctuation">[</span>r<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">{</span>dx<span class="token punctuation">,</span> dy<span class="token punctuation">,</span> tp<span class="token punctuation">.</span>setp <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> cnt<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//输出走过的点的数量 </span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> bfs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>dfs—被3整除</title>
      <link href="posts/fa86.html"/>
      <url>posts/fa86.html</url>
      
        <content type="html"><![CDATA[<h4 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h4><p>题目描述</p><p>给定 n 个数字，要在其中选出 k 个数，组成一个整数，现输出所有组合当中，能被 3 整除的整数。</p><p>输入</p><p>第一行输入两个整数 n，k，表示待选数字个数和需要选出的数字个数 （n &lt;= 15，k &lt;= 6）。<br>接下来一行输入 n 个一位数。</p><p>输出</p><p>输出共两行，第一行为组合后能被 3 整除的数字个数，保证至少有一个。<br>第二行为上述数字，按照数字从小到大的顺序输出，每两个数之间用空格隔开。</p><p>题目限制</p><p><strong>时间限制：</strong>C/C++语言 1000MS；其他语言 3000 MS<br><strong>内存限制：</strong>C/C++语言 65536KB；其他语言 589824KB</p><p>样例输入</p><pre><code>5 24 4 2 3 3</code></pre><p>样例输出</p><pre><code>324 33 42</code></pre><h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><ul><li>排列组合问题</li><li>简单暴力dfs</li><li>利用递归，层次遍历，枚举答案</li><li>每递归一层，判断一下是否符合条件</li></ul><h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;set></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> k<span class="token punctuation">,</span> num<span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">]</span><span class="token punctuation">,</span> cnt<span class="token punctuation">,</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> ans<span class="token punctuation">[</span><span class="token number">100000</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> vis<span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> s<span class="token punctuation">[</span><span class="token number">10000000</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> h<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>h <span class="token operator">></span> k <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>h <span class="token operator">==</span> k <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> sum <span class="token operator">%</span> <span class="token number">3</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">[</span>sum<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        ans<span class="token punctuation">[</span>cnt<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> sum<span class="token punctuation">;</span>        s<span class="token punctuation">[</span>sum<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>vis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>        sum <span class="token operator">=</span> sum <span class="token operator">*</span> <span class="token number">10</span> <span class="token operator">+</span> num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        vis<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token function">dfs</span><span class="token punctuation">(</span>h <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        vis<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        sum <span class="token operator">/</span><span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">,</span> <span class="token operator">&amp;</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">sort</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> ans <span class="token operator">+</span> cnt<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> cnt<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> cnt<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        i <span class="token operator">&amp;&amp;</span> <span class="token function">putchar</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> dfs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>家里养羊-二分答案</title>
      <link href="posts/ff03.html"/>
      <url>posts/ff03.html</url>
      
        <content type="html"><![CDATA[<h4 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h4><p>题目描述</p><p>大学期间的某一天，大T 得知，某位同学家里是做养殖场的，养殖场中有 N 种不同的畜禽，每种有 Xi 只/匹，现在为了这位同学交学费，决定卖出一部分畜禽。</p><p>卖出畜禽时，大家决定采取“雨露均沾”的模式卖出：若一种畜禽卖出了 k 只，那么其他种类的畜禽都要卖出 k 只，若不足 k 只的，则全部卖出。</p><p>现给定总学费 M 元，及每种畜禽卖出的价格 Yi 元，求出 k 最少为多少时，才能满足学费要求，题目保证可以满足学费要求。</p><p>输入</p><p>输入第一行两个整数 N,M，表示畜禽种类数。（1 &lt;= N &lt;= 10^5,2 &lt;= M &lt;= 10^9）</p><p>接下来一行输入 N 个数字，表示 Xi。（1 &lt;= Xi &lt;= 10^5）</p><p>再接下来一行输入 N 个数字，表示 Yi。（1 &lt;= Y_i &lt;= 10^2）</p><p>输出</p><p>输出一行一个整数，表示每种家禽的最少卖出数。</p><p>题目限制</p><p><strong>时间限制：</strong>C/C++语言 1000MS；其他语言 3000 MS<br><strong>内存限制：</strong>C/C++语言 262144KB；其他语言 786432KB</p><p>样例输入</p><pre><code>5 303 3 1 3 34 3 9 1 5</code></pre><p>样例输出</p><pre><code>2</code></pre><h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><ul><li>思路简单，单纯的二分答案套路</li></ul><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    ios<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">sync_with_stdio</span><span class="token punctuation">(</span>false<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">long</span> <span class="token keyword">long</span> x<span class="token punctuation">[</span><span class="token number">100005</span><span class="token punctuation">]</span><span class="token punctuation">,</span> y<span class="token punctuation">[</span><span class="token number">100005</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">,</span> l <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token number">1e5</span><span class="token punctuation">;</span>    cin <span class="token operator">>></span> n <span class="token operator">>></span> m<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> cin <span class="token operator">>></span> x<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> cin <span class="token operator">>></span> y<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>l <span class="token operator">&lt;</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">long</span> <span class="token keyword">long</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>l <span class="token operator">+</span> r<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">long</span> <span class="token keyword">long</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>x<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> mid<span class="token punctuation">)</span> ans <span class="token operator">+</span><span class="token operator">=</span> mid <span class="token operator">*</span> y<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">else</span> ans <span class="token operator">+</span><span class="token operator">=</span> x<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">*</span> y<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>ans <span class="token operator">>=</span> m<span class="token punctuation">)</span> r <span class="token operator">=</span> mid<span class="token punctuation">;</span>        <span class="token keyword">else</span> l <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    cout <span class="token operator">&lt;&lt;</span> l <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 二分答案 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>记单词-不定长滑动窗口法</title>
      <link href="posts/2123.html"/>
      <url>posts/2123.html</url>
      
        <content type="html"><![CDATA[<h4 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h4><p>题目描述</p><p>小明为了通过大学英语六级，小明每天都在背单词。有一天，他想到了一个奇怪的背单词办法：背文章！具体方法如下：</p><p>对于一天，预设 N 个需要背的单词，为了简略，我们在此将它们转换为单词编号，这 N 个单词编号分别为 ai。接下来给定共有 M 个单词的一长段文章，为了简略，已经将其中所有单词替换为单词编号。现在要在这一长段文章中，找到连续的一小段，使这一小段中尽可能多的包含这一天要背的单词，且在尽可能多的情况下，单词数量越少越好，求这一小段的最小单词数量是多少。</p><p>题目和字符串完全无关哦～</p><p>输入</p><p>输入第一行一个整数 N，表示这天要背的单词的数量。（1 &lt;= N &lt;= 1000）</p><p>接下来一行，输入 N 个整数，表示这一天要背的单词的编号 ai。（ 0 &lt;= ai &lt;= 100000）</p><p>接下来一行一个整数 M，表示长文章中的单词数量。（1 &lt;= M &lt;= 100000）</p><p>最后一行输入 M 个整数，表示文章中的单词编号 bi。（ 0 &lt;= bi &lt;= 100000）</p><p>输出</p><p>输出共两个整数，中间用空格隔开，分别表示最多背诵的单词数量和最短的连续文章单词数量。</p><p>题目限制</p><p><strong>时间限制：</strong>C/C++语言 1000MS；其他语言 3000 MS<br><strong>内存限制：</strong>C/C++语言 65536KB；其他语言 589824KB</p><p>样例输入</p><pre><code>46 2 3 4101 3 5 4 1 7 2 3 3 99</code></pre><p>样例输出</p><pre><code>3 5</code></pre><h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><ul><li>首先想到的是：两重循环暴力解决；必超时 ！！！</li><li>由数据规模知道，此题时间复杂度为O(n) 或 O(nlgn)能过；</li><li>首先记录需要记的单词个数，进行文章单词输入时，记录每个要记的单词出现次数；然后在文章单词进行滑动窗口</li><li>具体思路看代码</li></ul><h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-C"><code class="language-C">#include <stdio.h>int n, m, vis[100002];    // 标记要记的单词和记录文章要记的单词数量int tp_vis[100002];     // 滑动窗口用来记录窗口中每个单词的数量int cnt, ans;int num[100003];int main() {    scanf("%d", &n); //需要记的单词个数     for (int a, i = 0; i < n; i++) {        scanf("%d", &a);        vis[a] = 1; //标记需要记的单词    }     scanf("%d", &m); //  文章单词个数     for (int i = 0; i < m; i++) {        scanf("%d", &num[i]);        if (vis[num[i]] == 1) {            vis[num[i]] = 2; // 2表示文章中含有这个要记的单词            ++cnt; // 窗口单词容量最大值        }    }    /*********ans表示最短的连续文章的单词个数，cnt表示最多背诵单词的个数*********/    ans = m;    if (cnt == 0) { // 题目的坑         ans = 0;    }    int l = 0, now = 0;    for (int i = 0; i < m; i++) {        if (vis[num[i]] != 2) continue; //说明文章没有这个单词         tp_vis[num[i]]++;               //这个单词在文章出现的计数器加一         if (tp_vis[num[i]] != 1) continue;  //这个单词不是第一次出现         now++; //窗口里出现要记的单词数量+1        while (now == cnt) {             ans = (ans > i - l + 1 ? i - l + 1 : ans);            tp_vis[num[l]]--;            if (tp_vis[num[l]] == 0) now--;            l++;         }    }         printf("%d %d\n", cnt, ans);        return 0;}/*46 2 3 4101 3 5 4 1 7 2 3 3 99*/</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 滑动窗口法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>麻雀算法</title>
      <link href="posts/5a73.html"/>
      <url>posts/5a73.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
        <tags>
            
            <tag> 优化算法 </tag>
            
            <tag> 启发式智能搜索算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>dfs奶酪</title>
      <link href="posts/7811.html"/>
      <url>posts/7811.html</url>
      
        <content type="html"><![CDATA[<h4 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h4><p> 现有一块大奶酪，它的高度为 h，它的长度和宽度我们可以认为是无限大的，奶酪中间有许多半径相同的球形空洞。我们可以在这块奶酪中建立空间坐标系，在坐标系中， 奶酪的下表面为 z=0，奶酪的上表面为 z=h。</p><p> 现在，奶酪的下表面有一只小老鼠 Jerry，它知道奶酪中所有空洞的球心所在的坐标。如果两个空洞相切或是相交，则 Jerry 可以从其中一个空洞跑到另一个空洞，特别地，如果一个空洞与下表面相切或是相交，Jerry 则可以从奶酪下表面跑进空洞；如果一个空洞与上表面相切或是相交，Jerry 则可以从空洞跑到奶酪上表面。</p><p> 位于奶酪下表面的 Jerry 想知道，在不破坏奶酪的情况下，能否利用已有的空洞跑到奶酪的上表面去?</p><hr><h4 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h4><p> 每个输入包含多组数据。</p><p> 数据的第一行，包含一个正整数 T，代表该输入文件中所含的数据组数。</p><p> 接下来是 T 组数据，每组数据的格式如下：</p><p> 第一行包含三个正整数n,h 和 r，两个数之间以一个空格分开，分别代表奶酪中空洞的数量，奶酪的高度和空洞的半径。</p><p> 接下来的 n 行，每行包含三个整数 x,y,z，两个数之间以一个空格分开，表示空洞球心坐标为(x,y,z)。</p><h4 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h4><p> 输出共 T 行，分别对应 T 组数据的答案，如果在第 i 组数据中，Jerry 能从下 表面跑到上表面，则输出Yes，如果不能，则输出 No。</p><hr><h4 id="样例输入"><a href="#样例输入" class="headerlink" title="样例输入"></a>样例输入</h4><pre><code>3 2 4 1 0 0 1 0 0 3 2 5 1 0 0 1 0 0 4 2 5 2 0 0 2 2 0 4</code></pre><h4 id="样例输出"><a href="#样例输出" class="headerlink" title="样例输出"></a>样例输出</h4><pre><code>YesNoYes</code></pre><h4 id="样例说明"><a href="#样例说明" class="headerlink" title="样例说明"></a>样例说明</h4><p> 第一组数据，两个空洞分别和上(0,0,0) 下 (0,0,4) 表面相切，两个空洞相切(0,0,2)，输出Yes。</p><p> 第二组数据，两个空洞既不相切也不相交，输出 No。</p><p> 第三组数据，两个空洞相交，且分别于上下表面相切或相交，输出Yes。</p><hr><h4 id="数据规模与约定"><a href="#数据规模与约定" class="headerlink" title="数据规模与约定"></a>数据规模与约定</h4><p> 时间限制：1 s</p><p> 内存限制：256 M</p><p> 100% 的数据保证 1≤n≤1000 , 1≤h,r≤109 , T≤201≤n≤1000 , 1≤h,r≤109 , T≤20 坐标的绝对值不超过 109</p><h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><ul><li>老鼠入口很多，我们可以直接遍历得到，也可以存储入口位置，本文采取存储入口</li><li>为了减少过多的搜索，本文提前处理每个空洞，利用邻接矩阵存储联通的空洞；</li></ul><h4 id="代码如下"><a href="#代码如下" class="headerlink" title="代码如下"></a>代码如下</h4><pre><code>#include &lt;stdio.h&gt;#include &lt;iostream&gt;#include &lt;cmath&gt;#include &lt;vector&gt;#include &lt;cstring&gt;using namespace std;struct Node {    int x, y, z;};int x, y, z, n, h, r, t, vis[1005];double dist(const Node&amp; a, const Node&amp; b) { // 计算距离    return sqrt(pow(a.x - b.x, 2) + pow(a.y - b.y, 2) + pow(a.z - b.z, 2));}vector &lt;int&gt; merge[1005], start; //merge为邻接矩阵，start存储入口位置Node num[1005];  // 全部空洞，下标表示其空洞位置bool dfs(const int&amp; ind) {    if (num[ind].z + r &gt;= h) return true;    for (int i = 0; i &lt; (int)merge[ind].size(); i++) {        if (vis[merge[ind][i]]) continue;        vis[merge[ind][i]] = 1;        if (dfs(merge[ind][i])) return true; // 剪枝    }    return false;}int main() {    cin &gt;&gt; t;    while (t--) {        cin &gt;&gt; n &gt;&gt; h &gt;&gt; r;        for (int i = 1; i &lt;= n; i++) {            cin &gt;&gt; x &gt;&gt; y &gt;&gt; z;            if (z &lt;= r) {                start.push_back(i);            }            for (int j = 1; j &lt; i; j++) { //邻接矩阵建立                double dis = dist(num[j], (Node){x, y, z});                if (dis  &gt; r + r) continue;                merge[i].push_back(j);                merge[j].push_back(i);            }            num[i] = (Node){x, y, z};        }        bool boo = false;        for (int i = 0; i &lt; (int)start.size(); i++) {            if (vis[start[i]]) continue;            vis[start[i]] = 1;            boo = dfs(start[i]);            if (boo) break;                    }        if (boo) cout &lt;&lt; "Yes" &lt;&lt; endl;        else cout &lt;&lt; "No" &lt;&lt; endl;        start.clear();        for (int i = 0; i &lt; 1005; i++) merge[i].clear();        memset(num, 0, sizeof(num));        memset(vis, 0, sizeof(vis));    }    return 0;}</code></pre>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>dfs最大黑色区域</title>
      <link href="posts/7f73.html"/>
      <url>posts/7f73.html</url>
      
        <content type="html"><![CDATA[<h4 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h4><p> 现在给出一个 n∗m 的二维矩阵，矩阵上的每个点只可能是 0 （代表白色）或 1 （代表黑色）。现规定某一点的颜色与它的上下左右某点的颜色相同，则它们为同一区域，现求最大黑色区域的大小。</p><hr><h4 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h4><p> 第一行两个正整数 n,m。（1≤n,m≤100）</p><p> 接下来输入一个二维字符矩阵，每个字符为 0 或 1。</p><h4 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h4><p> 输出一个整数，表示可以最大黑色区域面积。</p><hr><h4 id="样例输入"><a href="#样例输入" class="headerlink" title="样例输入"></a>样例输入</h4><pre><code>5 6011001110101010010000111101110</code></pre><h4 id="样例输出"><a href="#样例输出" class="headerlink" title="样例输出"></a>样例输出</h4><pre><code>7</code></pre><hr><h4 id="数据规模与约定"><a href="#数据规模与约定" class="headerlink" title="数据规模与约定"></a>数据规模与约定</h4><p> 时间限制：1 s</p><p> 内存限制：256 M</p><p> 100% 的数据保证 1≤n,m≤100</p><h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><ul><li>求最大面积，本题有两种做法，分别是dfs与bfs</li><li>本文演示dfs</li><li>该题无非就是联通性问题，求最大连通块；</li></ul><h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">,</span> vis<span class="token punctuation">[</span><span class="token number">101</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">101</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//标志 </span><span class="token keyword">char</span> mmap<span class="token punctuation">[</span><span class="token number">101</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">101</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//地图 </span><span class="token keyword">int</span> dis<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//方向 </span><span class="token keyword">int</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>     <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> dx <span class="token operator">=</span> x <span class="token operator">+</span> dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> dy <span class="token operator">=</span> y <span class="token operator">+</span> dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>mmap<span class="token punctuation">[</span>dx<span class="token punctuation">]</span><span class="token punctuation">[</span>dy<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token string">'1'</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>          <span class="token keyword">if</span> <span class="token punctuation">(</span>vis<span class="token punctuation">[</span>dx<span class="token punctuation">]</span><span class="token punctuation">[</span>dy<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>          vis<span class="token punctuation">[</span>dx<span class="token punctuation">]</span><span class="token punctuation">[</span>dy<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        ans <span class="token operator">+</span><span class="token operator">=</span> <span class="token function">dfs</span><span class="token punctuation">(</span>dx<span class="token punctuation">,</span> dy<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> ans<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">,</span> <span class="token operator">&amp;</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>mmap<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> mmax <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>mmap<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token string">'1'</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>vis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>            vis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> tp <span class="token operator">=</span> <span class="token function">dfs</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>            mmax <span class="token operator">=</span> mmax <span class="token operator">></span> tp <span class="token operator">?</span> mmax <span class="token punctuation">:</span> tp<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> mmax<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">,</span> vis<span class="token punctuation">[</span><span class="token number">101</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">101</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//标志 </span><span class="token keyword">char</span> mmap<span class="token punctuation">[</span><span class="token number">101</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">101</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//地图 </span><span class="token keyword">int</span> dis<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//方向 </span><span class="token keyword">int</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>xx<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>yy<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> x <span class="token operator">=</span> <span class="token operator">*</span>xx<span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token operator">*</span>yy<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> dx <span class="token operator">=</span> x <span class="token operator">+</span> dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> dy <span class="token operator">=</span> y <span class="token operator">+</span> dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>mmap<span class="token punctuation">[</span>dx<span class="token punctuation">]</span><span class="token punctuation">[</span>dy<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token string">'1'</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>vis<span class="token punctuation">[</span>dx<span class="token punctuation">]</span><span class="token punctuation">[</span>dy<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>        vis<span class="token punctuation">[</span>dx<span class="token punctuation">]</span><span class="token punctuation">[</span>dy<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        ans <span class="token operator">+</span><span class="token operator">=</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>dx<span class="token punctuation">,</span> <span class="token operator">&amp;</span>dy<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> ans<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">,</span> <span class="token operator">&amp;</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>mmap<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> mmax <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>mmap<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token string">'1'</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>vis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>            vis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> tp <span class="token operator">=</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>i<span class="token punctuation">,</span> <span class="token operator">&amp;</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>            mmax <span class="token operator">=</span> mmax <span class="token operator">></span> tp <span class="token operator">?</span> mmax <span class="token punctuation">:</span> tp<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> mmax<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">,</span> vis<span class="token punctuation">[</span><span class="token number">101</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">101</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//标志 </span><span class="token keyword">char</span> mmap<span class="token punctuation">[</span><span class="token number">101</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">101</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//地图 </span><span class="token keyword">int</span> dis<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//方向 </span><span class="token keyword">int</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> x<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>     <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> dx <span class="token operator">=</span> x <span class="token operator">+</span> dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> dy <span class="token operator">=</span> y <span class="token operator">+</span> dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>mmap<span class="token punctuation">[</span>dx<span class="token punctuation">]</span><span class="token punctuation">[</span>dy<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token string">'1'</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>vis<span class="token punctuation">[</span>dx<span class="token punctuation">]</span><span class="token punctuation">[</span>dy<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>        vis<span class="token punctuation">[</span>dx<span class="token punctuation">]</span><span class="token punctuation">[</span>dy<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        ans <span class="token operator">+</span><span class="token operator">=</span> <span class="token function">dfs</span><span class="token punctuation">(</span>dx<span class="token punctuation">,</span> dy<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> ans<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">,</span> <span class="token operator">&amp;</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>mmap<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> mmax <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> m<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>mmap<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token string">'1'</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>vis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>            vis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> tp <span class="token operator">=</span> <span class="token function">dfs</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>            mmax <span class="token operator">=</span> mmax <span class="token operator">></span> tp <span class="token operator">?</span> mmax <span class="token punctuation">:</span> tp<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> mmax<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>dfs分书</title>
      <link href="posts/b832.html"/>
      <url>posts/b832.html</url>
      
        <content type="html"><![CDATA[<h4 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h4><p> 有 n 本书（编号为 1∼n）和 n 个人（编号为 1∼n），每个人都有一个自己喜爱的书的列表。现需要设计一种分书方案，使得每个人都能获得一本书，且这本书一定要在它的喜爱列表中。</p><hr><h4 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h4><p> 第一行一个正整数 n。（n≤20）</p><p> 接下来一个 n∗n的二维 01 矩阵，a[i,j]=1 说明第 i 人喜爱第 j 本书，=0 说明不喜欢。</p><h4 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h4><p> 输出一个整数，表示分书方案总数。</p><hr><h4 id="样例输入"><a href="#样例输入" class="headerlink" title="样例输入"></a>样例输入</h4><pre><code>50011011001011000001001001</code></pre><h4 id="样例输出"><a href="#样例输出" class="headerlink" title="样例输出"></a>样例输出</h4><pre><code>1</code></pre><hr><h4 id="数据规模与约定"><a href="#数据规模与约定" class="headerlink" title="数据规模与约定"></a>数据规模与约定</h4><p> 时间限制：1 s</p><p> 内存限制：256 M</p><p> 100% 的数据保证 n≤20</p><h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><ul><li>按照题目的想法，本来想要用贪心思想写的；</li><li>按照升序解决某人喜爱的书的数量的该人的需求</li><li>由于本文章是dfs，故用dfs；</li><li>由题意可建立人与书的邻接矩阵v;</li><li>利用数组vis标记某本书是否被分配了；</li><li>不考虑每个人得到书的顺序，我按照从1号人到n号人分配书籍；</li></ul><h4 id="代码如下"><a href="#代码如下" class="headerlink" title="代码如下"></a>代码如下</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span>using namespace std<span class="token punctuation">;</span>vector <span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">></span> v<span class="token punctuation">[</span><span class="token number">21</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//邻接矩阵 </span><span class="token keyword">int</span> n<span class="token punctuation">,</span> vis<span class="token punctuation">[</span><span class="token number">21</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ans<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//vis标记书本, ans记录答案 </span><span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//表示当前为第x号人分配符合条件的书本 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">==</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token operator">++</span>ans<span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>v<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>vis<span class="token punctuation">[</span>v<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>        vis<span class="token punctuation">[</span>v<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//标记 </span>        <span class="token function">dfs</span><span class="token punctuation">(</span>x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        vis<span class="token punctuation">[</span>v<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//回溯 </span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//建立邻接矩阵 </span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">char</span> op<span class="token punctuation">;</span>            <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>op<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>op <span class="token operator">==</span> <span class="token string">'1'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//op == 1  说明第 i 人喜爱第 j 本书 </span>                v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>         <span class="token punctuation">}</span>    <span class="token punctuation">}</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>v<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        vis<span class="token punctuation">[</span>v<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        vis<span class="token punctuation">[</span>v<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>     <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> ans<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> dfs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>体积dfs</title>
      <link href="posts/60ba.html"/>
      <url>posts/60ba.html</url>
      
        <content type="html"><![CDATA[<h4 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h4><p> 给出 n 件物品，每个物品有一个体积 Vi，从中取出若干件物品能够组成的不同的体积和有多少种可能。例如，n=3 , Vi={1,3,4}，那么输出 6，6 种不同的体积和为 1,3,4,5,7,8。</p><hr><h4 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h4><p> 第一行一个正整数 n。（n≤20）</p><p> 第二行 n 个整数，表示 Vi。（1≤Vi≤50）</p><h4 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h4><p> 输出一个整数，表示不同体积的组合数。</p><hr><h4 id="样例输入"><a href="#样例输入" class="headerlink" title="样例输入"></a>样例输入</h4><pre><code>31 3 4</code></pre><h4 id="样例输出"><a href="#样例输出" class="headerlink" title="样例输出"></a>样例输出</h4><pre><code>6</code></pre><hr><h4 id="数据规模与约定"><a href="#数据规模与约定" class="headerlink" title="数据规模与约定"></a>数据规模与约定</h4><p> 时间限制：1 s</p><p> 内存限制：256 M</p><p> 100% 的数据保证 n≤20</p><h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><p><strong>60分</strong></p><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">int</span> n<span class="token punctuation">,</span> volume<span class="token punctuation">[</span><span class="token number">21</span><span class="token punctuation">]</span><span class="token punctuation">,</span> vis<span class="token punctuation">[</span><span class="token number">1001</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ans<span class="token punctuation">,</span> vis1<span class="token punctuation">[</span><span class="token number">31</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//60分 </span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>vis1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>        ans <span class="token operator">+</span><span class="token operator">=</span> volume<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        vis1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        vis<span class="token punctuation">[</span>ans<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ans <span class="token operator">-</span><span class="token operator">=</span> volume<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        vis1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>volume<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        vis<span class="token punctuation">[</span>volume<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">1000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>vis<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token operator">++</span>cnt<span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//    printf("%d ", i);</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> cnt<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>80分</strong></p><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">int</span> n<span class="token punctuation">,</span> volume<span class="token punctuation">[</span><span class="token number">21</span><span class="token punctuation">]</span><span class="token punctuation">,</span> vis<span class="token punctuation">[</span><span class="token number">1001</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ans<span class="token punctuation">,</span> vis1<span class="token punctuation">[</span><span class="token number">31</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> h<span class="token punctuation">)</span> <span class="token punctuation">{</span>     <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> h<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>vis1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>        ans <span class="token operator">+</span><span class="token operator">=</span> volume<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        vis1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        vis<span class="token punctuation">[</span>ans<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token function">dfs</span><span class="token punctuation">(</span>h <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ans <span class="token operator">-</span><span class="token operator">=</span> volume<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        vis1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>volume<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        vis<span class="token punctuation">[</span>volume<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">1000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>vis<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token operator">++</span>cnt<span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//    printf("%d ", i);</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> cnt<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>100分</strong></p><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span> </span><span class="token comment" spellcheck="true">// 100分 </span><span class="token keyword">int</span> n<span class="token punctuation">,</span> volume<span class="token punctuation">[</span><span class="token number">21</span><span class="token punctuation">]</span><span class="token punctuation">,</span> vis<span class="token punctuation">[</span><span class="token number">1001</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> cnt<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> h<span class="token punctuation">,</span> <span class="token keyword">int</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token punctuation">(</span>vis<span class="token punctuation">[</span>s<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>vis<span class="token punctuation">[</span>s<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token operator">++</span>cnt<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> h<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">dfs</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> s <span class="token operator">+</span> volume<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>volume<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//vis[volume[i]] = 1;</span>    <span class="token punctuation">}</span>    <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//    for (int i = 1; i &lt;= 1000; i++) {</span><span class="token comment" spellcheck="true">//        if (vis[i] == 1) {</span><span class="token comment" spellcheck="true">//        //    printf("%d ", i);</span><span class="token comment" spellcheck="true">//            cnt++;</span><span class="token comment" spellcheck="true">//        }</span><span class="token comment" spellcheck="true">//    }</span>    <span class="token comment" spellcheck="true">//putchar('\n');</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> cnt<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> dfs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>力扣169、多数元素</title>
      <link href="posts/7917.html"/>
      <url>posts/7917.html</url>
      
        <content type="html"><![CDATA[<h4 id="思路：摩尔投票法"><a href="#思路：摩尔投票法" class="headerlink" title="思路：摩尔投票法"></a>思路：摩尔投票法</h4><ul><li>对于这道题目</li><li>因为所求元素个数是大于 n / 2的；</li><li>那么所求元素的个数减去不同于所求元素的个数，最后所得的值的个数必然大于0，也就是最后赢家就是所求元素。</li><li>我们可以从第一个元素开始，如果它在这个过程中个数为0，那么他就不是所求元素，更新它</li></ul><h4 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">majorityElement</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> numsSize<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> num <span class="token operator">=</span> nums<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> cnt <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numsSize<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">!=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>cnt <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> num <span class="token operator">=</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> cnt <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token keyword">else</span> <span class="token operator">--</span>cnt<span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> cnt<span class="token operator">++</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> num<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class=" language-c++"><code class="language-c++">class Solution {public:    int majorityElement(vector<int>& nums) {        int ans = 0, cnt = 0;        for (auto x : nums) {            if (cnt == 0) {                ans = x;                cnt = 1;            } else if (ans == x) ++cnt;            else --cnt;        }        return ans;    }};</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 力扣题解 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>力扣118、杨辉三角</title>
      <link href="posts/9765.html"/>
      <url>posts/9765.html</url>
      
        <content type="html"><![CDATA[<pre class=" language-c++"><code class="language-c++">class Solution {public:    vector<vector<int>> generate(int numRows) {        vector<vector<int>> ans(numRows); //初始化ans的行数        for (int i = 0; i < numRows; i++) {            ans[i].resize(i + 1); //初始化该行的列数            ans[i][0] = ans[i][i] = 1;            for (int j = 1; j < i; j++) {                ans[i][j] = (ans[i - 1][j] + ans[i - 1][j - 1]);            }        }        return ans;    }};</code></pre><pre class=" language-c++"><code class="language-c++">class Solution {public:    vector<vector<int>> generate(int numRows) {        vector<vector<int>> ans;        ans.push_back(vector<int>{1});        for (int i = 1; i < numRows; i++) {            vector<int> t;            t.push_back(1);            for (int j = 1; j < i; j++) {                t.push_back(ans[i - 1][j] + ans[i - 1][j - 1]);            }            t.push_back(1);            ans.push_back(t);        }        return ans;    }};</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 力扣题解 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>力扣88、合并两个有序数组</title>
      <link href="posts/7770.html"/>
      <url>posts/7770.html</url>
      
        <content type="html"><![CDATA[<h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><ul><li>思路一：直接合并，合并后排序、</li><li>思路二：双指针，从数组一最后元素开始找到合适数组二从头先插入元素的位置</li></ul><h4 id="代码：思路一"><a href="#代码：思路一" class="headerlink" title="代码：思路一"></a>代码：思路一</h4><pre class=" language-c++"><code class="language-c++">class Solution {public:    void merge(vector<int>& nums1, int m, vector<int>& nums2, int n) {        for (int i = m, j = 0; i < n + m && j < n; i++, j++) {            nums1[i] = nums2[j];        }        sort(nums1.begin(), nums1.end());    }};</code></pre><h4 id="代码：思路二"><a href="#代码：思路二" class="headerlink" title="代码：思路二"></a>代码：思路二</h4><p><strong>版本一</strong></p><pre class=" language-c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> nums1<span class="token punctuation">,</span> <span class="token keyword">int</span> nums1Size<span class="token punctuation">,</span> <span class="token keyword">int</span> m<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> nums2<span class="token punctuation">,</span> <span class="token keyword">int</span> nums2Size<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> j <span class="token operator">=</span> m <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>j <span class="token operator">>=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> nums2<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> nums1<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> nums1<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums1<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">--</span>j<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//找到nums2[i]插入的位置</span>        nums1<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        m<span class="token operator">++</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p><strong>版本二</strong></p><pre class=" language-c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> nums1<span class="token punctuation">,</span> <span class="token keyword">int</span> nums1Size<span class="token punctuation">,</span> <span class="token keyword">int</span> m<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> nums2<span class="token punctuation">,</span> <span class="token keyword">int</span> nums2Size<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> j <span class="token operator">=</span> m <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>j <span class="token operator">>=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> nums2<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> nums1<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> nums1<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums1<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token operator">--</span>j<span class="token punctuation">;</span>        nums1<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> nums2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        m<span class="token operator">++</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 力扣题解 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>力扣58、最后一个单词的长度</title>
      <link href="posts/d41f.html"/>
      <url>posts/d41f.html</url>
      
        <content type="html"><![CDATA[<h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><p><strong>从后往前遍历，找到第一个不是空格的字符，再从当前字符遍历整个单词</strong></p><h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c++"><code class="language-c++">class Solution {public:    int lengthOfLastWord(string s) {        int r = s.size() - 1, l;        while (s[r] == ' ') r--;        l = r;        while (l >= 0 && s[l] != ' ') --l;        return r - l;    }};</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 力扣题解 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>力扣53、最大子序和</title>
      <link href="posts/6c63.html"/>
      <url>posts/6c63.html</url>
      
        <content type="html"><![CDATA[<h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><p><strong>定义now为以i结尾的最大子序和，now初始化为0；</strong></p><p><strong>对于一个数，要么本身最大，要么加上前面的子序列使自己更大，每遍历一个数，更新一下now与ans。</strong></p><h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c++"><code class="language-c++">class Solution {public:    int maxSubArray(vector<int>& nums) {        int ans = INT_MIN, now = 0;        for (auto &x : nums) {            now = max(now + x, x);            ans = max(ans, now);        }        return ans;    }};</code></pre><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">maxSubArray</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> numsSize<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> tempsum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> maxsum <span class="token operator">=</span> INT_MIN<span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numsSize<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            tempsum <span class="token operator">+</span><span class="token operator">=</span> <span class="token operator">*</span><span class="token punctuation">(</span>nums <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>            maxsum <span class="token operator">=</span> tempsum <span class="token operator">></span> maxsum <span class="token operator">?</span> tempsum <span class="token punctuation">:</span> maxsum<span class="token punctuation">;</span>            tempsum <span class="token operator">=</span> tempsum <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">?</span> tempsum <span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> maxsum<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 力扣题解 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>力扣38、外观数列</title>
      <link href="posts/f58c.html"/>
      <url>posts/f58c.html</url>
      
        <content type="html"><![CDATA[<h4 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">char</span> <span class="token operator">*</span> <span class="token function">countAndSay</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">char</span> <span class="token operator">*</span>str <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">4000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> <span class="token operator">*</span>tp <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">4000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'1'</span><span class="token punctuation">,</span> str<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'\0'</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">--</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">int</span> t <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span>str<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> str<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">++</span>i<span class="token punctuation">,</span> <span class="token operator">++</span>t<span class="token punctuation">;</span>            tp<span class="token punctuation">[</span>k<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> t <span class="token operator">+</span> <span class="token number">48</span><span class="token punctuation">;</span>            tp<span class="token punctuation">[</span>k<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">//指针交换，减少复制消耗的时间</span>        <span class="token keyword">char</span> <span class="token operator">*</span>temp <span class="token operator">=</span> str<span class="token punctuation">;</span>        str <span class="token operator">=</span> tp<span class="token punctuation">;</span>        tp <span class="token operator">=</span> temp<span class="token punctuation">;</span>        str<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'\0'</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> str<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 力扣题解 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>奶牛晒太阳</title>
      <link href="posts/f495.html"/>
      <url>posts/f495.html</url>
      
        <content type="html"><![CDATA[<h4 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h4><p> 有 C 头奶牛去晒太阳，每头奶牛各自能够忍受的阳光强度有一个最小值和一个最大值，太大就晒伤了，太小奶牛没感觉。而刚开始的阳光的强度非常大，奶牛都承受不住，奶牛得涂抹防晒霜，防晒霜的作用是让阳光照在身上的阳光强度固定为某个值。那么为了不让奶牛烫伤，又不会没有效果。给出了 L 种防晒霜固定的阳光强度和数量，每头奶牛只能抹一瓶防晒霜，求能够享受晒太阳的奶牛最多有几头。</p><hr><h4 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h4><p> 第一行输入两个数 C,L。（1≤C,L≤2500）</p><p> 接下来 C 行，每行两个数表示每头奶牛能接受的阳光强度的最小值和最大值。（均小于 1000）</p><p> 再接下来 L 行，每行两个数表示每种防晒霜固定的阳光强度和数量。（均小于 1000）</p><h4 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h4><p> 输出能晒太阳的奶牛的最多数量。</p><hr><h4 id="样例输入"><a href="#样例输入" class="headerlink" title="样例输入"></a>样例输入</h4><pre><code>3 23 102 51 56 24 1</code></pre><h4 id="样例输出"><a href="#样例输出" class="headerlink" title="样例输出"></a>样例输出</h4><pre><code>2</code></pre><hr><h4 id="数据规模与约定"><a href="#数据规模与约定" class="headerlink" title="数据规模与约定"></a>数据规模与约定</h4><p> 时间限制：1 s</p><p> 内存限制：256 M</p><p> 100% 的数据保证 1≤C,L≤2500</p><h4 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h4><p><em><strong>把问题描述为，对于每个区间，尽可能让更多的点落在区间上，每个区间只能落一个点；<br>奶牛比作区间，防晒霜比作点。</strong></em></p><h4 id="贪心策略"><a href="#贪心策略" class="headerlink" title="贪心策略"></a>贪心策略</h4><p><strong>对于区间a, b;</strong></p><ul><li>1、若a包含b，则先处理b(小区间) ———–顺序相关 </li><li>2、若a, b区间有交集，则先处理左边界l小的那个    ——— 策略相关 </li><li>3、没有交集，先处理哪个都一样 </li></ul><h4 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;algorithm></span></span>using namespace std<span class="token punctuation">;</span><span class="token comment" spellcheck="true">/*贪心策略：对于区间a, b;1、若a包含b，则先处理b(小区间) -----------顺序相关 2、若a, b区间有交集，则先处理左边界l小的那个    --------- 策略相关 3、没有交集，先处理哪个都一样 */</span> <span class="token keyword">struct</span> Node <span class="token punctuation">{</span>    <span class="token keyword">int</span> l<span class="token punctuation">,</span> r<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//l表示左边界，r表示右边界 </span>    bool operator<span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token keyword">const</span> Node <span class="token operator">&amp;</span>a<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//重载小于号，使其排序的时候满足我们的贪心策略的顺序相关 </span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>this<span class="token operator">-></span>l <span class="token operator">^</span> a<span class="token punctuation">.</span>l<span class="token punctuation">)</span> <span class="token keyword">return</span> this<span class="token operator">-></span>l <span class="token operator">></span> a<span class="token punctuation">.</span>l<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//左边界不相等时，左边界大的也就是小区间在前面 </span>        <span class="token keyword">return</span> this<span class="token operator">-></span>r <span class="token operator">&lt;</span> a<span class="token punctuation">.</span>r<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//左边界相等时，右边界小的也就是小区间在前面 </span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>Node num<span class="token punctuation">[</span><span class="token number">2505</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 奶牛 ( 区间 ) </span><span class="token keyword">int</span> fs<span class="token punctuation">[</span><span class="token number">1000</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//每种防晒值的防晒的防晒霜 ( 点 ) 的数量</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> c<span class="token punctuation">,</span> l<span class="token punctuation">,</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>c<span class="token punctuation">,</span> <span class="token operator">&amp;</span>l<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> c<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>l<span class="token punctuation">,</span> <span class="token operator">&amp;</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">sort</span><span class="token punctuation">(</span>num <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> num <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">+</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//处理顺序相关</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> l<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>        fs<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> b<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> c<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//根据顺序相关排序后，处理我们的策略相关 </span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>r<span class="token punctuation">;</span> j <span class="token operator">>=</span> num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>l<span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>fs<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>            <span class="token operator">--</span>fs<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token operator">++</span>ans<span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> ans<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 贪心问题 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>STL-deque</title>
      <link href="posts/9420.html"/>
      <url>posts/9420.html</url>
      
        <content type="html"><![CDATA[<h4 id="支持随机访问一一常数O-1"><a href="#支持随机访问一一常数O-1" class="headerlink" title="支持随机访问一一常数O(1)"></a>支持随机访问一一常数<em>O(1)</em></h4><p><strong>原理</strong></p><h5 id="底层实现逻辑"><a href="#底层实现逻辑" class="headerlink" title="底层实现逻辑"></a>底层实现逻辑</h5><p><strong>内存不连续，实际上是由一段一段定量的连续空间构成</strong></p><h4 id="在结尾或起始插入或移除元素——常数-O-1"><a href="#在结尾或起始插入或移除元素——常数-O-1" class="headerlink" title="在结尾或起始插入或移除元素——常数 O(1)"></a>在结尾或起始插入或移除元素——常数 <em>O(1)</em></h4><h4 id="插入或移除元素——线性-O-n"><a href="#插入或移除元素——线性-O-n" class="headerlink" title="插入或移除元素——线性 O(n)"></a>插入或移除元素——线性 <em>O(n)</em></h4><h4 id="常用操作"><a href="#常用操作" class="headerlink" title="常用操作"></a>常用操作</h4><table><thead><tr><th>函数</th><th>作用</th></tr></thead><tbody><tr><td>front()</td><td>返回第一个元素的引用</td></tr><tr><td>back()</td><td>返回最后一个元素的引用</td></tr><tr><td>push_front(x)</td><td>把元素x插入到双端队列的头部</td></tr><tr><td>pop_front()</td><td>弹出双端队列的第一个元素</td></tr><tr><td>push_back(x)</td><td>把元素x插入到双端队列的尾部</td></tr><tr><td>pop_back()</td><td>弹出双端队列的最后一个元素</td></tr></tbody></table>]]></content>
      
      
      
        <tags>
            
            <tag> C++ </tag>
            
            <tag> STL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++之string的使用</title>
      <link href="posts/52b9.html"/>
      <url>posts/52b9.html</url>
      
        <content type="html"><![CDATA[<h4 id="string类"><a href="#string类" class="headerlink" title="string类"></a>string类</h4><ul><li>string 类重载了 + ， +=， =, [] ；</li></ul><h4 id="结构定义"><a href="#结构定义" class="headerlink" title="结构定义"></a>结构定义</h4><pre class=" language-c++"><code class="language-c++">string s;</code></pre><h4 id="获取长度"><a href="#获取长度" class="headerlink" title="获取长度"></a>获取长度</h4><p><strong>时间复杂度为O(1)</strong></p><ul><li>s.size()</li><li>s.length()</li></ul><h4 id="查找"><a href="#查找" class="headerlink" title="查找"></a>查找</h4><p><strong>s.find( const basic_string&amp; str, size_type pos = 0 )</strong></p><ul><li>第一个参数是查找的字符串，第二个参数是开始查找的位置，第二个可以不写，默认为0，查找不到返回string::npos</li><li>返回值：找到的子串的首字符位置，或若找不到这种子串则为string::npos</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> C++基础 </tag>
            
            <tag> 字符串 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>二分专题</title>
      <link href="posts/e3e8.html"/>
      <url>posts/e3e8.html</url>
      
        <content type="html"><![CDATA[<h4 id="10模型"><a href="#10模型" class="headerlink" title="10模型"></a>10模型</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">// 类似 1 1 1 1 1 1  1 1 key 0 0 0 0 0 0 0 0的二分查找 查找最后一个1</span><span class="token comment" spellcheck="true">//区间 [1, n]</span><span class="token keyword">int</span> <span class="token function">binary_search</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>arr<span class="token punctuation">,</span> <span class="token keyword">int</span> head<span class="token punctuation">,</span> <span class="token keyword">int</span> tail<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//可以理解为查找小于key的最大数</span>    <span class="token keyword">int</span> l <span class="token operator">=</span> head<span class="token punctuation">,</span> r <span class="token operator">=</span> tail<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>l <span class="token operator">&lt;</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>l <span class="token operator">+</span> r <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//+1操作防止特殊情况（1 1）陷入死循环</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">>=</span> key<span class="token punctuation">)</span> r <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">else</span> l <span class="token operator">=</span> mid<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h4 id="01模型"><a href="#01模型" class="headerlink" title="01模型"></a>01模型</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">// 类似0 0 0 0 0 0 0 0 key 1 1 1 1 1 1  1 1 的二分查找 查找第一个1</span><span class="token comment" spellcheck="true">//区间 [1, n]</span><span class="token keyword">int</span> <span class="token function">binary_search</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>arr<span class="token punctuation">,</span> <span class="token keyword">int</span> head<span class="token punctuation">,</span> <span class="token keyword">int</span> tail<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//可以理解为查找大于key的最小数</span>    <span class="token keyword">int</span> l <span class="token operator">=</span> head<span class="token punctuation">,</span> r <span class="token operator">=</span> tail<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>l <span class="token operator">&lt;</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>l <span class="token operator">+</span> r<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>         <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> key<span class="token punctuation">)</span> l <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">else</span> r <span class="token operator">=</span> mid<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h4 id="小数二分"><a href="#小数二分" class="headerlink" title="小数二分"></a>小数二分</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">//区间 [1, n]</span><span class="token macro property">#<span class="token directive keyword">define</span> INF 0.000001</span><span class="token keyword">double</span> <span class="token function">binary_search</span><span class="token punctuation">(</span><span class="token keyword">double</span> <span class="token operator">*</span>arr<span class="token punctuation">,</span> doulbe head<span class="token punctuation">,</span> <span class="token keyword">double</span> tail<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">double</span> l <span class="token operator">=</span> head<span class="token punctuation">,</span> r <span class="token operator">=</span> tail<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>r <span class="token operator">-</span> l <span class="token operator">></span> INF<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//l与r近视相等</span>        <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>l <span class="token operator">+</span> r<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>         <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token number">1</span><span class="token punctuation">)</span> r <span class="token operator">=</span> mid<span class="token punctuation">;</span>        <span class="token keyword">else</span> l <span class="token operator">=</span> mid<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 查找算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>小学奥数体、两人过河</title>
      <link href="posts/af14.html"/>
      <url>posts/af14.html</url>
      
        <content type="html"><![CDATA[<h4 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h4><p>有 n 个人希望在晚上通过一座桥。在任何时刻，最多只能有两个人在桥上，并且必须要带着手电筒才能过桥。现在只有一个手电筒，所以必须安排某种顺序，使得手电筒可以被带回去让更多的人过桥。每个人都有不同的过桥时间，两个人一起过桥所用的时间等于其中较慢的一个人的过桥时间。现求所有人过桥的最短时间。</p><hr><h4 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h4><p> 第一行一个整数 n。（1≤n≤1000）</p><p> 接下来 n 行，每行一个整数表示第 i 人的过桥时间 TiTi。（1≤Ti≤100）</p><h4 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h4><p> 输出所有人过桥的最短时间。</p><hr><h4 id="样例输入"><a href="#样例输入" class="headerlink" title="样例输入"></a>样例输入</h4><pre><code>415210</code></pre><h4 id="样例输出"><a href="#样例输出" class="headerlink" title="样例输出"></a>样例输出</h4><pre><code>17</code></pre><h4 id="样例说明"><a href="#样例说明" class="headerlink" title="样例说明"></a>样例说明</h4><p> 让 1,2 先过桥，然后让 1 回来，让 5,10 过桥，然后 2 回来再和 1 一起过桥，时间为 2+1+10+2+2=17。</p><hr><h4 id="数据规模与约定"><a href="#数据规模与约定" class="headerlink" title="数据规模与约定"></a>数据规模与约定</h4><p> 时间限制：1 s</p><p> 内存限制：256 M</p><p> 100% 的数据保证 1≤n≤1000</p><h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><ul><li>n == 1 直接过河</li><li>n == 2 耗时为慢的人</li><li>n == 3 耗时为最慢的人+次慢的人</li><li>n &gt;= 4 有两种方案：</li><li>方案一：最快的人和次快的人过去，最快的人回来，然后最慢的人跟次慢的人过去，次快的人回来；</li><li>方案二：最快的人跟最慢的人过去，最快的人回来，然后跟次慢的人过去，最快的人回来；</li></ul><h4 id="代码演示1"><a href="#代码演示1" class="headerlink" title="代码演示1"></a>代码演示1</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">define</span> min(a, b) ((a) > (b) ? (b) : (a))</span><span class="token keyword">void</span> <span class="token function">quick_sort</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>arr<span class="token punctuation">,</span> <span class="token keyword">int</span> l<span class="token punctuation">,</span> <span class="token keyword">int</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">>=</span> r<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token keyword">int</span> x <span class="token operator">=</span>l<span class="token punctuation">,</span> y <span class="token operator">=</span> r<span class="token punctuation">,</span> z <span class="token operator">=</span> arr<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> y <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">>=</span> z<span class="token punctuation">)</span> <span class="token operator">--</span>y<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> y<span class="token punctuation">)</span> arr<span class="token punctuation">[</span>x<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> y <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> z<span class="token punctuation">)</span> <span class="token operator">++</span>x<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> y<span class="token punctuation">)</span> arr<span class="token punctuation">[</span>y<span class="token operator">--</span><span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    arr<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> z<span class="token punctuation">;</span>    <span class="token function">quick_sort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> l<span class="token punctuation">,</span> x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">quick_sort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> num<span class="token punctuation">[</span><span class="token number">1005</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ans<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">quick_sort</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> n<span class="token punctuation">;</span> i<span class="token punctuation">;</span> i <span class="token operator">-</span><span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">||</span> i <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            ans <span class="token operator">+</span><span class="token operator">=</span> num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            ans <span class="token operator">+</span><span class="token operator">=</span> num<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span> num<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> num<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            ans <span class="token operator">+</span><span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> num<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> num<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> num<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> num<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span> num<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span> num<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">//num[i] + num[1] + num[i - 1] + num[1] :方案 二</span>        <span class="token comment" spellcheck="true">//num[2] + num[2] + num[1] + num[i] :方案1 </span>    <span class="token punctuation">}</span>      <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> ans<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="代码演示2"><a href="#代码演示2" class="headerlink" title="代码演示2"></a>代码演示2</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">define</span> min(a, b) ((a) > (b) ? (b) : (a))</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> num<span class="token punctuation">[</span><span class="token number">1005</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ans<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">comp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">void</span> <span class="token operator">*</span>a<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">void</span> <span class="token operator">*</span>b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span>a<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">qsort</span><span class="token punctuation">(</span>num <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">,</span> comp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//升序</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> n<span class="token punctuation">;</span> i<span class="token punctuation">;</span> i <span class="token operator">-</span><span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">||</span> i <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            ans <span class="token operator">+</span><span class="token operator">=</span> num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            ans <span class="token operator">+</span><span class="token operator">=</span> num<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span> num<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> num<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//n >= 4</span>            ans <span class="token operator">+</span><span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> num<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> num<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> num<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> num<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span> num<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">+</span> num<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">//num[i] + num[1] + num[i - 1] + num[1] :方案 二</span>        <span class="token comment" spellcheck="true">//num[2] + num[2] + num[1] + num[i] :方案1 </span>    <span class="token punctuation">}</span>      <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> ans<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>c语言qsort讲解</title>
      <link href="posts/461.html"/>
      <url>posts/461.html</url>
      
        <content type="html"><![CDATA[<h4 id="原型"><a href="#原型" class="headerlink" title="原型"></a>原型</h4><p>**void qsort(void <em>Base, int size_t_NumOfElements, size_t_SizeOfElements, int (</em>_PtFuncCompare)(const void <em>, const void <em>))</em></em></p><p><strong>其中</strong></p><ul><li>Base：要排序数组的第一个元素地址</li><li>size_t_NumOfElements ：排序元素的个数</li><li>size_t_SizeOfElements ：该类型元素的字节个数</li><li> (*_PtFuncCompare)(const void *, const void *) ：排序规则函数</li></ul><h4 id="排序规则函数解析"><a href="#排序规则函数解析" class="headerlink" title="排序规则函数解析"></a>排序规则函数解析</h4><p><strong>int类型元素排序</strong></p><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">//*((int *)a) == 将无类型指针转换为int型指针，在取该地址元素值</span><span class="token keyword">int</span> <span class="token function">comp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">void</span> <span class="token operator">*</span>a<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">void</span> <span class="token operator">*</span>b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span>a<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//a - b表示升序</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">comp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">void</span> <span class="token operator">*</span>a<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">void</span> <span class="token operator">*</span>b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span>b<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//b - a表示降序</span><span class="token punctuation">}</span></code></pre><p><strong>结构体类型元素排序</strong></p><pre><code>typedef struct Node {    int time, key;} Node;//a - b  表示升序//b - a  表示降序//排序time;int comp(const void *a,const void *b) { //无类型指针     return ((Node *)a)-&gt;time - ((Node *)b)-&gt;time;//强制转换为该类型指针 }//排序keyint comp(const void *a,const void *b) { //无类型指针     return ((Node *)a)-&gt;key - ((Node *)b)-&gt;key;//强制转换为该类型指针 }</code></pre><h4 id="结构体排序代码演示"><a href="#结构体排序代码演示" class="headerlink" title="结构体排序代码演示"></a>结构体排序代码演示</h4><pre><code>#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;typedef struct Node {    int time, key;} Node;//a - b  表示升序//b - a  表示降序int comp(const void *a,const void *b) { //无类型指针     return ((Node *)a)-&gt;time - ((Node *)b)-&gt;time;//强制转换为该类型指针 }Node num[32];int main() {    int n;    scanf("%d", &amp;n);    for (int i = 1; i &lt;= n; i++) {        num[i].key = i;        scanf("%d", &amp;num[i].time);    }    qsort(num + 1, n, sizeof(Node), comp);    int sum = 0, temp = 0;    for (int i = 1; i &lt;= n; i++) {        (i &gt; 1) &amp;&amp; printf(" ");        printf("%d", num[i].key);        if (i &gt; 1) temp += num[i - 1].time;        sum += temp;    }    printf("\n%.2lf\n", (double)sum / n);    return 0;}</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> c语言 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>力扣6、Z字形变换</title>
      <link href="posts/9367.html"/>
      <url>posts/9367.html</url>
      
        <content type="html"><![CDATA[<h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><p><strong>思路</strong></p><ul><li>模拟输出，找到规律就好</li></ul><pre class=" language-c"><code class="language-c"><span class="token keyword">char</span> <span class="token operator">*</span> <span class="token function">convert</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span> s<span class="token punctuation">,</span> <span class="token keyword">int</span> numRows<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>numRows <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> s<span class="token punctuation">;</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> <span class="token operator">*</span>ss <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    ss<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'\0'</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//输出第一行</span>    <span class="token keyword">int</span> t <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> it <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>t <span class="token operator">&lt;=</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//printf("%c", s[t - 1]);</span>        ss<span class="token punctuation">[</span>it<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>t <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        t <span class="token operator">+</span><span class="token operator">=</span> <span class="token punctuation">(</span>numRows <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> k <span class="token operator">=</span> numRows <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numRows<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        t <span class="token operator">=</span> i<span class="token punctuation">;</span>        <span class="token keyword">int</span> flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>t <span class="token operator">&lt;=</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment" spellcheck="true">//printf("%c", s[t - 1]);</span>            ss<span class="token punctuation">[</span>it<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>t <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>k <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                t <span class="token operator">+</span><span class="token operator">=</span> <span class="token punctuation">(</span>numRows <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>                t <span class="token operator">+</span><span class="token operator">=</span> k <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                    t <span class="token operator">+</span><span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>numRows <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token punctuation">(</span>k <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>            flag <span class="token operator">=</span> <span class="token operator">!</span>flag<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token operator">--</span>k<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    t <span class="token operator">=</span> numRows<span class="token punctuation">;</span>   <span class="token keyword">while</span> <span class="token punctuation">(</span>t <span class="token operator">&lt;=</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>       <span class="token comment" spellcheck="true">// printf("%c", s[t - 1]);</span>       ss<span class="token punctuation">[</span>it<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>t <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        t <span class="token operator">+</span><span class="token operator">=</span> <span class="token punctuation">(</span>numRows <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> ss<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 力扣题解 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>力扣589、N叉树的前序遍历</title>
      <link href="posts/41e5.html"/>
      <url>posts/41e5.html</url>
      
        <content type="html"><![CDATA[<h4 id="递归法"><a href="#递归法" class="headerlink" title="递归法"></a>递归法</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/** * Definition for a Node. * struct Node { *     int val; *     int numChildren; *     struct Node** children; * }; */</span><span class="token comment" spellcheck="true">/** * Note: The returned array must be malloced, assume caller calls free(). */</span><span class="token keyword">int</span> <span class="token function">getSize</span><span class="token punctuation">(</span><span class="token keyword">struct</span> Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//求数组大小</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> root<span class="token operator">-></span>numChildren<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        sum <span class="token operator">+</span><span class="token operator">=</span> <span class="token function">getSize</span><span class="token punctuation">(</span>root<span class="token operator">-></span>children<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> sum<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">__preorder</span><span class="token punctuation">(</span><span class="token keyword">struct</span> Node <span class="token operator">*</span>root<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>t<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>ans<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    ans<span class="token punctuation">[</span><span class="token operator">*</span>t<span class="token punctuation">]</span> <span class="token operator">=</span> root<span class="token operator">-></span>val<span class="token punctuation">;</span>    <span class="token operator">*</span>t <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> root<span class="token operator">-></span>numChildren<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">__preorder</span><span class="token punctuation">(</span>root<span class="token operator">-></span>children<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> t<span class="token punctuation">,</span> ans<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span><span class="token operator">*</span> <span class="token function">preorder</span><span class="token punctuation">(</span><span class="token keyword">struct</span> Node<span class="token operator">*</span> root<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> returnSize<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token function">getSize</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> <span class="token operator">*</span>ans <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> t <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token function">__preorder</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> <span class="token operator">&amp;</span>t<span class="token punctuation">,</span> ans<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token operator">*</span>returnSize <span class="token operator">=</span> n<span class="token punctuation">;</span>    <span class="token keyword">return</span> ans<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 力扣题解 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>力扣105、从前序与中序遍历序列构造二叉树</title>
      <link href="posts/7c91.html"/>
      <url>posts/7c91.html</url>
      
        <content type="html"><![CDATA[<h4 id="一般方法"><a href="#一般方法" class="headerlink" title="一般方法"></a>一般方法</h4><p><strong>能递归则递归</strong></p><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/** * Definition for a binary tree node. * struct TreeNode { *     int val; *     struct TreeNode *left; *     struct TreeNode *right; * }; */</span><span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> <span class="token function">buildTree</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> preorder<span class="token punctuation">,</span> <span class="token keyword">int</span> preorderSize<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> inorder<span class="token punctuation">,</span> <span class="token keyword">int</span> inorderSize<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>preorder <span class="token operator">==</span> <span class="token constant">NULL</span> <span class="token operator">||</span> preorderSize <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>root <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    root<span class="token operator">-></span>val <span class="token operator">=</span> preorder<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    root<span class="token operator">-></span>left <span class="token operator">=</span> root<span class="token operator">-></span>right <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> l_size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>inorder<span class="token punctuation">[</span>l_size<span class="token punctuation">]</span> <span class="token operator">!=</span> preorder<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> l_size<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//找到左子树节点个数</span>    root<span class="token operator">-></span>left <span class="token operator">=</span> <span class="token function">buildTree</span><span class="token punctuation">(</span>preorder <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> l_size<span class="token punctuation">,</span> inorder<span class="token punctuation">,</span> l_size<span class="token punctuation">)</span><span class="token punctuation">;</span>    root<span class="token operator">-></span>right <span class="token operator">=</span> <span class="token function">buildTree</span><span class="token punctuation">(</span>preorder <span class="token operator">+</span> l_size <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> preorderSize <span class="token operator">-</span> l_size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> inorder <span class="token operator">+</span> l_size <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> preorderSize <span class="token operator">-</span> l_size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> root<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>力扣103.二叉树的锯齿形层序遍历</title>
      <link href="posts/acc0.html"/>
      <url>posts/acc0.html</url>
      
        <content type="html"><![CDATA[<h4 id="自己写的"><a href="#自己写的" class="headerlink" title="自己写的"></a>自己写的</h4><pre class=" language-c++"><code class="language-c++">/** * Definition for a binary tree node. * struct TreeNode { *     int val; *     TreeNode *left; *     TreeNode *right; *     TreeNode() : val(0), left(nullptr), right(nullptr) {} *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {} *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {} * }; */class Solution {public:    vector<vector<int>> zigzagLevelOrder(TreeNode* root) {        vector<vector<int>> ans;        if (root == NULL) {            return ans;        }        stack <TreeNode *> s1, s2;        vector <int> temp;        s1.push(root);        int flag = 0;        while(!s1.empty()) {            TreeNode *tem = s1.top();            s1.pop();            temp.push_back(tem->val);            if (!flag) {                if (tem->left) s2.push(tem->left);                if (tem->right) s2.push(tem->right);            } else {                if (tem->right) s2.push(tem->right);                if (tem->left) s2.push(tem->left);            }            if (s1.empty()) {                ans.push_back(temp);                temp.clear();                s1.swap(s2);                flag = !flag;            }        }return ans;    }    };</code></pre><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/Axieyun/cdn@1.6/_pots/%E5%8A%9B%E6%89%A3103.png"></p>]]></content>
      
      
      
        <tags>
            
            <tag> 力扣题解 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>力扣112.路径总和</title>
      <link href="posts/15ea.html"/>
      <url>posts/15ea.html</url>
      
        <content type="html"><![CDATA[<h4 id="自己写的"><a href="#自己写的" class="headerlink" title="自己写的"></a>自己写的</h4><p><strong>由于数据不是很大，所以我用一个数组保留了所有路径和，最后进行查找</strong></p><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/** * Definition for a binary tree node. * struct TreeNode { *     int val; *     struct TreeNode *left; *     struct TreeNode *right; * }; */</span><span class="token keyword">void</span> <span class="token function">hash_insert</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>A<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>num<span class="token punctuation">,</span> <span class="token keyword">int</span> sum<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>A<span class="token operator">-></span>left <span class="token operator">==</span> <span class="token constant">NULL</span> <span class="token operator">&amp;&amp;</span> A<span class="token operator">-></span>right <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>sum <span class="token operator">></span> <span class="token number">1000</span> <span class="token operator">||</span> sum <span class="token operator">&lt;</span> <span class="token operator">-</span><span class="token number">1000</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>sum <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> num<span class="token punctuation">[</span><span class="token number">1000</span> <span class="token operator">-</span> sum<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">else</span> num<span class="token punctuation">[</span>sum<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token punctuation">}</span>     <span class="token keyword">if</span> <span class="token punctuation">(</span>A<span class="token operator">-></span>left<span class="token punctuation">)</span> <span class="token function">hash_insert</span><span class="token punctuation">(</span>A<span class="token operator">-></span>left<span class="token punctuation">,</span> num<span class="token punctuation">,</span> sum <span class="token operator">+</span> A<span class="token operator">-></span>left<span class="token operator">-></span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>A<span class="token operator">-></span>right<span class="token punctuation">)</span> <span class="token function">hash_insert</span><span class="token punctuation">(</span>A<span class="token operator">-></span>right<span class="token punctuation">,</span> num<span class="token punctuation">,</span> sum <span class="token operator">+</span> A<span class="token operator">-></span>right<span class="token operator">-></span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span>bool <span class="token function">hasPathSum</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> root<span class="token punctuation">,</span> <span class="token keyword">int</span> targetSum<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>    <span class="token keyword">int</span> num<span class="token punctuation">[</span><span class="token number">2001</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token function">hash_insert</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> num<span class="token punctuation">,</span> root<span class="token operator">-></span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>targetSum <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> num<span class="token punctuation">[</span>targetSum<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> num<span class="token punctuation">[</span><span class="token number">1000</span> <span class="token operator">-</span> targetSum<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="精简版"><a href="#精简版" class="headerlink" title="精简版"></a>精简版</h4><p><strong>判断该节点是否为叶子节点，是就判断targetsum是否等于叶子节点的val，等于返回true，否则返回false；不是叶子节点就减去该节点val值，继续找到叶子节点</strong></p><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/** * Definition for a binary tree node. * struct TreeNode { *     int val; *     struct TreeNode *left; *     struct TreeNode *right; * }; */</span>bool <span class="token function">hasPathSum</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> root<span class="token punctuation">,</span> <span class="token keyword">int</span> targetSum<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>left <span class="token operator">==</span> <span class="token constant">NULL</span> <span class="token operator">&amp;&amp;</span> root<span class="token operator">-></span>right <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> targetSum <span class="token operator">==</span> root<span class="token operator">-></span>val<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token function">hasPathSum</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> targetSum <span class="token operator">-</span> root<span class="token operator">-></span>val<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token function">hasPathSum</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> targetSum <span class="token operator">-</span> root<span class="token operator">-></span>val<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 力扣题解 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>力扣剑指Offer26.树的子结构</title>
      <link href="posts/undefined.html"/>
      <url>posts/undefined.html</url>
      
        <content type="html"><![CDATA[<h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><ul><li>遍历A的所有节点，找到与B树根节点值相同的节点，判断从该节点出发的树是否和B树相同</li></ul><h4 id="自己写的"><a href="#自己写的" class="headerlink" title="自己写的"></a>自己写的</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/** * Definition for a binary tree node. * struct TreeNode { *     int val; *     struct TreeNode *left; *     struct TreeNode *right; * }; */</span>bool flag <span class="token operator">=</span> false<span class="token punctuation">;</span>bool <span class="token function">func1</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>A<span class="token punctuation">,</span> <span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>B<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>B <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> true<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>A <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>A<span class="token operator">-></span>val <span class="token operator">!=</span> B<span class="token operator">-></span>val<span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>    <span class="token keyword">return</span> flag <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token function">func1</span><span class="token punctuation">(</span>A<span class="token operator">-></span>left<span class="token punctuation">,</span> B<span class="token operator">-></span>left<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">func1</span><span class="token punctuation">(</span>A<span class="token operator">-></span>right<span class="token punctuation">,</span> B<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>A<span class="token punctuation">,</span> <span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>B<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>A <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span> 说明在A树中找到B树了    <span class="token keyword">if</span> <span class="token punctuation">(</span>A<span class="token operator">-></span>val <span class="token operator">==</span> B<span class="token operator">-></span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">func1</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> B<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">func</span><span class="token punctuation">(</span>A<span class="token operator">-></span>left<span class="token punctuation">,</span> B<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//遍历A树</span>    <span class="token function">func</span><span class="token punctuation">(</span>A<span class="token operator">-></span>right<span class="token punctuation">,</span> B<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//遍历A树</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span>bool <span class="token function">isSubStructure</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> A<span class="token punctuation">,</span> <span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> B<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>B <span class="token operator">==</span> <span class="token constant">NULL</span> <span class="token operator">||</span> A <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>    flag <span class="token operator">=</span> false<span class="token punctuation">;</span>    <span class="token function">func</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> B<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> flag<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="精简版"><a href="#精简版" class="headerlink" title="精简版"></a>精简版</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/** * Definition for a binary tree node. * struct TreeNode { *     int val; *     struct TreeNode *left; *     struct TreeNode *right; * }; */</span><span class="token comment" spellcheck="true">// bool flag = false;</span><span class="token comment" spellcheck="true">// bool func1(struct TreeNode *A, struct TreeNode *B) {</span><span class="token comment" spellcheck="true">//     if (B == NULL) return true;</span><span class="token comment" spellcheck="true">//     if (A == NULL) return false;</span><span class="token comment" spellcheck="true">//     if (A->val != B->val) return false;</span><span class="token comment" spellcheck="true">//     return flag = (func1(A->left, B->left) &amp;&amp; func1(A->right, B->right));</span><span class="token comment" spellcheck="true">// }</span><span class="token comment" spellcheck="true">// void func(struct TreeNode *A, struct TreeNode *B) {</span><span class="token comment" spellcheck="true">//     if (A == NULL) return ;</span><span class="token comment" spellcheck="true">//     if (flag) return ;</span><span class="token comment" spellcheck="true">//     if (A->val == B->val) {</span><span class="token comment" spellcheck="true">//         func1(A, B);</span><span class="token comment" spellcheck="true">//     }</span><span class="token comment" spellcheck="true">//     func(A->left, B);</span><span class="token comment" spellcheck="true">//     func(A->right, B);</span><span class="token comment" spellcheck="true">//     return ;</span><span class="token comment" spellcheck="true">// }</span>bool <span class="token function">is_match</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>A<span class="token punctuation">,</span> <span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>B<span class="token punctuation">)</span> <span class="token punctuation">{</span> 判断从子节点A出发的子树和B树是否相同    <span class="token keyword">if</span> <span class="token punctuation">(</span>B <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> true<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>A <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>A<span class="token operator">-></span>val <span class="token operator">!=</span> B<span class="token operator">-></span>val<span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token function">is_match</span><span class="token punctuation">(</span>A<span class="token operator">-></span>left<span class="token punctuation">,</span> B<span class="token operator">-></span>left<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">is_match</span><span class="token punctuation">(</span>A<span class="token operator">-></span>right<span class="token punctuation">,</span> B<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>bool <span class="token function">isSubStructure</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> A<span class="token punctuation">,</span> <span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> B<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>B <span class="token operator">==</span> <span class="token constant">NULL</span> <span class="token operator">||</span> A <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>A<span class="token operator">-></span>val <span class="token operator">==</span> B<span class="token operator">-></span>val <span class="token operator">&amp;&amp;</span> <span class="token function">is_match</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> B<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> true<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//</span>    <span class="token keyword">return</span> <span class="token function">isSubStructure</span><span class="token punctuation">(</span>A<span class="token operator">-></span>left<span class="token punctuation">,</span> B<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token function">isSubStructure</span><span class="token punctuation">(</span>A<span class="token operator">-></span>right<span class="token punctuation">,</span> B<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//遍历A树</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 力扣题解 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>力扣108、将有序数组转换为二叉搜索树</title>
      <link href="posts/e936.html"/>
      <url>posts/e936.html</url>
      
        <content type="html"><![CDATA[<h4 id="笨方法"><a href="#笨方法" class="headerlink" title="笨方法"></a>笨方法</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/** * Definition for a binary tree node. * struct TreeNode { *     int val; *     struct TreeNode *left; *     struct TreeNode *right; * }; */</span><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span><span class="token function">getNewNode</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    p<span class="token operator">-></span>val <span class="token operator">=</span> val<span class="token punctuation">;</span>    p<span class="token operator">-></span>left <span class="token operator">=</span> p<span class="token operator">-></span>right <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> p<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">get_hight</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//获取树高</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> l <span class="token operator">=</span> <span class="token function">get_hight</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> r <span class="token operator">=</span> <span class="token function">get_hight</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>l <span class="token operator">></span> r <span class="token operator">?</span> l <span class="token punctuation">:</span> r<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span><span class="token function">left_rotate</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//左旋操作 </span>    <span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>temp <span class="token operator">=</span> root<span class="token operator">-></span>right<span class="token punctuation">;</span>    root<span class="token operator">-></span>right <span class="token operator">=</span> temp<span class="token operator">-></span>left<span class="token punctuation">;</span>    temp<span class="token operator">-></span>left <span class="token operator">=</span> root<span class="token punctuation">;</span>    <span class="token keyword">return</span> temp<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span><span class="token function">right_rotate</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//右旋操作 </span>    <span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>temp <span class="token operator">=</span> root<span class="token operator">-></span>left<span class="token punctuation">;</span>    root<span class="token operator">-></span>left <span class="token operator">=</span> temp<span class="token operator">-></span>right<span class="token punctuation">;</span>    temp<span class="token operator">-></span>right <span class="token operator">=</span> root<span class="token punctuation">;</span>    <span class="token keyword">return</span> temp<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span><span class="token function">maintain</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token function">get_hight</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">get_hight</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> root<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">get_hight</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token function">get_hight</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//左子树高，失衡 ,L </span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">get_hight</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token operator">-></span>right<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token function">get_hight</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            root<span class="token operator">-></span>left <span class="token operator">=</span> <span class="token function">left_rotate</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//LR失衡</span>        <span class="token punctuation">}</span>        root <span class="token operator">=</span> <span class="token function">right_rotate</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//   LL失衡</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//右子树高， 失衡 R</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">get_hight</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token operator">-></span>right<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token function">get_hight</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//  RL失衡</span>                root<span class="token operator">-></span>right <span class="token operator">=</span> <span class="token function">right_rotate</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token punctuation">}</span>        root <span class="token operator">=</span> <span class="token function">left_rotate</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// RR失衡</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> root<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>root<span class="token punctuation">,</span> <span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">getNewNode</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>val <span class="token operator">==</span> val<span class="token punctuation">)</span> <span class="token keyword">return</span> root<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>val <span class="token operator">></span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>        root<span class="token operator">-></span>left <span class="token operator">=</span> <span class="token function">insert</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        root<span class="token operator">-></span>right <span class="token operator">=</span> <span class="token function">insert</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token function">maintain</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> <span class="token function">sortedArrayToBST</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> numsSize<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>root <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numsSize<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        root <span class="token operator">=</span> <span class="token function">insert</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> root<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> <span class="token function">helper</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> left<span class="token punctuation">,</span> <span class="token keyword">int</span> right<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">></span> right<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">// 总是选择中间位置左边的数字作为根节点</span>    <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>left <span class="token operator">+</span> right<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>    <span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> root <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    root<span class="token operator">-></span>val <span class="token operator">=</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">;</span>    root<span class="token operator">-></span>left <span class="token operator">=</span> <span class="token function">helper</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> left<span class="token punctuation">,</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    root<span class="token operator">-></span>right <span class="token operator">=</span> <span class="token function">helper</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> root<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> <span class="token function">sortedArrayToBST</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> numsSize<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token function">helper</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> numsSize <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="快速方法"><a href="#快速方法" class="headerlink" title="快速方法"></a>快速方法</h4><p><strong>思路</strong></p><ul><li>对于平衡二叉树，其左子树和右子树高度绝对值不超过1</li><li>所以我们将有序数组对半进行划分给左右子树</li></ul><h4 id="代码演示1"><a href="#代码演示1" class="headerlink" title="代码演示1"></a>代码演示1</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> <span class="token function">helper</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> left<span class="token punctuation">,</span> <span class="token keyword">int</span> right<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">></span> right<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">// 总是选择中间位置左边的数字作为根节点</span>    <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>left <span class="token operator">+</span> right<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>    <span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> root <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode<span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    root<span class="token operator">-></span>val <span class="token operator">=</span> nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">;</span>    root<span class="token operator">-></span>left <span class="token operator">=</span> <span class="token function">helper</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> left<span class="token punctuation">,</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    root<span class="token operator">-></span>right <span class="token operator">=</span> <span class="token function">helper</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> root<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> <span class="token function">sortedArrayToBST</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> numsSize<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token function">helper</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> numsSize <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="代码演示二"><a href="#代码演示二" class="headerlink" title="代码演示二"></a>代码演示二</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/** * Definition for a binary tree node. * struct TreeNode { *     int val; *     struct TreeNode *left; *     struct TreeNode *right; * }; */</span><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span><span class="token function">func</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>nums<span class="token punctuation">,</span> <span class="token keyword">int</span> left<span class="token punctuation">,</span> <span class="token keyword">int</span> right<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">>=</span> right<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> ind <span class="token operator">=</span> <span class="token punctuation">(</span>left <span class="token operator">+</span> right<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 选择中间位置右边的数字作为根节点</span>    <span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>root <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    root<span class="token operator">-></span>val <span class="token operator">=</span> nums<span class="token punctuation">[</span>ind<span class="token punctuation">]</span><span class="token punctuation">;</span>    root<span class="token operator">-></span>left <span class="token operator">=</span> <span class="token function">func</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> left<span class="token punctuation">,</span> ind<span class="token punctuation">)</span><span class="token punctuation">;</span>    root<span class="token operator">-></span>right <span class="token operator">=</span> <span class="token function">func</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> ind <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> root<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> <span class="token function">sortedArrayToBST</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> numsSize<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token function">func</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> numsSize<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 力扣题解 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>平衡二叉查找树之AVL树</title>
      <link href="posts/67c6.html"/>
      <url>posts/67c6.html</url>
      
        <content type="html"><![CDATA[<h4 id="性质"><a href="#性质" class="headerlink" title="性质"></a>性质</h4><ul><li>| H (left) - H (right) | &lt;= 1</li></ul><h4 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h4><ul><li>由于对每个节点的左右子树的树高做了限制，故整棵树不会退化为一颗链表</li><li>继承了二叉查找树所以的性质，相比二叉排序树其查找效率更高</li></ul><h4 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h4><ul><li>AVL树为了维持高度平衡，付出了很大代价，每次插入、删除操作都要调整，就比较耗时、复杂</li><li>对于频繁的插入、删除操作的数据集合，使用AVL树代价高</li><li></li></ul><h4 id="高度为H的AVL树，包含节点个数范围？"><a href="#高度为H的AVL树，包含节点个数范围？" class="headerlink" title="高度为H的AVL树，包含节点个数范围？"></a>高度为H的AVL树，包含节点个数范围？</h4><ul><li>low(H - 1) + low(H - 2) + 1 &lt;= size(H) &lt;= 2^H - 1</li></ul><h4 id="判断是否失衡"><a href="#判断是否失衡" class="headerlink" title="判断是否失衡"></a>判断是否失衡</h4><ul><li>判断失衡是在节点插入和删除后</li><li>若失衡，则进行调整</li></ul><pre class=" language-c"><code class="language-c">Node <span class="token operator">*</span><span class="token function">maintain</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">abs</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token operator">-></span>hight <span class="token operator">-</span> root<span class="token operator">-></span>right<span class="token operator">-></span>hight<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> root<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token operator">-></span>hight <span class="token operator">></span> root<span class="token operator">-></span>right<span class="token operator">-></span>hight<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//左子树高，失衡 ,L </span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token operator">-></span>right<span class="token operator">-></span>hight <span class="token operator">></span> root<span class="token operator">-></span>left<span class="token operator">-></span>left<span class="token operator">-></span>hight<span class="token punctuation">)</span> <span class="token punctuation">{</span>            root<span class="token operator">-></span>left <span class="token operator">=</span> <span class="token function">left_rotate</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//LR失衡</span>        <span class="token punctuation">}</span>        root <span class="token operator">=</span> <span class="token function">right_rotate</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//   LL失衡</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//右子树高， 失衡 R</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token operator">-></span>right<span class="token operator">-></span>hight <span class="token operator">&lt;</span> root<span class="token operator">-></span>left<span class="token operator">-></span>left<span class="token operator">-></span>hight<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//  RL失衡</span>                root<span class="token operator">-></span>right <span class="token operator">=</span> <span class="token function">right_rotate</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token punctuation">}</span>        root <span class="token operator">=</span> <span class="token function">left_rotate</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// RR失衡</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> root<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="左旋"><a href="#左旋" class="headerlink" title="左旋"></a>左旋</h4><pre class=" language-c"><code class="language-c">Node <span class="token operator">*</span><span class="token function">left_rotate</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//左旋操作 </span>    Node <span class="token operator">*</span>temp <span class="token operator">=</span> root<span class="token operator">-></span>right<span class="token punctuation">;</span>    root<span class="token operator">-></span>right <span class="token operator">=</span> temp<span class="token operator">-></span>left<span class="token punctuation">;</span>    temp<span class="token operator">-></span>left <span class="token operator">=</span> root<span class="token punctuation">;</span>    <span class="token function">update_h</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">update_h</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> temp<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="右旋"><a href="#右旋" class="headerlink" title="右旋"></a>右旋</h4><pre class=" language-C"><code class="language-C">Node *right_rotate(Node *root) { //右旋操作     Node *temp = root->left;    root->left = temp->right;    temp->right = root;    update_h(root);    update_h(temp);    return temp; }</code></pre><h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h></span></span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Node <span class="token punctuation">{</span>    <span class="token keyword">int</span> value<span class="token punctuation">,</span> h<span class="token punctuation">;</span>    <span class="token keyword">struct</span> Node <span class="token operator">*</span>left<span class="token punctuation">,</span> <span class="token operator">*</span>right<span class="token punctuation">;</span><span class="token punctuation">}</span> Node<span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">define</span> max(a, b) ({\    __typeof(a) _a = a;\    __typeof(b) _b = b;\    _a > _b ? _a : _b;\})</span>Node __NIL<span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">define</span> NIL (&amp;(__NIL))</span><span class="token function">__attribute__</span><span class="token punctuation">(</span><span class="token punctuation">(</span>constructor<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">void</span> <span class="token function">init_NIL</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    NIL<span class="token operator">-></span>value <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    NIL<span class="token operator">-></span>h <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    NIL<span class="token operator">-></span>left <span class="token operator">=</span> NIL<span class="token operator">-></span>right <span class="token operator">=</span> NIL<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span>Node <span class="token operator">*</span><span class="token function">getNewNode</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token punctuation">(</span>Node <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    p<span class="token operator">-></span>value <span class="token operator">=</span> val<span class="token punctuation">;</span>    p<span class="token operator">-></span>left <span class="token operator">=</span> p<span class="token operator">-></span>right <span class="token operator">=</span> NIL<span class="token punctuation">;</span>    p<span class="token operator">-></span>h <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> p<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">clear</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> NIL<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">clear</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">clear</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">update_h</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//计算节点高度 </span>    root<span class="token operator">-></span>h <span class="token operator">=</span>  <span class="token function">max</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token operator">-></span>h<span class="token punctuation">,</span> root<span class="token operator">-></span>right<span class="token operator">-></span>h<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span>Node <span class="token operator">*</span><span class="token function">left_rotate</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//左旋操作 </span>    Node <span class="token operator">*</span>temp <span class="token operator">=</span> root<span class="token operator">-></span>right<span class="token punctuation">;</span>    root<span class="token operator">-></span>right <span class="token operator">=</span> temp<span class="token operator">-></span>left<span class="token punctuation">;</span>    temp<span class="token operator">-></span>left <span class="token operator">=</span> root<span class="token punctuation">;</span>    <span class="token function">update_h</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">update_h</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> temp<span class="token punctuation">;</span><span class="token punctuation">}</span>Node <span class="token operator">*</span><span class="token function">right_rotate</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//右旋操作 </span>    Node <span class="token operator">*</span>temp <span class="token operator">=</span> root<span class="token operator">-></span>left<span class="token punctuation">;</span>    root<span class="token operator">-></span>left <span class="token operator">=</span> temp<span class="token operator">-></span>right<span class="token punctuation">;</span>    temp<span class="token operator">-></span>right <span class="token operator">=</span> root<span class="token punctuation">;</span>    <span class="token function">update_h</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">update_h</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> temp<span class="token punctuation">;</span> <span class="token punctuation">}</span>Node <span class="token operator">*</span><span class="token function">maintain</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">abs</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token operator">-></span>h <span class="token operator">-</span> root<span class="token operator">-></span>right<span class="token operator">-></span>h<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> root<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token operator">-></span>h <span class="token operator">></span> root<span class="token operator">-></span>right<span class="token operator">-></span>h<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//左子树高，失衡 ,L </span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token operator">-></span>right<span class="token operator">-></span>h <span class="token operator">></span> root<span class="token operator">-></span>left<span class="token operator">-></span>left<span class="token operator">-></span>h<span class="token punctuation">)</span> <span class="token punctuation">{</span>            root<span class="token operator">-></span>left <span class="token operator">=</span> <span class="token function">left_rotate</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//LR失衡</span>        <span class="token punctuation">}</span>        root <span class="token operator">=</span> <span class="token function">right_rotate</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//   LL失衡</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//右子树高， 失衡 R</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token operator">-></span>right<span class="token operator">-></span>h <span class="token operator">&lt;</span> root<span class="token operator">-></span>right<span class="token operator">-></span>left<span class="token operator">-></span>h<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//  RL失衡</span>                root<span class="token operator">-></span>right <span class="token operator">=</span> <span class="token function">right_rotate</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token punctuation">}</span>        root <span class="token operator">=</span> <span class="token function">left_rotate</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// RR失衡</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> root<span class="token punctuation">;</span><span class="token punctuation">}</span>Node <span class="token operator">*</span><span class="token function">insert</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">,</span> <span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> NIL<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">getNewNode</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>value <span class="token operator">==</span> val<span class="token punctuation">)</span> <span class="token keyword">return</span> root<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>value <span class="token operator">></span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>        root<span class="token operator">-></span>left <span class="token operator">=</span> <span class="token function">insert</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        root<span class="token operator">-></span>right <span class="token operator">=</span> <span class="token function">insert</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">update_h</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token function">maintain</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//返回调整平衡后的节点</span><span class="token punctuation">}</span>Node <span class="token operator">*</span><span class="token function">get_per</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//得到前驱节点 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> NIL<span class="token punctuation">;</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> root<span class="token operator">-></span>left<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">&amp;&amp;</span> p<span class="token operator">-></span>right <span class="token operator">!=</span> NIL<span class="token punctuation">)</span> p <span class="token operator">=</span> p<span class="token operator">-></span>right<span class="token punctuation">;</span>    <span class="token keyword">return</span> p<span class="token punctuation">;</span><span class="token punctuation">}</span>Node <span class="token operator">*</span><span class="token function">erase</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">,</span> <span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> NIL<span class="token punctuation">)</span> <span class="token keyword">return</span> NIL<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>value <span class="token operator">></span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>        root<span class="token operator">-></span>left <span class="token operator">=</span> <span class="token function">erase</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>value <span class="token operator">&lt;</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>        root<span class="token operator">-></span>right <span class="token operator">=</span> <span class="token function">erase</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>left <span class="token operator">==</span> NIL <span class="token operator">||</span> root<span class="token operator">-></span>right <span class="token operator">==</span> NIL<span class="token punctuation">)</span> <span class="token punctuation">{</span>            Node <span class="token operator">*</span>temp <span class="token operator">=</span> root<span class="token operator">-></span>left <span class="token operator">?</span> root<span class="token operator">-></span>left <span class="token punctuation">:</span> root<span class="token operator">-></span>right<span class="token punctuation">;</span>            <span class="token function">free</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> temp<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        Node <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token function">get_per</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>        root<span class="token operator">-></span>value <span class="token operator">=</span> p<span class="token operator">-></span>value<span class="token punctuation">;</span>        root<span class="token operator">-></span>left <span class="token operator">=</span> <span class="token function">erase</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> p<span class="token operator">-></span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token punctuation">}</span>    <span class="token function">update_h</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token function">maintain</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//返回调整平衡后的节点</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">search</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> NIL<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>value <span class="token operator">==</span> target<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>value <span class="token operator">></span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">search</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token function">search</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">in_order</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> NIL<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">in_order</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d , h = %d, left = %d, right = %d\n"</span><span class="token punctuation">,</span> root<span class="token operator">-></span>value<span class="token punctuation">,</span> root<span class="token operator">-></span>h<span class="token punctuation">,</span> root<span class="token operator">-></span>left<span class="token operator">-></span>value<span class="token punctuation">,</span> root<span class="token operator">-></span>right<span class="token operator">-></span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">in_order</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token macro property">#<span class="token directive keyword">define</span> n 300</span>    <span class="token function">srand</span><span class="token punctuation">(</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    Node <span class="token operator">*</span>root <span class="token operator">=</span> NIL<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> val <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>        root <span class="token operator">=</span> <span class="token function">insert</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">in_order</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> val <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> flag <span class="token operator">=</span> <span class="token function">search</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d            存在\n"</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">else</span>  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d            不存在\n"</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>        root <span class="token operator">=</span> <span class="token function">erase</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"root->value = %d\n"</span><span class="token punctuation">,</span> root<span class="token operator">-></span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> root<span class="token operator">-></span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">in_order</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token macro property">#<span class="token directive keyword">undef</span> n</span>    <span class="token function">clear</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 高级数据结构 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>力扣98、验证二叉搜索树</title>
      <link href="posts/5e12.html"/>
      <url>posts/5e12.html</url>
      
        <content type="html"><![CDATA[<h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><p><strong>验证二叉搜索树，就要从它的性质出发；</strong></p><p><strong>所以我想到了中序遍历得到一个升序的数列，所以我先找到二叉树最小值，一次从左往右比较；</strong></p><p><strong>若发现该数列中存在一个数小于等于其左边的数，直接得到答案，就验证了其不是二叉搜索树，当然一直不存在这个数，我们就得到了它是二叉搜索树</strong></p><h4 id="代码如下：自己写的"><a href="#代码如下：自己写的" class="headerlink" title="代码如下：自己写的"></a>代码如下：自己写的</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/** * Definition for a binary tree node. * struct TreeNode { *     int val; *     struct TreeNode *left; *     struct TreeNode *right; * }; */</span><span class="token keyword">long</span> <span class="token keyword">long</span> mx<span class="token punctuation">;</span>bool flag<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">in_order</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">in_order</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//找到最小值节点</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>mx <span class="token operator">>=</span> <span class="token punctuation">(</span><span class="token keyword">long</span> <span class="token keyword">long</span><span class="token punctuation">)</span><span class="token punctuation">(</span>root<span class="token operator">-></span>val<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>         flag <span class="token operator">=</span> false<span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token punctuation">}</span>    mx <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">long</span> <span class="token keyword">long</span><span class="token punctuation">)</span><span class="token punctuation">(</span>root<span class="token operator">-></span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">in_order</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span>bool <span class="token function">isValidBST</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    mx <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">2147483647</span> <span class="token operator">-</span> <span class="token number">1e5</span><span class="token punctuation">;</span>    flag <span class="token operator">=</span> true<span class="token punctuation">;</span>    <span class="token function">in_order</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> flag<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="另一种思路写法"><a href="#另一种思路写法" class="headerlink" title="另一种思路写法"></a>另一种思路写法</h4><pre class=" language-c"><code class="language-c">bool <span class="token function">isBSTUtil</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> root<span class="token punctuation">,</span> <span class="token keyword">long</span> <span class="token keyword">long</span> <span class="token operator">*</span>prev<span class="token punctuation">)</span> <span class="token punctuation">{</span>     <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>         <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isBSTUtil</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> prev<span class="token punctuation">)</span><span class="token punctuation">)</span>             <span class="token keyword">return</span> false<span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 当前结点小于等于它的直接前驱顶点，返回false </span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>val <span class="token operator">&lt;=</span> <span class="token operator">*</span>prev<span class="token punctuation">)</span>             <span class="token keyword">return</span> false<span class="token punctuation">;</span>         <span class="token comment" spellcheck="true">//初始化pre 为当前结点</span>        <span class="token operator">*</span>prev <span class="token operator">=</span> root<span class="token operator">-></span>val<span class="token punctuation">;</span>         <span class="token keyword">return</span> <span class="token function">isBSTUtil</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> prev<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token punctuation">}</span>     <span class="token keyword">return</span> true<span class="token punctuation">;</span> <span class="token punctuation">}</span>bool <span class="token function">isValidBST</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">long</span> <span class="token keyword">long</span> prev <span class="token operator">=</span> LONG_MIN<span class="token punctuation">;</span>     <span class="token keyword">return</span> <span class="token function">isBSTUtil</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> <span class="token operator">&amp;</span>prev<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></code></pre><h4 id="我觉得最好的写法"><a href="#我觉得最好的写法" class="headerlink" title="我觉得最好的写法"></a>我觉得最好的写法</h4><p><strong>该想法是先验证左子树或者右子树；</strong></p><p><strong>最大值必然在数的最右边，最小值必然在最左边</strong></p><p><strong>递归验证每个节点左子树、右子树；</strong></p><p><strong>发现不符合条件的子树直接false; 当验证完所有子树时；就返回true;</strong></p><pre class=" language-c"><code class="language-c">bool <span class="token function">func_min_max</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> root<span class="token punctuation">,</span> <span class="token keyword">long</span> min<span class="token punctuation">,</span> <span class="token keyword">long</span> max<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> true<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>val <span class="token operator">>=</span> max <span class="token operator">||</span> root<span class="token operator">-></span>val <span class="token operator">&lt;=</span> min<span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token function">func_min_max</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> min<span class="token punctuation">,</span> root<span class="token operator">-></span>val<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">func_min_max</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> root<span class="token operator">-></span>val<span class="token punctuation">,</span> max<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//左右子树都要符合条件</span><span class="token punctuation">}</span>bool <span class="token function">isValidBST</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token function">func_min_max</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> LONG_MIN<span class="token punctuation">,</span> LONG_MAX<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/Axieyun/cdn@1.6/_pots/%E5%8A%9B%E6%89%A398.png"></p>]]></content>
      
      
      
        <tags>
            
            <tag> 力扣题解 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>二叉排序树</title>
      <link href="posts/ff14.html"/>
      <url>posts/ff14.html</url>
      
        <content type="html"><![CDATA[<h4 id=""><a href="#" class="headerlink" title=""></a></h4><h4 id="都是查找，二叉查找树与hash相比有什么特点？"><a href="#都是查找，二叉查找树与hash相比有什么特点？" class="headerlink" title="都是查找，二叉查找树与hash相比有什么特点？"></a>都是查找，二叉查找树与hash相比有什么特点？</h4><ul><li>二叉查找树在比较平衡的情况下，插入、删除、查找操作时间复杂度才是 O(logn)</li><li>散列hash表扩容耗时多, 发生冲突时，性能不稳定，而二叉排序树插入、删除、查找稳定在O(longn)</li></ul><ul><li>二叉查找树可以有序输出</li><li>hash不支持查找最大值、最小值，不支持范围性查找，扩容、缩容时间复杂度高，堆内存高 </li></ul><h4 id="版本一：自己写的"><a href="#版本一：自己写的" class="headerlink" title="版本一：自己写的"></a>版本一：自己写的</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h></span></span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Node <span class="token punctuation">{</span>    <span class="token keyword">int</span> value<span class="token punctuation">;</span>    <span class="token keyword">int</span> size<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//该节点左右子树节点的数量和 </span>    <span class="token keyword">struct</span> Node <span class="token operator">*</span>left<span class="token punctuation">,</span> <span class="token operator">*</span>right<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//左右指针 </span><span class="token punctuation">}</span> Node<span class="token punctuation">;</span>Node __NIL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//虚拟节点 </span><span class="token macro property">#<span class="token directive keyword">define</span> NIL (&amp;__NIL)</span><span class="token function">__attribute__</span><span class="token punctuation">(</span><span class="token punctuation">(</span>constructor<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">void</span> <span class="token function">init_NIL</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    NIL<span class="token operator">-></span>value <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    NIL<span class="token operator">-></span>size <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    NIL<span class="token operator">-></span>left <span class="token operator">=</span> NIL<span class="token operator">-></span>right <span class="token operator">=</span> NIL<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//自环 </span><span class="token punctuation">}</span>Node <span class="token operator">*</span><span class="token function">getNewNode</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token punctuation">(</span>Node <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    p<span class="token operator">-></span>value <span class="token operator">=</span> key<span class="token punctuation">;</span>    p<span class="token operator">-></span>size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    p<span class="token operator">-></span>right <span class="token operator">=</span> p<span class="token operator">-></span>left <span class="token operator">=</span> NIL<span class="token punctuation">;</span>    <span class="token keyword">return</span> p<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">update_size</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//跟新root挂的节点个数 </span>    root<span class="token operator">-></span>size <span class="token operator">=</span> root<span class="token operator">-></span>left<span class="token operator">-></span>size <span class="token operator">+</span> root<span class="token operator">-></span>right<span class="token operator">-></span>size <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span>Node <span class="token operator">*</span><span class="token function">insert</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> NIL<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">getNewNode</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>value <span class="token operator">==</span> target<span class="token punctuation">)</span> <span class="token keyword">return</span> root<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>value <span class="token operator">></span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//说明target在左子树 </span>        root<span class="token operator">-></span>left <span class="token operator">=</span> <span class="token function">insert</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//否则在右子树 </span>        root<span class="token operator">-></span>right <span class="token operator">=</span> <span class="token function">insert</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">/*    root->size = 0;    if (root->left) root->size += root->left->size;    if (root->right) root->size += root->right->size;    */</span>        <span class="token function">update_size</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//跟新其所挂节点个数 </span>        <span class="token keyword">return</span> root<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">clear</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> NIL<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">clear</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">clear</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">search</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> NIL<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>value <span class="token operator">==</span> target<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>value <span class="token operator">></span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">search</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token function">search</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>Node <span class="token operator">*</span><span class="token function">perdecessor</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> root<span class="token operator">-></span>left<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//得到左子树 </span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> NIL <span class="token operator">&amp;&amp;</span> p<span class="token operator">-></span>right <span class="token operator">!=</span> NIL<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//找到前驱节点 </span>        p <span class="token operator">=</span> p<span class="token operator">-></span>right<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">/*    Node *p = root->right; //得到右子树     while (p != NIL &amp;&amp; p->left != NIL) p = p->left;    */</span>    <span class="token keyword">return</span> p<span class="token punctuation">;</span><span class="token punctuation">}</span>Node <span class="token operator">*</span><span class="token function">erase</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> NIL<span class="token punctuation">)</span> <span class="token keyword">return</span> root<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>value <span class="token operator">></span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>        root<span class="token operator">-></span>left <span class="token operator">=</span> <span class="token function">erase</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>value <span class="token operator">&lt;</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>        root<span class="token operator">-></span>right <span class="token operator">=</span> <span class="token function">erase</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><span class="token comment" spellcheck="true">//        if (root->left == NIL &amp;&amp; root->right == NIL) { //删除出度为0的节点 </span><span class="token comment" spellcheck="true">//            free(root);</span><span class="token comment" spellcheck="true">//            return NIL;</span><span class="token comment" spellcheck="true">//        } else </span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>left <span class="token operator">==</span> NIL <span class="token operator">||</span> root<span class="token operator">-></span>right <span class="token operator">==</span> NIL<span class="token punctuation">)</span> <span class="token punctuation">{</span>             Node <span class="token operator">*</span>temp <span class="token operator">=</span> root<span class="token operator">-></span>left <span class="token operator">!=</span> NIL <span class="token operator">?</span> root<span class="token operator">-></span>left <span class="token punctuation">:</span> root<span class="token operator">-></span>right<span class="token punctuation">;</span>            <span class="token function">free</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> temp<span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            Node <span class="token operator">*</span>temp <span class="token operator">=</span> <span class="token function">perdecessor</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//找到前驱节点 或者也可以是后继节点 </span>            root<span class="token operator">-></span>value <span class="token operator">=</span> temp<span class="token operator">-></span>value<span class="token punctuation">;</span>            root<span class="token operator">-></span>left <span class="token operator">=</span> <span class="token function">erase</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> temp<span class="token operator">-></span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//删除前驱节点 </span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">update_size</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> root<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">in_order</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> NIL<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">in_order</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//printf("value = %d, size = %d\n", root->value, root->size);</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> root<span class="token operator">-></span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">in_order</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">find_k</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//按照我写的出度为0的节点个数root->size = 0 </span>    <span class="token comment" spellcheck="true">//船长写的root->szie = 1; 因为NIL为一个虚拟节点 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token operator">-></span>size <span class="token operator">>=</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">find_k</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token operator">-></span>size <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">==</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">find_k</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token operator">-></span>size <span class="token operator">+</span> <span class="token number">2</span> <span class="token operator">==</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> root<span class="token operator">-></span>value<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token function">find_k</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> k <span class="token operator">-</span> root<span class="token operator">-></span>right<span class="token operator">-></span>size <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">srand</span><span class="token punctuation">(</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token macro property">#<span class="token directive keyword">define</span> n 20</span>    Node <span class="token operator">*</span>root <span class="token operator">=</span> NIL<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> value <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>        root <span class="token operator">=</span> <span class="token function">insert</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">in_order</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> target <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//    scanf("%d", &amp;target);</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">search</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d              存在\n"</span><span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>            root <span class="token operator">=</span> <span class="token function">erase</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d          不存在\n"</span><span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token function">in_order</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> root<span class="token operator">-></span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> max_i <span class="token operator">=</span> <span class="token function">find_k</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d %d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> max_i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">clear</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token macro property">#<span class="token directive keyword">undef</span> n</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="版本二：标准版"><a href="#版本二：标准版" class="headerlink" title="版本二：标准版"></a>版本二：标准版</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h></span></span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Node <span class="token punctuation">{</span>    <span class="token keyword">int</span> value<span class="token punctuation">,</span> size<span class="token punctuation">;</span>    <span class="token keyword">struct</span> Node <span class="token operator">*</span>left<span class="token punctuation">,</span> <span class="token operator">*</span>right<span class="token punctuation">;</span><span class="token punctuation">}</span> Node<span class="token punctuation">;</span>Node __NIL<span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">define</span> NIL (&amp;__NIL)</span><span class="token function">__attribute__</span><span class="token punctuation">(</span><span class="token punctuation">(</span>constructor<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">void</span> <span class="token function">init_NIL</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    NIL<span class="token operator">-></span>value <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    NIL<span class="token operator">-></span>size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    NIL<span class="token operator">-></span>left <span class="token operator">=</span> NIL<span class="token operator">-></span>right <span class="token operator">=</span> NIL<span class="token punctuation">;</span><span class="token punctuation">}</span>Node <span class="token operator">*</span><span class="token function">getNewNode</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token punctuation">(</span>Node <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    p<span class="token operator">-></span>value <span class="token operator">=</span> key<span class="token punctuation">;</span>    p<span class="token operator">-></span>size <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//船长写的root->szie = 1; 因为NIL为一个虚拟节点 </span>    p<span class="token operator">-></span>left <span class="token operator">=</span> p<span class="token operator">-></span>right <span class="token operator">=</span> NIL<span class="token punctuation">;</span>    <span class="token keyword">return</span> p<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">update_size</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    root<span class="token operator">-></span>size <span class="token operator">=</span> root<span class="token operator">-></span>left<span class="token operator">-></span>size <span class="token operator">+</span> root<span class="token operator">-></span>right<span class="token operator">-></span>size <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span>Node <span class="token operator">*</span><span class="token function">insert</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//插入操作 </span>    <span class="token keyword">if</span><span class="token punctuation">(</span>root <span class="token operator">==</span> NIL<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">getNewNode</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>root<span class="token operator">-></span>value <span class="token operator">==</span> target<span class="token punctuation">)</span> <span class="token keyword">return</span> root<span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>root<span class="token operator">-></span>value <span class="token operator">></span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>        root<span class="token operator">-></span>left <span class="token operator">=</span> <span class="token function">insert</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        root<span class="token operator">-></span>right <span class="token operator">=</span> <span class="token function">insert</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">update_size</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> root<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">clear</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>root <span class="token operator">==</span> NIL<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">clear</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">clear</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">search</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//查找操作 O(logn) </span>    <span class="token keyword">if</span><span class="token punctuation">(</span>root <span class="token operator">==</span> NIL<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>root<span class="token operator">-></span>value <span class="token operator">==</span> target<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>root<span class="token operator">-></span>value <span class="token operator">></span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">search</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token function">search</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>Node <span class="token operator">*</span><span class="token function">predecessor</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> root<span class="token operator">-></span>left<span class="token punctuation">;</span>    <span class="token keyword">while</span><span class="token punctuation">(</span>p <span class="token operator">!=</span> NIL <span class="token operator">&amp;&amp;</span> p<span class="token operator">-></span>right <span class="token operator">!=</span> NIL<span class="token punctuation">)</span> <span class="token punctuation">{</span>        p <span class="token operator">=</span> p<span class="token operator">-></span>right<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> p<span class="token punctuation">;</span><span class="token punctuation">}</span>Node <span class="token operator">*</span><span class="token function">erase</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//删除操作 </span>    <span class="token keyword">if</span><span class="token punctuation">(</span>root <span class="token operator">==</span> NIL<span class="token punctuation">)</span> <span class="token keyword">return</span> root<span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>root<span class="token operator">-></span>value <span class="token operator">></span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>        root<span class="token operator">-></span>left <span class="token operator">=</span> <span class="token function">erase</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>root<span class="token operator">-></span>value <span class="token operator">&lt;</span> target<span class="token punctuation">)</span><span class="token punctuation">{</span>        root<span class="token operator">-></span>right <span class="token operator">=</span> <span class="token function">erase</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right <span class="token operator">==</span> NIL <span class="token operator">||</span> root<span class="token operator">-></span>left <span class="token operator">==</span> NIL<span class="token punctuation">)</span> <span class="token punctuation">{</span>            Node <span class="token operator">*</span>tmp <span class="token operator">=</span> root<span class="token operator">-></span>left <span class="token operator">!=</span> NIL <span class="token operator">?</span> root<span class="token operator">-></span>left <span class="token punctuation">:</span> root<span class="token operator">-></span>right<span class="token punctuation">;</span>            <span class="token function">free</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> tmp<span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            Node <span class="token operator">*</span>tmp <span class="token operator">=</span> <span class="token function">predecessor</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>            root<span class="token operator">-></span>value <span class="token operator">=</span> tmp<span class="token operator">-></span>value<span class="token punctuation">;</span>            root<span class="token operator">-></span>left <span class="token operator">=</span> <span class="token function">erase</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> tmp<span class="token operator">-></span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">update_size</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> root<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">in_order</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>root <span class="token operator">==</span> NIL<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">in_order</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> root<span class="token operator">-></span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">in_order</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">find_k</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token operator">-></span>size <span class="token operator">>=</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//所求值在在右子树 </span>        <span class="token keyword">return</span> <span class="token function">find_k</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token operator">-></span>size <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">==</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//该节点右子树节点个数加自己 == k说明该节点为第k大值 </span>        <span class="token keyword">return</span> root<span class="token operator">-></span>value<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token function">find_k</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> k <span class="token operator">-</span> root<span class="token operator">-></span>right<span class="token operator">-></span>size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//所求值在在左子树 </span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        Node <span class="token operator">*</span>root <span class="token operator">=</span> NIL<span class="token punctuation">;</span>    <span class="token keyword">int</span> n<span class="token punctuation">;</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span>        root <span class="token operator">=</span> <span class="token function">insert</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">in_order</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> target <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//    scanf("%d", &amp;target);</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">search</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d              存在\n"</span><span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>            root <span class="token operator">=</span> <span class="token function">erase</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d          不存在\n"</span><span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">in_order</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//求第K大的值 </span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token function">find_k</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 高级数据结构 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>两个大整数除法及高精度取余</title>
      <link href="posts/2c28.html"/>
      <url>posts/2c28.html</url>
      
        <content type="html"><![CDATA[<h4 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h4><ul><li><p>遍历被除数</p></li><li><p>每次判断缓存rem是否大于除数s1</p></li><li><p>大于rem减去一次除数s1, 答案ans加一，再次判断</p></li><li><p>小于直接跳过，等于直接让rem为空，答案ans加一</p></li><li><p>退出循环后rem就是余数，处理一下ans前导0就可以得到商了</p></li></ul><p><strong>模拟了竖式除法，细节都在代码里都在代码里</strong></p><h4 id="代码演示1：粗糙版"><a href="#代码演示1：粗糙版" class="headerlink" title="代码演示1：粗糙版"></a>代码演示1：粗糙版</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span><span class="token keyword">char</span> s1<span class="token punctuation">[</span><span class="token number">1005</span><span class="token punctuation">]</span><span class="token punctuation">,</span> s2<span class="token punctuation">[</span><span class="token number">1005</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// s1 / 22 = ans + rem;</span><span class="token keyword">int</span> n1<span class="token punctuation">[</span><span class="token number">1005</span><span class="token punctuation">]</span><span class="token punctuation">,</span> n2<span class="token punctuation">[</span><span class="token number">1005</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ans<span class="token punctuation">[</span><span class="token number">1005</span><span class="token punctuation">]</span><span class="token punctuation">,</span> rem<span class="token punctuation">[</span><span class="token number">1005</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//rem是余数（缓存） ,ans为商 </span><span class="token comment" spellcheck="true">//大数减法 </span><span class="token keyword">void</span> <span class="token function">big_sub</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>a<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">*</span>b<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//a >= b; a - b;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span><span class="token operator">=</span> b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token operator">--</span>a<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//借一 </span>            a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>         <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">--</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//判断大数a与b大数谁大 </span><span class="token keyword">int</span> <span class="token function">check</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>a<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>b<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//a大返回1，b大返回-1，相等返回0； </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//长度相等 </span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> i <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">></span> b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// s1 / s2 </span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> s2<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> s1<span class="token punctuation">)</span><span class="token punctuation">;</span>    n1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">,</span> n2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&amp;&amp;</span> s1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">,</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//正序存储 </span>        n1<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> s1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token string">'0'</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> n2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> j <span class="token operator">&amp;&amp;</span> s2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">,</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">//倒序存储 </span>        n2<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> s2<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token string">'0'</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">// n1 / n2</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token comment" spellcheck="true">//缓存后移 </span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> rem<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> j <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            rem<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> rem<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token operator">++</span>rem<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> rem<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> n1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//头插法，保证高位在后面，低位在前 </span>                <span class="token comment" spellcheck="true">//输出rem看看 </span>    <span class="token comment" spellcheck="true">//    for (int k = 1; k &lt;= rem[0]; k++) {</span>        <span class="token comment" spellcheck="true">//    printf("%d", rem[k]);</span>    <span class="token comment" spellcheck="true">//    } </span>    <span class="token comment" spellcheck="true">//    printf("\n");</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">check</span><span class="token punctuation">(</span>rem<span class="token punctuation">,</span> n2<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>                <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">check</span><span class="token punctuation">(</span>rem<span class="token punctuation">,</span> n2<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//rem > n2</span>            ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//ans全局初始化为0了 </span>            <span class="token function">big_sub</span><span class="token punctuation">(</span>rem<span class="token punctuation">,</span> n2<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//for (int w = rem[0]; w; w--) printf("%d", rem[w]);</span>        <span class="token comment" spellcheck="true">//    printf("\n");</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">check</span><span class="token punctuation">(</span>rem<span class="token punctuation">,</span> n2<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">++</span>ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> rem<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token comment" spellcheck="true">//输出商</span>    ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> n1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> t <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ans<span class="token punctuation">[</span>t<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> t <span class="token operator">&lt;=</span> ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> t<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//去除商的前导0 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">></span> ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//特判，商为0时； </span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>t <span class="token operator">&lt;=</span> ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> ans<span class="token punctuation">[</span>t<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//输出余数 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>rem<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> rem<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> rem<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="代码演示二：精简版"><a href="#代码演示二：精简版" class="headerlink" title="代码演示二：精简版"></a>代码演示二：精简版</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span><span class="token keyword">char</span> s1<span class="token punctuation">[</span><span class="token number">1005</span><span class="token punctuation">]</span><span class="token punctuation">,</span> s2<span class="token punctuation">[</span><span class="token number">1005</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// s1 / 22 = ans + rem;</span><span class="token keyword">int</span> n2<span class="token punctuation">[</span><span class="token number">1005</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ans<span class="token punctuation">[</span><span class="token number">1005</span><span class="token punctuation">]</span><span class="token punctuation">,</span> rem<span class="token punctuation">[</span><span class="token number">1005</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//rem是余数（缓存） ,ans为商 </span><span class="token comment" spellcheck="true">//大数减法 </span><span class="token keyword">void</span> <span class="token function">big_sub</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>a<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span> <span class="token operator">*</span>b<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//a >= b; a - b;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span><span class="token operator">=</span> b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token operator">--</span>a<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//借一 </span>            a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>         <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">--</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//判断大数a与b大数谁大 </span><span class="token keyword">int</span> <span class="token function">check</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>a<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>b<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//a大返回1，b大返回-1，相等返回0； </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//长度相等 </span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> i <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> b<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">></span> b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">// s1 / s2 </span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> s2<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> s1<span class="token punctuation">)</span><span class="token punctuation">;</span>    n2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span>    ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> n2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> j <span class="token operator">&amp;&amp;</span> s2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">,</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment" spellcheck="true">//倒序存储 </span>        n2<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> s2<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token string">'0'</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> s1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//遍历被除数</span>                <span class="token comment" spellcheck="true">//缓存后移 </span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> rem<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> j <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            rem<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> rem<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token operator">++</span>rem<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> rem<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> s1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token string">'0'</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//头插法，保证高位在后面，低位在前 </span>                <span class="token comment" spellcheck="true">//输出rem看看 </span>    <span class="token comment" spellcheck="true">//    for (int k = 1; k &lt;= rem[0]; k++) {</span>        <span class="token comment" spellcheck="true">//    printf("%d", rem[k]);</span>    <span class="token comment" spellcheck="true">//    } </span>    <span class="token comment" spellcheck="true">//    printf("\n");</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">check</span><span class="token punctuation">(</span>rem<span class="token punctuation">,</span> n2<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>                <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">check</span><span class="token punctuation">(</span>rem<span class="token punctuation">,</span> n2<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//rem > n2</span>            ans<span class="token punctuation">[</span><span class="token number">1</span> <span class="token operator">+</span> i<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//ans全局初始化为0了 </span>            <span class="token function">big_sub</span><span class="token punctuation">(</span>rem<span class="token punctuation">,</span> n2<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//for (int w = rem[0]; w; w--) printf("%d", rem[w]);</span>        <span class="token comment" spellcheck="true">//    printf("\n");</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">check</span><span class="token punctuation">(</span>rem<span class="token punctuation">,</span> n2<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">++</span>ans<span class="token punctuation">[</span><span class="token number">1</span> <span class="token operator">+</span> i<span class="token punctuation">]</span><span class="token punctuation">,</span> rem<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//直接让rem为空</span>            <span class="token punctuation">}</span>            <span class="token comment" spellcheck="true">//输出商</span>    <span class="token keyword">int</span> t <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ans<span class="token punctuation">[</span>t<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> t <span class="token operator">&lt;=</span> ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> t<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//去除商的前导0 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">></span> ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//特判，商为0时； </span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>t <span class="token operator">&lt;=</span> ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> ans<span class="token punctuation">[</span>t<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//输出余数 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>rem<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> rem<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> rem<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 代码模板 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>两个大整数减法</title>
      <link href="posts/54c.html"/>
      <url>posts/54c.html</url>
      
        <content type="html"><![CDATA[<h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span><span class="token keyword">char</span> s1<span class="token punctuation">[</span><span class="token number">1005</span><span class="token punctuation">]</span><span class="token punctuation">,</span> s2<span class="token punctuation">[</span><span class="token number">1005</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//全局定义初始化为0或者'\0' </span><span class="token keyword">int</span> n1<span class="token punctuation">[</span><span class="token number">1005</span><span class="token punctuation">]</span><span class="token punctuation">,</span> n2<span class="token punctuation">[</span><span class="token number">1005</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ans<span class="token punctuation">[</span><span class="token number">1006</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> flag<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//a1大, flag = 1; 否则为0；  </span><span class="token keyword">int</span> <span class="token function">strcmp_</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>a1<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>a2<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment" spellcheck="true">//a1大, 返回1; a2大返回0，相等返回-1； </span>    <span class="token keyword">int</span> a1_len <span class="token operator">=</span>  <span class="token function">strlen</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span><span class="token punctuation">,</span> a2_len <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>a1_len <span class="token operator">==</span> a2_len<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> a1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>a1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> a2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>             <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>a1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> a2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>a1_len <span class="token operator">></span> a2_len<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">big_sub</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>a1<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>a2<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//设定a1比a2大 </span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> a1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> a2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token operator">--</span>ans<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ans<span class="token punctuation">[</span>ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">--</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//去除前导0 </span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">// s1 - s2</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> s1<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> s2<span class="token punctuation">)</span><span class="token punctuation">;</span>    n1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span>    n2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span>    flag <span class="token operator">=</span> <span class="token function">strcmp_</span><span class="token punctuation">(</span>s1<span class="token punctuation">,</span> s2<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>flag <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"0\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>      <span class="token comment" spellcheck="true">//数据倒序存储</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> n1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> j <span class="token operator">&amp;&amp;</span> s1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">,</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        n1<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> s1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token string">'0'</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>     <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> n2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> j <span class="token operator">&amp;&amp;</span> s2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">,</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        n2<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> s2<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token string">'0'</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>             <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>        ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> n1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token function">big_sub</span><span class="token punctuation">(</span>n1<span class="token punctuation">,</span> n2<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> n2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token function">big_sub</span><span class="token punctuation">(</span>n2<span class="token punctuation">,</span> n1<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 代码模板 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>海贼oj590之动态规划</title>
      <link href="posts/bca1.html"/>
      <url>posts/bca1.html</url>
      
        <content type="html"><![CDATA[<h4 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h4><p> 相信大家都学过树塔问题，题目很简单求最大化一个三角形数塔从上往下走的路径和。走的规则是：（i，j） 号点只能走向 （i+1，j） 或者 （i+1，j+1）。如下图是一个数塔，映射到该数塔上行走的规则为：从左上角的点开始，向下走或向右下走直到最底层结束。</p><p>1</p><p>3 8</p><p>2 5 0</p><p>1 4 3 8</p><p>1 4 2 5 0</p><p> 路径最大和是 1+8+5+4+4=22，1+8+5+3+5=22 或者 1+8+0+8+5=22。</p><p> 小 SS 觉得这个问题 so easy。于是他提高了点难度，他每次 ban 掉一个点（即规定哪个点不能经过），然后询问你不走该点的最大路径和。当然他上一个询问被 banban 掉的点过一个询问会恢复（即每次他在原图的基础上 ban 掉一个点，而不是永久化的修改）。</p><hr><h4 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h4><p> 第一行包括两个正整数 N,M 分别表示数塔的高和询问次数。</p><p> 以下 N 行，第 ii 行包括用空格隔开的 i−1 个数，描述一个高为 N 的数塔。</p><p> 而后 M 行，每行包括两个数 X,Y，表示第 X 行第 Y 列的数塔上的点被小 S ban 掉，无法通行。</p><p> （由于读入数据较大，请使用较为快速的读入方式）</p><h4 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h4><p> M 行每行包括一个非负整数，表示在原图的基础上 ban 掉一个点后的最大路径和，如果被 ban 掉后不存在任意一条路径，则输出 −1。</p><hr><h4 id="样例输入"><a href="#样例输入" class="headerlink" title="样例输入"></a>样例输入</h4><pre><code>5 313 82 5 01 4 3 81 4 2 5 02 25 41 1</code></pre><h4 id="样例输出"><a href="#样例输出" class="headerlink" title="样例输出"></a>样例输出</h4><pre><code>1722-1</code></pre><h4 id="样例说明"><a href="#样例说明" class="headerlink" title="样例说明"></a>样例说明</h4><p>第一次：</p><p>1</p><p>3 X</p><p>2 5 0</p><p>1 4 3 8</p><p>1 4 2 5 0</p><p>1+3+5+4+4 = 17 或者 1+3+5+3+5=17</p><p>第二次：</p><p>1</p><p>3 8</p><p>2 5 0</p><p>1 4 3 8</p><p>1 4 2 X 0</p><p>1+8+5+4+4 = 22</p><p>第三次：无法通行，-1！</p><hr><h4 id="数据规模与约定"><a href="#数据规模与约定" class="headerlink" title="数据规模与约定"></a>数据规模与约定</h4><p> 时间限制：1 s</p><p> 内存限制：256 M</p><p> 100% 的数据保证 1≤N≤1000,1≤M≤5∗1051≤N≤1000,1≤M≤5∗105</p><h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><ul><li>动态规划 ：从上往下求 ，再从下往上求，并将结果保留在两个数组中</li><li>对于每个点（x, y）能知道经过它的最大路径和 xs[x] [y] + sx[x] [y] - num[x] [y];</li><li>遍历每一行，将每一行最大值、次大值的 列坐标保存</li><li>输入数据 ，若该ban的点为经过最大值的点，则输出该行次大值，否则正常输出最大值ans[1] [1], 并注意特判-1；</li></ul><h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">long</span> <span class="token keyword">long</span> num<span class="token punctuation">[</span><span class="token number">1025</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1025</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ans<span class="token punctuation">[</span><span class="token number">1025</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1025</span><span class="token punctuation">]</span><span class="token punctuation">,</span> xs<span class="token punctuation">[</span><span class="token number">1025</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1025</span><span class="token punctuation">]</span><span class="token punctuation">,</span> sx<span class="token punctuation">[</span><span class="token number">1025</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1025</span><span class="token punctuation">]</span><span class="token punctuation">,</span> first<span class="token punctuation">[</span><span class="token number">1025</span><span class="token punctuation">]</span><span class="token punctuation">,</span> second<span class="token punctuation">[</span><span class="token number">1025</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">define</span> max(a, b) ({ \    __typeof(a) _a = (a); \    __typeof(b) _b = (b); \    _a > _b ? _a : _b; \})</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">;</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">,</span> <span class="token operator">&amp;</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%lld"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">/*    75    95 64    17 47 82    18 35 87 10    20 04 82 47 65    19 01 23 75 03 34    88 02 77 73 07 63 67    99 65 04 28 06 16 70 92    41 41 26 56 83 40 80 70 33    41 48 72 33 47 32 37 16 94 29    53 71 44 65 25 43 91 52 97 51 14    70 11 33 28 77 73 17 78 39 68 17 57    91 71 52 38 17 14 91 43 58 50 27 29 48    63 66 04 68 89 53 67 30 73 16 69 87 40 31    04 62 98 27 23 09 70 98 73 93 38 53 60 04 23    */</span>                <span class="token comment" spellcheck="true">//从上往下</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            sx<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token function">max</span><span class="token punctuation">(</span>sx<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> sx<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">//从下往上 </span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> n<span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>         <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            xs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>xs<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> xs<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> f <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> s <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> s_ind <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> f_ind <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> xs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> sx<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">-</span> num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//    printf("%lld ", ans[i][j]);</span>                        <span class="token keyword">if</span> <span class="token punctuation">(</span>f <span class="token operator">&lt;</span> ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                s_ind <span class="token operator">=</span> f_ind<span class="token punctuation">;</span>                s <span class="token operator">=</span> f<span class="token punctuation">;</span>                f <span class="token operator">=</span> ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>                 f_ind <span class="token operator">=</span> j<span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">></span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>                s <span class="token operator">=</span> ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>                 s_ind <span class="token operator">=</span> j<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            first<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> f_ind<span class="token punctuation">,</span> second<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> s_ind<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//记录每一行最大值、次大值列坐标 </span>        <span class="token punctuation">}</span>            <span class="token comment" spellcheck="true">//    printf("\n");</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//for (int i = 1; i &lt;= n; i++) printf("%lld %lld\n", first[i], second[i]);</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>m<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">;</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//特判-1； </span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"-1\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>first<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">==</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//最大值被ban了 </span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%lld\n"</span><span class="token punctuation">,</span> ans<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">[</span>second<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//输出次大值 </span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%lld\n"</span><span class="token punctuation">,</span> ans<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//输出最大值 </span>    <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 算法技巧 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>两个大整数乘法</title>
      <link href="posts/a561.html"/>
      <url>posts/a561.html</url>
      
        <content type="html"><![CDATA[<h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span><span class="token comment" spellcheck="true">//一般方法</span><span class="token keyword">char</span> s1<span class="token punctuation">[</span><span class="token number">1005</span><span class="token punctuation">]</span><span class="token punctuation">,</span> s2<span class="token punctuation">[</span><span class="token number">1005</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> n1<span class="token punctuation">[</span><span class="token number">1005</span><span class="token punctuation">]</span><span class="token punctuation">,</span> n2<span class="token punctuation">[</span><span class="token number">1005</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ans<span class="token punctuation">[</span><span class="token number">2005</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> s1<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> s2<span class="token punctuation">)</span><span class="token punctuation">;</span>    n1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">,</span> n2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> n1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> s1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> j<span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">,</span> i<span class="token operator">++</span><span class="token punctuation">)</span> n1<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> s1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token string">'0'</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//倒序存储 </span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> n2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> s2<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> j<span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">,</span> i<span class="token operator">++</span><span class="token punctuation">)</span> n2<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> s2<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token string">'0'</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//倒序存储 </span>    ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> n1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> n2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//估计答案最短长度</span>         <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 乘法 </span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> n2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            ans<span class="token punctuation">[</span>i <span class="token operator">+</span> j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> n1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">*</span> n2<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//进位 </span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            ans<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">;</span>            ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">%</span><span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token operator">++</span>ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//答案倒序输出 </span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="习题"><a href="#习题" class="headerlink" title="习题"></a>习题</h4><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>海贼oj471</td><td></td></tr></tbody></table>]]></content>
      
      
      
        <tags>
            
            <tag> 代码模板 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>欧拉计划25之大数加法</title>
      <link href="posts/56e3.html"/>
      <url>posts/56e3.html</url>
      
        <content type="html"><![CDATA[<h4 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">define</span> swap(a, b) {\    __typeof(a) temp = a;\    a = b; b = temp;\}</span><span class="token keyword">int</span> num<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1005</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span> a <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//定义全局的作用，保证数组初始化元素都为0； </span><span class="token keyword">void</span> <span class="token function">big_add</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>a1<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>a2<span class="token punctuation">)</span> <span class="token punctuation">{</span>    a2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> a1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> a2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        a2<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> a1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>a2<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token operator">++</span>a2<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            a2<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span><span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>a2<span class="token punctuation">[</span>a2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">++</span>a2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">big_add</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">,</span> num<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>num<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//若第i项位数为1000位，则输出该项数 </span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token function">swap</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h4><pre><code>4782</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 欧拉计划 </tag>
            
            <tag> 算法技巧 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>两个大整数加法</title>
      <link href="posts/f09f.html"/>
      <url>posts/f09f.html</url>
      
        <content type="html"><![CDATA[<h4 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h4><p><strong>代码好多板块分开写，是为了便于理解，大数加法原理是小学竖式计算</strong></p><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span><span class="token keyword">char</span> num1<span class="token punctuation">[</span><span class="token number">1002</span><span class="token punctuation">]</span><span class="token punctuation">,</span> num2<span class="token punctuation">[</span><span class="token number">1002</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> n1<span class="token punctuation">[</span><span class="token number">1002</span><span class="token punctuation">]</span><span class="token punctuation">,</span> n2<span class="token punctuation">[</span><span class="token number">1002</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> ans<span class="token punctuation">[</span><span class="token number">1002</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> num1<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> num2<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> n1_size <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>num1<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> n2_size <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>num2<span class="token punctuation">)</span><span class="token punctuation">;</span>    n1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> n1_size<span class="token punctuation">,</span> n2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> n2_size<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> n1_size<span class="token punctuation">;</span> num1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> j<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">,</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//倒序存储 </span>        n1<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> num1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token string">'0'</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> n2_size<span class="token punctuation">;</span> num2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> j<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">,</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//倒序存储 </span>        n2<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> num2<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token string">'0'</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>        ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> n1_size <span class="token operator">></span> n2_size <span class="token operator">?</span> n1_size <span class="token punctuation">:</span> n2_size<span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//加法处理 </span>        ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> n1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> n2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//进位处理 </span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token operator">++</span>ans<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span><span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ans<span class="token punctuation">[</span>ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">++</span>ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//答案倒序输出 </span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="习题"><a href="#习题" class="headerlink" title="习题"></a>习题</h4><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>欧拉计划25</td><td>欧拉计划13</td></tr></tbody></table>]]></content>
      
      
      
        <tags>
            
            <tag> 代码模板 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>欧拉计划13之大数加法</title>
      <link href="posts/490.html"/>
      <url>posts/490.html</url>
      
        <content type="html"><![CDATA[<h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span><span class="token keyword">char</span> num1<span class="token punctuation">[</span><span class="token number">102</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1002</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> n1<span class="token punctuation">[</span><span class="token number">102</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1002</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> ans<span class="token punctuation">[</span><span class="token number">1002</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    FILE <span class="token operator">*</span>fp <span class="token operator">=</span> <span class="token function">freopen</span><span class="token punctuation">(</span><span class="token string">"E:/c语言代码/文件数据/欧拉计划input13.txt"</span><span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">,</span> <span class="token constant">stdin</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> ii <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> ii <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token punctuation">;</span> ii<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">fscanf</span><span class="token punctuation">(</span>fp<span class="token punctuation">,</span> <span class="token string">"%s"</span><span class="token punctuation">,</span> num1<span class="token punctuation">[</span>ii<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//printf("%s\n", num1[ii]);</span>        <span class="token keyword">int</span> n1_size <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>num1<span class="token punctuation">[</span>ii<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        n1<span class="token punctuation">[</span>ii<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> n1_size<span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> n1_size<span class="token punctuation">;</span> num1<span class="token punctuation">[</span>ii<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> j <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">,</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//倒序存储 </span>            n1<span class="token punctuation">[</span>ii<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> num1<span class="token punctuation">[</span>ii<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token string">'0'</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>            ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> n1_size <span class="token operator">></span> ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">?</span> n1_size <span class="token punctuation">:</span> ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//加法处理 </span>            ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> n1<span class="token punctuation">[</span>ii<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//进位处理 </span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token operator">++</span>ans<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span><span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>ans<span class="token punctuation">[</span>ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">++</span>ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        fp <span class="token operator">=</span> <span class="token function">freopen</span><span class="token punctuation">(</span><span class="token string">"E:/c语言代码/文件数据/欧拉计划output13.txt"</span><span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token punctuation">,</span> <span class="token constant">stdout</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> ans<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//答案倒序输出 </span>        <span class="token function">fprintf</span><span class="token punctuation">(</span>fp<span class="token punctuation">,</span> <span class="token string">"%d"</span><span class="token punctuation">,</span> ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="答案"><a href="#答案" class="headerlink" title="答案"></a>答案</h4><pre><code>5537376230390876637302048746832985971773659831892672</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 欧拉计划 </tag>
            
            <tag> 算法技巧 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>力扣题解450、删除二叉搜索树中的节点</title>
      <link href="posts/9bbd.html"/>
      <url>posts/9bbd.html</url>
      
        <content type="html"><![CDATA[<h4 id="交换后继节点"><a href="#交换后继节点" class="headerlink" title="交换后继节点"></a>交换后继节点</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span><span class="token function">find_succ</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//找到这棵树的最小值</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span> <span class="token punctuation">{</span>        root <span class="token operator">=</span> root<span class="token operator">-></span>left<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> root<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> <span class="token function">deleteNode</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> root<span class="token punctuation">,</span> <span class="token keyword">int</span> key<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>val <span class="token operator">></span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>        root<span class="token operator">-></span>left <span class="token operator">=</span> <span class="token function">deleteNode</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>val <span class="token operator">&lt;</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>        root<span class="token operator">-></span>right <span class="token operator">=</span> <span class="token function">deleteNode</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>left <span class="token operator">==</span> <span class="token constant">NULL</span> <span class="token operator">||</span> root<span class="token operator">-></span>right <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//这个节点出度为0或者为1，直接删除</span>            <span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>tmp <span class="token operator">=</span> root<span class="token operator">-></span>left <span class="token operator">?</span> root<span class="token operator">-></span>left <span class="token punctuation">:</span> root<span class="token operator">-></span>right<span class="token punctuation">;</span>            <span class="token function">free</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> tmp<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>temp <span class="token operator">=</span> <span class="token function">find_succ</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//找到后继节点</span>        root<span class="token operator">-></span>val <span class="token operator">=</span> temp<span class="token operator">-></span>val<span class="token punctuation">;</span>        root<span class="token operator">-></span>right <span class="token operator">=</span> <span class="token function">deleteNode</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> temp<span class="token operator">-></span>val<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//删除后继节点</span>            <span class="token punctuation">}</span>    <span class="token keyword">return</span> root<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="交换前驱节点"><a href="#交换前驱节点" class="headerlink" title="交换前驱节点"></a>交换前驱节点</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span><span class="token function">find_succ</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//找到这棵树的最小值</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span> <span class="token punctuation">{</span>        root <span class="token operator">=</span> root<span class="token operator">-></span>right<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> root<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> <span class="token function">deleteNode</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> root<span class="token punctuation">,</span> <span class="token keyword">int</span> key<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>val <span class="token operator">></span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>        root<span class="token operator">-></span>left <span class="token operator">=</span> <span class="token function">deleteNode</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>val <span class="token operator">&lt;</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>        root<span class="token operator">-></span>right <span class="token operator">=</span> <span class="token function">deleteNode</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>left <span class="token operator">==</span> <span class="token constant">NULL</span> <span class="token operator">||</span> root<span class="token operator">-></span>right <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//这个节点出度为0或者为1，直接删除</span>            <span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>tmp <span class="token operator">=</span> root<span class="token operator">-></span>left <span class="token operator">?</span> root<span class="token operator">-></span>left <span class="token punctuation">:</span> root<span class="token operator">-></span>right<span class="token punctuation">;</span>            <span class="token function">free</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> tmp<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>temp <span class="token operator">=</span> <span class="token function">find_succ</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//找到前驱节点</span>        root<span class="token operator">-></span>val <span class="token operator">=</span> temp<span class="token operator">-></span>val<span class="token punctuation">;</span>        root<span class="token operator">-></span>left <span class="token operator">=</span> <span class="token function">deleteNode</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> temp<span class="token operator">-></span>val<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//在左子树删除前驱节点</span>            <span class="token punctuation">}</span>    <span class="token keyword">return</span> root<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 力扣题解 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>力扣669、修剪二叉搜索树</title>
      <link href="posts/aeda.html"/>
      <url>posts/aeda.html</url>
      
        <content type="html"><![CDATA[<pre class=" language-c"><code class="language-c"><span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> <span class="token function">trimBST</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> root<span class="token punctuation">,</span> <span class="token keyword">int</span> low<span class="token punctuation">,</span> <span class="token keyword">int</span> high<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>val <span class="token operator">&lt;</span> low<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">trimBST</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> low<span class="token punctuation">,</span> high<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>val <span class="token operator">></span> high<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">trimBST</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> low<span class="token punctuation">,</span> high<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">else</span> <span class="token punctuation">{</span>        root<span class="token operator">-></span>left <span class="token operator">=</span> <span class="token function">trimBST</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> low<span class="token punctuation">,</span> high<span class="token punctuation">)</span><span class="token punctuation">;</span>        root<span class="token operator">-></span>right <span class="token operator">=</span> <span class="token function">trimBST</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> low<span class="token punctuation">,</span> high<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> root<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 力扣题解 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>力扣剑指Offer54、二叉搜索树的第k大节点</title>
      <link href="posts/1b5b.html"/>
      <url>posts/1b5b.html</url>
      
        <content type="html"><![CDATA[<h4 id="一般解法"><a href="#一般解法" class="headerlink" title="一般解法"></a>一般解法</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//二叉排序树的中序遍历是有序的</span><span class="token comment" spellcheck="true">//将二叉排序树中序遍历倒过来输出即可找到第k大值</span><span class="token keyword">void</span> <span class="token function">in_order</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>root<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>k<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//取k的地址，保证k是唯一</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span> <span class="token function">in_order</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//递归找到最大值</span>    <span class="token punctuation">(</span><span class="token operator">*</span>k<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span>k <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        ans <span class="token operator">=</span> root<span class="token operator">-></span>val<span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>left <span class="token operator">&amp;&amp;</span> k<span class="token punctuation">)</span> <span class="token function">in_order</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">kthLargest</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> root<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token function">in_order</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> <span class="token operator">&amp;</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> ans<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="解法二"><a href="#解法二" class="headerlink" title="解法二"></a>解法二</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token function">count</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">count</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">kthLargest</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> root<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> r_size <span class="token operator">=</span> <span class="token function">count</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//求右子树节点个数</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>r_size <span class="token operator">>=</span> k<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token function">kthLargest</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//右子树节点数量大于k，则所求数在该节点右子树上</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>r_size <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">==</span> k<span class="token punctuation">)</span> <span class="token keyword">return</span> root<span class="token operator">-></span>val<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//自己加右子树节点个数为k，则该节点即为所求；</span>    <span class="token keyword">return</span> <span class="token function">kthLargest</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">,</span> k <span class="token operator">-</span> r_size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//否则所求数在该节点左子树上</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 力扣题解 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>力扣110、平衡二叉树</title>
      <link href="posts/59d0.html"/>
      <url>posts/59d0.html</url>
      
        <content type="html"><![CDATA[<pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">getHight</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> r <span class="token operator">=</span> <span class="token function">getHight</span><span class="token punctuation">(</span>root<span class="token operator">-></span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> l <span class="token operator">=</span> <span class="token function">getHight</span><span class="token punctuation">(</span>root<span class="token operator">-></span>left<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">2</span> <span class="token operator">||</span> r <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">2</span> <span class="token operator">||</span> <span class="token function">abs</span><span class="token punctuation">(</span>l <span class="token operator">-</span> r<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//记忆化</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>l <span class="token operator">></span> r <span class="token operator">?</span> l <span class="token punctuation">:</span> r<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//子树平衡，返回最高子树高度</span><span class="token punctuation">}</span>bool <span class="token function">isBalanced</span><span class="token punctuation">(</span><span class="token keyword">struct</span> TreeNode<span class="token operator">*</span> root<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token function">getHight</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span> <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 力扣题解 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>欧拉计划14之记忆化搜索</title>
      <link href="posts/417d.html"/>
      <url>posts/417d.html</url>
      
        <content type="html"><![CDATA[<h4 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h4><pre class=" language-apl"><code class="language-apl">为正整数集合定义了以下迭代序列：n <span class="token function">→</span> n <span class="token monadic-operator operator">/</span><span class="token number">2</span> <span class="token punctuation">(</span> n是偶数<span class="token punctuation">)</span>n <span class="token function">→</span> <span class="token number">3</span> n <span class="token function">+</span> <span class="token number">1</span> <span class="token punctuation">(</span> n是奇数<span class="token punctuation">)</span>使用上面的规则并从 <span class="token number">13</span> 开始，我们生成以下序列：<span class="token number">13</span><span class="token function">→</span><span class="token number">40</span><span class="token function">→</span><span class="token number">20</span><span class="token function">→</span><span class="token number">10</span><span class="token function">→</span><span class="token number">5</span><span class="token function">→</span><span class="token number">16</span><span class="token function">→</span><span class="token number">8</span><span class="token function">→</span><span class="token number">4</span><span class="token function">→</span><span class="token number">2</span><span class="token function">→</span><span class="token number">1</span>可以看出，这个序列（从<span class="token number">13</span>开始到<span class="token number">1</span>结束）包含<span class="token number">10</span>项。虽然还没有被证明（Collatz 问题），但认为所有的起始数字都以 <span class="token number">1</span> 结束。<span class="token number">100</span> 万以下的哪个起始数字产生最长的链？注意：一旦链开始，条款就可以超过一百万。</code></pre><h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">int</span> num<span class="token punctuation">[</span><span class="token number">10000005</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token keyword">long</span> <span class="token keyword">long</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//记忆化搜索 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//边界 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&lt;</span> <span class="token number">10000000</span> <span class="token operator">&amp;&amp;</span> num<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span> num<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//判断是否计算过 </span>    <span class="token keyword">int</span> t<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span> t <span class="token operator">=</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">*</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">else</span> t <span class="token operator">=</span> <span class="token function">func</span><span class="token punctuation">(</span>n <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&lt;</span> <span class="token number">10000000</span><span class="token punctuation">)</span> num<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> t<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//没有越界，记忆化 </span>    <span class="token keyword">return</span> t<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">func1</span><span class="token punctuation">(</span><span class="token keyword">long</span> <span class="token keyword">long</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> len<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span> n <span class="token operator">=</span> n <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">else</span> n <span class="token operator">>>=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token function">func1</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> len <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> cnt<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">long</span> <span class="token keyword">long</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">1000000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//int len = func(i);</span>        <span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token function">func1</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//cout &lt;&lt; len &lt;&lt; endl;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>len <span class="token operator">></span> ans<span class="token punctuation">)</span> ans <span class="token operator">=</span> len<span class="token punctuation">,</span> cnt <span class="token operator">=</span> i<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    cout <span class="token operator">&lt;&lt;</span> cnt <span class="token operator">&lt;&lt;</span> <span class="token string">'\n'</span> <span class="token operator">&lt;&lt;</span> ans <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//837799 525</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 欧拉计划 </tag>
            
            <tag> 算法技巧 </tag>
            
            <tag> 记忆化搜索 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>滑动窗口法</title>
      <link href="posts/9d29.html"/>
      <url>posts/9d29.html</url>
      
        <content type="html"><![CDATA[<h4 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h4><ul><li>定长：窗口长度固定</li><li>不定长：窗口长度变化</li></ul><h4 id="定长"><a href="#定长" class="headerlink" title="定长"></a>定长</h4><h5 id="看题目欧拉计划8"><a href="#看题目欧拉计划8" class="headerlink" title="看题目欧拉计划8"></a>看题目欧拉计划8</h5><p><a href="">https://axieyun.top/posts/28ef.html</a></p><h4 id="不定长"><a href="#不定长" class="headerlink" title="不定长"></a>不定长</h4><p><strong>应用</strong></p><ul><li>在某一段连续不定区间求满足某些条件的答案</li></ul><p><strong>方法</strong></p><ul><li>双指针法</li></ul><h5 id="看题"><a href="#看题" class="headerlink" title="看题"></a>看题</h5><pre class=" language-apl"><code class="language-apl">小明很喜欢数学<span class="token function">,</span>有一天他在做数学作业时<span class="token function">,</span>要求计算出<span class="token number">9</span><span class="token function">~</span><span class="token number">16</span>的和<span class="token function">,</span>他马上就写出了正确答案是<span class="token number">100</span>。但是他并不满足于此<span class="token function">,</span>他在想究竟有多少种连续的正数序列的和为<span class="token number">100</span><span class="token punctuation">(</span>至少包括两个数<span class="token punctuation">)</span>。没多久<span class="token function">,</span>他就得到另一组连续正数和为<span class="token number">100</span>的序列<span class="token dfn builtin">:</span><span class="token number">18</span><span class="token function">,</span><span class="token number">19</span><span class="token function">,</span><span class="token number">20</span><span class="token function">,</span><span class="token number">21</span><span class="token function">,</span><span class="token number">22</span>。现在把问题交给你<span class="token function">,</span>你能不能也很快的找出所有和为K的连续正数序列<span class="token function">?</span> Good Luck<span class="token function">!</span></code></pre><h5 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h5><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> k<span class="token punctuation">,</span> temp <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    cin <span class="token operator">>></span> k<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token punctuation">(</span>k <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;</span> <span class="token punctuation">(</span>k <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>temp <span class="token operator">&lt;</span> k<span class="token punctuation">)</span> temp <span class="token operator">+</span><span class="token operator">=</span> j<span class="token punctuation">,</span> j<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>temp <span class="token operator">></span> k<span class="token punctuation">)</span> temp <span class="token operator">-</span><span class="token operator">=</span> i<span class="token punctuation">,</span> i<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token keyword">else</span> <span class="token punctuation">{</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> a <span class="token operator">=</span> i<span class="token punctuation">;</span> a <span class="token operator">&lt;</span> j<span class="token punctuation">;</span> a<span class="token operator">++</span><span class="token punctuation">)</span> cout <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> <span class="token string">' '</span><span class="token punctuation">;</span>            cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>            temp <span class="token operator">-</span><span class="token operator">=</span> i<span class="token punctuation">;</span>            i<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 算法技巧 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>欧拉计划8之滑动固定窗口</title>
      <link href="posts/28ef.html"/>
      <url>posts/28ef.html</url>
      
        <content type="html"><![CDATA[<h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-C++"><code class="language-C++">#include < iostream >using namespace std;//滑动窗口法 ：定长 或不定长（双指针法） long long ans = -1, temp = 1, cnt; //cnt为0的计数器 int main() {    char num[2000];        FILE *fp = freopen("E:/c语言代码/文件数据/欧拉计划input8.txt", "r", stdin); //读取文件     for (int i = 0; i < 1000;) {        char ch;        fscanf(fp, "%c", &ch);        if (ch >= '0' && ch <= '9') num[i++] = ch;    } //输入数据     for (int i = 0; i < 1000; i++) {        if (i < 13) { //13为窗口固定宽度             temp *= num[i] - '0';        } else {            //num[i]进入窗口             if (num[i] == '0') cnt++; //0的个数加一             else temp *= num[i] - '0';            //num[i - 13] 退出窗口             if (num[i - 13] == '0') cnt--; //0退出窗口             else temp /= num[i - 13] - '0';        }        if (cnt == 0) ans = ans > temp ? ans : temp;            }    cout << ans << endl;    return 0;}</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 欧拉计划 </tag>
            
            <tag> 算法技巧 </tag>
            
            <tag> 滑动窗口 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>c语言文件操作</title>
      <link href="posts/3c11.html"/>
      <url>posts/3c11.html</url>
      
        <content type="html"><![CDATA[<h4 id="文件指针"><a href="#文件指针" class="headerlink" title="文件指针"></a>文件指针</h4><p><strong>以下形式声明一个文件指针：</strong></p><ul><li>FILE *fp;</li></ul><h4 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h4><ul><li>文件指针命名时要避开stdin、stdout、strerr，因为它们已经用于标准输入、标准输出、标准错误的文件指针；</li></ul><h4 id="文件函数"><a href="#文件函数" class="headerlink" title="文件函数"></a>文件函数</h4><table><thead><tr><th>函数名</th><th>作用</th></tr></thead><tbody><tr><td>*<em>int fgetc(FILE <em>fp)</em></em></td><td>获得当前指针位置之后的一个字符，每获的一个字符，指针向后移动一个字符（若达到文件尾部返回EOF）；成功获取字符，返回值为返回字符的ASCII码值；否则返回EOF;</td></tr><tr><td>*<em>FILE <em>fopen(文件路径，访问模式)</em></em></td><td>打开文件成功返回指向文件的指针，否则返回NULL；</td></tr><tr><td>*<em>int fputc（char ,ch FILE <em>fp）</em></em></td><td>将字符ch写入fp指向的文件内的当前指针的位置，正常情况函数返回写入文件的字符ch的ASCII码值，出错时，返回EOF（-1）;</td></tr><tr><td>*<em>int fsanf(FILE <em>in_fp, “输入格式”, &amp;a)</em></em></td><td>a从指针in_fp指向的文件读取数据，遇到空格或者换行结束读取，成功读取返回读取的参数个数，失败返回EOF，fscanf(stdin, “%c”, &amp;a) == scanf(“%c”, &amp;a);</td></tr><tr><td>*<em>int fprintf(FILE <em>out_fp, “输出格式”, a)</em></em></td><td>把a格式化输出到out_fp指向的文件；fprintf(stdout, “%c”, a) == printf(“%c”, a);</td></tr><tr><td>fclose(FILE *fp)</td><td>将文件指针fp与文件的关联断开</td></tr><tr><td>freopen(“需要重定向到的文件名或文件路径”， “访问模式”, FILE *stream)</td><td></td></tr><tr><td></td><td></td></tr></tbody></table>]]></content>
      
      
      
        <tags>
            
            <tag> c语言基础 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>堆排序</title>
      <link href="posts/b66a.html"/>
      <url>posts/b66a.html</url>
      
        <content type="html"><![CDATA[<h4 id="何为堆排序？"><a href="#何为堆排序？" class="headerlink" title="何为堆排序？"></a>何为堆排序？</h4><p><strong>顾名思义就是跟堆有关的排序算法</strong></p><h4 id="堆排序的时间复杂度为？"><a href="#堆排序的时间复杂度为？" class="headerlink" title="堆排序的时间复杂度为？"></a>堆排序的时间复杂度为？</h4><p><strong>O(nlogn)</strong></p><h4 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h4><ul><li>堆排序就是利用优先队列弹出元素达到排序的目的</li><li>其中建堆有个线性方法，时间复杂度接近O(n)</li><li>而堆调整元素时间复杂度为O(logn)，而有 n  - 1个元素，故弹出元素总时间复杂度为O((n - 1)logn)</li><li>故堆排序的时间复杂度为O(n + nlogn) ，也就是O(nlogn)</li></ul><h4 id="建堆方法"><a href="#建堆方法" class="headerlink" title="建堆方法"></a>建堆方法</h4><ul><li>以线性建堆法为主</li></ul><h5 id="线性建堆法"><a href="#线性建堆法" class="headerlink" title="线性建堆法"></a>线性建堆法</h5><ul><li>自下而上建堆</li><li>建立的堆为大顶堆，堆排序后的元素为升序</li><li>建立的堆为小顶堆，堆排序后的元素为降序</li></ul><h5 id="代码如下"><a href="#代码如下" class="headerlink" title="代码如下"></a>代码如下</h5><pre class=" language-c"><code class="language-c"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> n <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//线性建堆法</span>    <span class="token function">downUpdate</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> n<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">downUpdate</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>arr<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> ind<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//小顶堆</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>arr <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>ind <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> max_root <span class="token operator">=</span> ind<span class="token punctuation">,</span> l <span class="token operator">=</span> ind <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">,</span> r <span class="token operator">=</span> ind <span class="token operator">&lt;&lt;</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>max_root<span class="token punctuation">]</span><span class="token punctuation">)</span> max_root <span class="token operator">=</span> l<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>max_root<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> r <span class="token operator">&lt;=</span> n<span class="token punctuation">)</span> max_root <span class="token operator">=</span> r<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>max_root <span class="token operator">==</span> ind<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token function">swap</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>ind<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>max_root<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ind <span class="token operator">=</span> max_root<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="堆排序讲解"><a href="#堆排序讲解" class="headerlink" title="堆排序讲解"></a>堆排序讲解</h4><p><strong>看代码注释</strong></p><h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">define</span> swap(a, b) {\    __typeof(a) __temp = a;\    a = b; b = __temp;\}</span><span class="token comment" spellcheck="true">//堆为大顶堆的话，堆排序后的元素为升序</span><span class="token comment" spellcheck="true">//堆为小顶堆的话，堆排序后的元素为降序</span><span class="token keyword">void</span> <span class="token function">downUpdate</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>arr<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> ind<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//建立小顶堆 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>arr <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>ind <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//自上而下调整堆 </span>        <span class="token keyword">int</span> max_root <span class="token operator">=</span> ind<span class="token punctuation">,</span> l <span class="token operator">=</span> ind <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">,</span> r <span class="token operator">=</span> ind <span class="token operator">&lt;&lt;</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>max_root<span class="token punctuation">]</span><span class="token punctuation">)</span> max_root <span class="token operator">=</span> l<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>max_root<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> r <span class="token operator">&lt;=</span> n<span class="token punctuation">)</span> max_root <span class="token operator">=</span> r<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>max_root <span class="token operator">==</span> ind<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token function">swap</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>ind<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>max_root<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ind <span class="token operator">=</span> max_root<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">output</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>arr<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"["</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        i <span class="token operator">&amp;&amp;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">", "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"]\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">heap_sort</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>arr<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>arr <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    arr <span class="token operator">-</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//因为数组arr得到的数据从0开始，故使数组0号位置为1号位置 </span>    <span class="token comment" spellcheck="true">//线性建堆法</span>    <span class="token comment" spellcheck="true">// 从最后一个度为大于0的节开始建树 </span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> n <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//自下而上建堆 </span>        <span class="token function">downUpdate</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> n<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//建堆 </span>    <span class="token punctuation">}</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"建立好的堆如下：\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token function">output</span><span class="token punctuation">(</span>arr <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> n<span class="token punctuation">;</span> i <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">swap</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment" spellcheck="true">/*        建立堆后，第一个元素就是最值，        第一次交换第一个元素arr[1]和最后一个元素arr[i]，        最后一个元素就是最值了，把最后一个元素不划入待调整的元素内        进行一次调整堆downUpdate(arr, i - 1, 1);        第一个元素就是除了最后一个元素的最值         第二次交换第一个元素arr[1]和最后一个元素arr[i](不把得到的有序数算进去)        依次类推         */</span>        <span class="token function">downUpdate</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"第%d次调整的堆如下\n"</span><span class="token punctuation">,</span> n <span class="token operator">-</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">output</span><span class="token punctuation">(</span>arr <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token comment" spellcheck="true">//堆排序 </span><span class="token comment" spellcheck="true">//线性建堆法O(n) </span><span class="token comment" spellcheck="true">//数组模拟堆</span><span class="token comment" spellcheck="true">//堆的根节点存在数组一号位置 </span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token macro property">#<span class="token directive keyword">define</span> n 10</span>    <span class="token keyword">int</span> <span class="token operator">*</span>arr <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//构造数据 </span>        arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"排序前：\n"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">output</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">heap_sort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"排序后：\n"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token function">output</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">free</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token macro property">#<span class="token directive keyword">undef</span> n</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 排序算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>交换两个元素的方法</title>
      <link href="posts/b045.html"/>
      <url>posts/b045.html</url>
      
        <content type="html"><![CDATA[<h4 id="法一"><a href="#法一" class="headerlink" title="法一"></a>法一</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>a<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> temp <span class="token operator">=</span> <span class="token operator">*</span>a<span class="token punctuation">;</span>    <span class="token operator">*</span>a <span class="token operator">=</span> <span class="token operator">*</span>b<span class="token punctuation">;</span>    <span class="token operator">*</span>b <span class="token operator">=</span> temp<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="法二"><a href="#法二" class="headerlink" title="法二"></a>法二</h4><pre class=" language-C"><code class="language-C">#define swap(a, b) ({\    __typeof(a) temp = a;\    a = b;\    b = temp;\})</code></pre><h4 id="法三"><a href="#法三" class="headerlink" title="法三"></a>法三</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">swap3</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>a<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token operator">*</span>a <span class="token operator">+</span><span class="token operator">=</span> <span class="token operator">*</span>b<span class="token punctuation">;</span>    <span class="token operator">*</span>b <span class="token operator">=</span> <span class="token operator">*</span>a <span class="token operator">-</span> <span class="token operator">*</span>b<span class="token punctuation">;</span>    <span class="token operator">*</span>a <span class="token operator">-</span><span class="token operator">=</span> <span class="token operator">*</span>b<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="法四"><a href="#法四" class="headerlink" title="法四"></a>法四</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span>type <span class="token operator">*</span>a<span class="token punctuation">,</span> type <span class="token operator">*</span>b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    type temp <span class="token operator">=</span> <span class="token operator">*</span>a<span class="token punctuation">;</span>    <span class="token operator">*</span>a <span class="token operator">=</span> <span class="token operator">*</span>b<span class="token punctuation">;</span>    <span class="token operator">*</span>b <span class="token operator">=</span> temp<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="法五"><a href="#法五" class="headerlink" title="法五"></a>法五</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">define</span> swap(a, b) {\    a ^= b; b ^= a; a ^= b;\}</span></code></pre><h4 id="法六"><a href="#法六" class="headerlink" title="法六"></a>法六</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">define</span> swap(a, b) {\    a += b; b = a - b; a = a - b;\}</span></code></pre><h4 id="法七"><a href="#法七" class="headerlink" title="法七"></a>法七</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">define</span> swap(a, b) {\    a *= b; b = a / b; a = a / b;\}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 代码模板 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>位运算快读</title>
      <link href="posts/44aa.html"/>
      <url>posts/44aa.html</url>
      
        <content type="html"><![CDATA[<h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">inline</span> <span class="token keyword">int</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> w <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">></span> <span class="token string">'9'</span> <span class="token operator">||</span> ch <span class="token operator">&lt;</span> <span class="token string">'0'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        w <span class="token operator">|</span><span class="token operator">=</span> ch <span class="token operator">==</span> <span class="token string">'-'</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ch <span class="token operator">>=</span> <span class="token string">'0'</span> <span class="token operator">&amp;&amp;</span> ch <span class="token operator">&lt;=</span> <span class="token string">'9'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        x <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>ch <span class="token operator">^</span> <span class="token number">48</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> w <span class="token operator">?</span> <span class="token operator">-</span>x <span class="token punctuation">:</span> x<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 代码模板 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>堆与优先队列</title>
      <link href="posts/388c.html"/>
      <url>posts/388c.html</url>
      
        <content type="html"><![CDATA[<h3 id="堆与优先队列"><a href="#堆与优先队列" class="headerlink" title="堆与优先队列"></a>堆与优先队列</h3><h4 id="优先队列性质？"><a href="#优先队列性质？" class="headerlink" title="优先队列性质？"></a>优先队列性质？</h4><ul><li>队列元素具有优先的特点</li><li>优先队列插入元素和弹出元素，堆中元素都是无序的，但一个一个的弹出元素，就会发现弹出元素是有序的，堆排序就是由此而来</li><li>队首元素要么最小要么最大</li><li>二叉树中第二大或者第二小元素就在二叉树第二层</li></ul><h4 id="优先队列本质为什么？"><a href="#优先队列本质为什么？" class="headerlink" title="优先队列本质为什么？"></a>优先队列本质为什么？</h4><ul><li>堆，完美二叉树</li></ul><h4 id="优先队列操作时间复杂度"><a href="#优先队列操作时间复杂度" class="headerlink" title="优先队列操作时间复杂度"></a>优先队列操作时间复杂度</h4><ul><li>出队：O(long n)</li><li>入队：O(long n)</li><li>取队首元素 ：O(1)</li><li>判空 ：O(1)</li></ul><h4 id="优先队列实现方法？"><a href="#优先队列实现方法？" class="headerlink" title="优先队列实现方法？"></a>优先队列实现方法？</h4><ul><li>结构体实现或者数组（因为完美二叉树可以用数组实现）</li></ul><h4 id="节点从数组0号位置开始"><a href="#节点从数组0号位置开始" class="headerlink" title="节点从数组0号位置开始"></a>节点从数组0号位置开始</h4><h5 id="代码演示1：递归版"><a href="#代码演示1：递归版" class="headerlink" title="代码演示1：递归版"></a>代码演示1：递归版</h5><p><strong>其中递归函数fl_r1是仿照迭代版函数pop写的， 而fl_r是我自己写的，fl_r更优</strong></p><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h></span></span><span class="token macro property">#<span class="token directive keyword">define</span> swap(a, b) ({\    __typeof(a) temp = a;\    a = b;\    b = temp;\}) </span><span class="token comment" spellcheck="true">// 节点范围[0, n) </span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> priority_queue <span class="token punctuation">{</span>    <span class="token keyword">int</span> <span class="token operator">*</span>data<span class="token punctuation">;</span>    <span class="token keyword">int</span> size<span class="token punctuation">;</span>     <span class="token keyword">int</span> cnt<span class="token punctuation">;</span><span class="token punctuation">}</span> priority_queue<span class="token punctuation">;</span>priority_queue <span class="token operator">*</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//初始化优先队列数组长度</span>    priority_queue <span class="token operator">*</span>q <span class="token operator">=</span> <span class="token punctuation">(</span>priority_queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>priority_queue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    q<span class="token operator">-></span>cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    q<span class="token operator">-></span>size <span class="token operator">=</span> n<span class="token punctuation">;</span>    q<span class="token operator">-></span>data <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> q<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">insert</span><span class="token punctuation">(</span>priority_queue <span class="token operator">*</span>q<span class="token punctuation">,</span> <span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//大顶堆 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q<span class="token operator">-></span>size <span class="token operator">==</span> q<span class="token operator">-></span>cnt<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//堆满了 </span>    <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>q<span class="token operator">-></span>cnt<span class="token punctuation">)</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    q<span class="token operator">-></span>data<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>q<span class="token operator">-></span>data<span class="token punctuation">[</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// &lt; 大顶堆； > 小顶堆 </span>        <span class="token comment" spellcheck="true">//n为0时即q->cnt = 0, 即堆中只有一个数，无需比较 </span>        <span class="token function">swap</span><span class="token punctuation">(</span>q<span class="token operator">-></span>data<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">,</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        n <span class="token operator">=</span> <span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">front</span><span class="token punctuation">(</span>priority_queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 取队列头部 </span>    <span class="token keyword">return</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">int</span> <span class="token function">empty</span><span class="token punctuation">(</span>priority_queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//队列判空 </span>    <span class="token keyword">return</span> q<span class="token operator">-></span>cnt<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">output</span><span class="token punctuation">(</span>priority_queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> q<span class="token operator">-></span>cnt<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//递归pop</span><span class="token keyword">void</span> <span class="token function">fl_r</span><span class="token punctuation">(</span>priority_queue <span class="token operator">*</span>q<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> l<span class="token punctuation">,</span> <span class="token keyword">int</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> nn <span class="token operator">=</span> n<span class="token punctuation">,</span> ll <span class="token operator">=</span> l<span class="token punctuation">,</span> rr <span class="token operator">=</span> r<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ll <span class="token operator">>=</span> q<span class="token operator">-></span>cnt<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q<span class="token operator">-></span>data<span class="token punctuation">[</span>ll<span class="token punctuation">]</span> <span class="token operator">></span> q<span class="token operator">-></span>data<span class="token punctuation">[</span>nn<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token function">swap</span><span class="token punctuation">(</span>q<span class="token operator">-></span>data<span class="token punctuation">[</span>ll<span class="token punctuation">]</span><span class="token punctuation">,</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span>nn<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//output(q), printf("\n"); </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>rr <span class="token operator">>=</span> q<span class="token operator">-></span>cnt<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q<span class="token operator">-></span>data<span class="token punctuation">[</span>rr<span class="token punctuation">]</span> <span class="token operator">></span> q<span class="token operator">-></span>data<span class="token punctuation">[</span>nn<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token function">swap</span><span class="token punctuation">(</span>q<span class="token operator">-></span>data<span class="token punctuation">[</span>rr<span class="token punctuation">]</span><span class="token punctuation">,</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span>nn<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//    output(q), printf("\n");</span>    <span class="token function">fl_r</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span> rr<span class="token punctuation">,</span> <span class="token punctuation">(</span>rr <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>rr <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">fl_r</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span> ll<span class="token punctuation">,</span> <span class="token punctuation">(</span>ll <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>ll <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//递归pop</span><span class="token keyword">void</span> <span class="token function">fl_r1</span><span class="token punctuation">(</span>priority_queue <span class="token operator">*</span>q<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> l<span class="token punctuation">,</span> <span class="token keyword">int</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> nn <span class="token operator">=</span> n<span class="token punctuation">,</span> ll <span class="token operator">=</span> l<span class="token punctuation">,</span> rr <span class="token operator">=</span> r<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ll <span class="token operator">>=</span> q<span class="token operator">-></span>cnt<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//if (q->data[ll] > q->data[nn]) swap(q->data[ll], q->data[nn]);</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q<span class="token operator">-></span>data<span class="token punctuation">[</span>ll<span class="token punctuation">]</span> <span class="token operator">></span> q<span class="token operator">-></span>data<span class="token punctuation">[</span>nn<span class="token punctuation">]</span><span class="token punctuation">)</span> nn <span class="token operator">=</span> ll<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//output(q), printf("\n");</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>rr <span class="token operator">>=</span> q<span class="token operator">-></span>cnt<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token comment" spellcheck="true">//    if (q->data[rr] > q->data[nn]) swap(q->data[rr], q->data[nn]);</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q<span class="token operator">-></span>data<span class="token punctuation">[</span>rr<span class="token punctuation">]</span> <span class="token operator">></span> q<span class="token operator">-></span>data<span class="token punctuation">[</span>nn<span class="token punctuation">]</span><span class="token punctuation">)</span> nn <span class="token operator">=</span> rr<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//    output(q), printf("\n");</span><span class="token comment" spellcheck="true">//    fl_r(q, rr, (rr &lt;&lt; 1) + 1, (rr &lt;&lt; 1) + 2);</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>nn <span class="token operator">==</span> n<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">swap</span><span class="token punctuation">(</span>q<span class="token operator">-></span>data<span class="token punctuation">[</span>nn<span class="token punctuation">]</span><span class="token punctuation">,</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    n <span class="token operator">=</span> nn<span class="token punctuation">;</span>    <span class="token function">fl_r1</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span> nn<span class="token punctuation">,</span> <span class="token punctuation">(</span>nn <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>nn <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">pop</span><span class="token punctuation">(</span>priority_queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">empty</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>     q<span class="token operator">-></span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span><span class="token operator">--</span><span class="token punctuation">(</span>q<span class="token operator">-></span>cnt<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//    output(q), printf("\n");</span>    <span class="token function">fl_r</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">clear</span><span class="token punctuation">(</span>priority_queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>q<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token macro property">#<span class="token directive keyword">define</span> n 20</span>    <span class="token function">srand</span><span class="token punctuation">(</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    priority_queue <span class="token operator">*</span>q <span class="token operator">=</span> <span class="token function">init</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//int val = rand() % 1001;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> <span class="token function">insert</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"插入成功"</span> <span class="token punctuation">:</span> <span class="token string">"插入失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">output</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> <span class="token function">pop</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"删除成功"</span> <span class="token punctuation">:</span> <span class="token string">"删除失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">output</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"第一大 = %d, 第二大 = %d\n"</span><span class="token punctuation">,</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">></span> q<span class="token operator">-></span>data<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">?</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">:</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token macro property">#<span class="token directive keyword">undef</span> n</span>    <span class="token function">clear</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h5 id="代码演示二：迭代版"><a href="#代码演示二：迭代版" class="headerlink" title="代码演示二：迭代版"></a>代码演示二：迭代版</h5><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h></span></span><span class="token macro property">#<span class="token directive keyword">define</span> swap(a, b) ({\    __typeof(a) temp = a;\    a = b;\    b = temp;\})</span><span class="token comment" spellcheck="true">// 节点范围[0, n) </span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> priority_queue <span class="token punctuation">{</span>    <span class="token keyword">int</span> <span class="token operator">*</span>data<span class="token punctuation">;</span>    <span class="token keyword">int</span> size<span class="token punctuation">;</span>     <span class="token keyword">int</span> cnt<span class="token punctuation">;</span><span class="token punctuation">}</span> priority_queue<span class="token punctuation">;</span>priority_queue <span class="token operator">*</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//初始化优先队列数组长度</span>    priority_queue <span class="token operator">*</span>q <span class="token operator">=</span> <span class="token punctuation">(</span>priority_queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>priority_queue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    q<span class="token operator">-></span>cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    q<span class="token operator">-></span>size <span class="token operator">=</span> n<span class="token punctuation">;</span>    q<span class="token operator">-></span>data <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> q<span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token comment" spellcheck="true">//  数据范围[0, n) </span><span class="token keyword">int</span> <span class="token function">push</span><span class="token punctuation">(</span>priority_queue <span class="token operator">*</span>q<span class="token punctuation">,</span> <span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//大顶堆 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q<span class="token operator">-></span>size <span class="token operator">==</span> q<span class="token operator">-></span>cnt<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//堆满了 </span>    <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>q<span class="token operator">-></span>cnt<span class="token punctuation">)</span><span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    q<span class="token operator">-></span>data<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>n <span class="token operator">&amp;&amp;</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// &lt; 大顶堆； > 小顶堆 </span>        <span class="token comment" spellcheck="true">//n为0时即q->cnt = 0, 即堆中只有一个数，无需比较 </span>        <span class="token function">swap</span><span class="token punctuation">(</span>q<span class="token operator">-></span>data<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">,</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        n <span class="token operator">=</span> <span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">front</span><span class="token punctuation">(</span>priority_queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 取队列头部 </span>    <span class="token keyword">return</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">int</span> <span class="token function">empty</span><span class="token punctuation">(</span>priority_queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//队列判空 </span>    <span class="token keyword">return</span> q<span class="token operator">-></span>cnt<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">output</span><span class="token punctuation">(</span>priority_queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> q<span class="token operator">-></span>cnt<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//迭代版pop</span><span class="token keyword">int</span> <span class="token function">pop_</span><span class="token punctuation">(</span>priority_queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">empty</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    q<span class="token operator">-></span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span><span class="token operator">--</span><span class="token punctuation">(</span>q<span class="token operator">-></span>cnt<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> ind <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//max_root 为一个三元组中最大值的序号 </span>    <span class="token comment" spellcheck="true">//优先队列在二叉树种保证了对于每棵子树，其根节点都是最大值 </span>    <span class="token comment" spellcheck="true">//自上而下求出 完美二叉树 最大值 </span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>ind <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token punctuation">(</span>q<span class="token operator">-></span>cnt<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> max_root <span class="token operator">=</span> ind<span class="token punctuation">,</span> l <span class="token operator">=</span> <span class="token punctuation">(</span>ind <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> r <span class="token operator">=</span> <span class="token punctuation">(</span>ind <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span>         <span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token operator">&lt;</span> q<span class="token operator">-></span>cnt <span class="token operator">&amp;&amp;</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span>max_root<span class="token punctuation">]</span> <span class="token operator">&lt;</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">)</span> max_root <span class="token operator">=</span> r<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//与右节点比较， 取最大值 </span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>q<span class="token operator">-></span>data<span class="token punctuation">[</span>max_root<span class="token punctuation">]</span> <span class="token operator">&lt;</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">)</span> max_root <span class="token operator">=</span> l<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//与左节点比较， 取最大值 </span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>max_root <span class="token operator">==</span> ind<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token function">swap</span><span class="token punctuation">(</span>q<span class="token operator">-></span>data<span class="token punctuation">[</span>ind<span class="token punctuation">]</span><span class="token punctuation">,</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span>max_root<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            ind <span class="token operator">=</span> max_root<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">clear</span><span class="token punctuation">(</span>priority_queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>q<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token macro property">#<span class="token directive keyword">define</span> n 20</span>    <span class="token function">srand</span><span class="token punctuation">(</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    priority_queue <span class="token operator">*</span>q <span class="token operator">=</span> <span class="token function">init</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//int val = rand() % 1001;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> <span class="token function">push</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"插入成功"</span> <span class="token punctuation">:</span> <span class="token string">"插入失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">output</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> <span class="token function">pop_</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"删除成功"</span> <span class="token punctuation">:</span> <span class="token string">"删除失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">output</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//    printf("第一大 = %d, 第二大 = %d\n", q->data[0], q->data[1] > q->data[2] ? q->data[1] : q->data[2]);</span>    <span class="token punctuation">}</span>        <span class="token macro property">#<span class="token directive keyword">undef</span> n</span>    <span class="token function">clear</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="节点从数组1号位置开始"><a href="#节点从数组1号位置开始" class="headerlink" title="节点从数组1号位置开始"></a>节点从数组1号位置开始</h4><h5 id="代码演示1：迭代版"><a href="#代码演示1：迭代版" class="headerlink" title="代码演示1：迭代版"></a>代码演示1：迭代版</h5><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h></span></span><span class="token macro property">#<span class="token directive keyword">define</span> swap(a, b) ({\    __typeof(a) temp = a;\    a = b;\    b = temp;\}) </span><span class="token comment" spellcheck="true">// 节点范围[0, n) </span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> priority_queue <span class="token punctuation">{</span>    <span class="token keyword">int</span> <span class="token operator">*</span>data<span class="token punctuation">;</span>    <span class="token keyword">int</span> size<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//代表队列长度 </span>    <span class="token keyword">int</span> cnt<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//代表存在元素个数 </span><span class="token punctuation">}</span> priority_queue<span class="token punctuation">;</span>priority_queue <span class="token operator">*</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//初始化优先队列数组长度</span>    priority_queue <span class="token operator">*</span>q <span class="token operator">=</span> <span class="token punctuation">(</span>priority_queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>priority_queue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    q<span class="token operator">-></span>data <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    q<span class="token operator">-></span>cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    q<span class="token operator">-></span>size <span class="token operator">=</span> n<span class="token punctuation">;</span>    <span class="token keyword">return</span> q<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">top</span><span class="token punctuation">(</span>priority_queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 取队列头部 </span>    <span class="token keyword">return</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">int</span> <span class="token function">empty</span><span class="token punctuation">(</span>priority_queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//队列判空 </span>    <span class="token keyword">return</span> q<span class="token operator">-></span>cnt <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">output</span><span class="token punctuation">(</span>priority_queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> q<span class="token operator">-></span>cnt<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">push</span><span class="token punctuation">(</span>priority_queue <span class="token operator">*</span>q<span class="token punctuation">,</span> <span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//大顶堆 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q<span class="token operator">-></span>size <span class="token operator">==</span> q<span class="token operator">-></span>cnt<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//堆满了 </span>    q<span class="token operator">-></span>data<span class="token punctuation">[</span><span class="token operator">++</span><span class="token punctuation">(</span>q<span class="token operator">-></span>cnt<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">;</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> q<span class="token operator">-></span>cnt<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>n <span class="token operator">>></span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">></span> q<span class="token operator">-></span>data<span class="token punctuation">[</span>n <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// &lt; 大顶堆； > 小顶堆 </span>        <span class="token function">swap</span><span class="token punctuation">(</span>q<span class="token operator">-></span>data<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">,</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span>n <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        n <span class="token operator">>>=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//迭代版pop</span><span class="token keyword">int</span> <span class="token function">pop</span><span class="token punctuation">(</span>priority_queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">empty</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    q<span class="token operator">-></span>data<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span><span class="token punctuation">(</span>q<span class="token operator">-></span>cnt<span class="token punctuation">)</span><span class="token operator">--</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//    output(q), printf("\n");</span>    <span class="token keyword">int</span> ind <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//max_root 为一个三元组中最大值的序号 </span>    <span class="token comment" spellcheck="true">//优先队列在二叉树种保证了对于每棵子树，其根节点都是最大值 </span>    <span class="token comment" spellcheck="true">//自上而下求出 完美二叉树 最大值 </span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>ind <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> q<span class="token operator">-></span>cnt<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> max_root <span class="token operator">=</span> ind<span class="token punctuation">,</span> l <span class="token operator">=</span> ind <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">,</span> r <span class="token operator">=</span> ind <span class="token operator">&lt;&lt;</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>q<span class="token operator">-></span>data<span class="token punctuation">[</span>max_root<span class="token punctuation">]</span> <span class="token operator">&lt;</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">)</span> max_root <span class="token operator">=</span> l<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//与左节点比较， 取最大值 </span>        <span class="token comment" spellcheck="true">// 如果它有右节点 ； r &lt;= q->cnt 和 q->data[max_root] &lt; q->data[r]顺序不能变 </span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token operator">&lt;=</span> q<span class="token operator">-></span>cnt <span class="token operator">&amp;&amp;</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span>max_root<span class="token punctuation">]</span> <span class="token operator">&lt;</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">)</span> max_root <span class="token operator">=</span> r<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//与右节点比较， 取最大值 </span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>max_root <span class="token operator">==</span> ind<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token function">swap</span><span class="token punctuation">(</span>q<span class="token operator">-></span>data<span class="token punctuation">[</span>ind<span class="token punctuation">]</span><span class="token punctuation">,</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span>max_root<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        ind <span class="token operator">=</span> max_root<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//    output(q), printf("\n");</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">clear</span><span class="token punctuation">(</span>priority_queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>q<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">srand</span><span class="token punctuation">(</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token macro property">#<span class="token directive keyword">define</span> n 20</span>    priority_queue <span class="token operator">*</span>q <span class="token operator">=</span> <span class="token function">init</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//int val = rand() % 1001;</span>        <span class="token function">push</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"插入%d到堆中\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">output</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">//output(q), printf("\n");</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> <span class="token function">pop</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"删除成功"</span> <span class="token punctuation">:</span> <span class="token string">"删除失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">output</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//    printf("第一大 = %d, 第二大 = %d\n", q->data[0], q->data[1] > q->data[2] ? q->data[1] : q->data[2]);</span>    <span class="token punctuation">}</span>        <span class="token macro property">#<span class="token directive keyword">undef</span> n</span>    <span class="token function">clear</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h5 id="代码演示二：递归版"><a href="#代码演示二：递归版" class="headerlink" title="代码演示二：递归版"></a>代码演示二：递归版</h5><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h></span></span><span class="token macro property">#<span class="token directive keyword">define</span> swap(a, b) ({\    __typeof(a) temp = a;\    a = b;\    b = temp;\}) </span><span class="token comment" spellcheck="true">// 节点范围[1, n] </span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> priority_queue <span class="token punctuation">{</span>    <span class="token keyword">int</span> <span class="token operator">*</span>data<span class="token punctuation">;</span>    <span class="token keyword">int</span> size<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//代表队列长度 </span>    <span class="token keyword">int</span> cnt<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//代表存在元素个数 </span><span class="token punctuation">}</span> priority_queue<span class="token punctuation">;</span>priority_queue <span class="token operator">*</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//初始化优先队列数组长度</span>    priority_queue <span class="token operator">*</span>q <span class="token operator">=</span> <span class="token punctuation">(</span>priority_queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>priority_queue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    q<span class="token operator">-></span>data <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    q<span class="token operator">-></span>cnt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    q<span class="token operator">-></span>size <span class="token operator">=</span> n<span class="token punctuation">;</span>    <span class="token keyword">return</span> q<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">top</span><span class="token punctuation">(</span>priority_queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 取队列头部 </span>    <span class="token keyword">return</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">int</span> <span class="token function">empty</span><span class="token punctuation">(</span>priority_queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//队列判空 </span>    <span class="token keyword">return</span> q<span class="token operator">-></span>cnt <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">output</span><span class="token punctuation">(</span>priority_queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> q<span class="token operator">-></span>cnt<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">push</span><span class="token punctuation">(</span>priority_queue <span class="token operator">*</span>q<span class="token punctuation">,</span> <span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//大顶堆 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q<span class="token operator">-></span>size <span class="token operator">==</span> q<span class="token operator">-></span>cnt<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//堆满了 </span>    q<span class="token operator">-></span>data<span class="token punctuation">[</span><span class="token operator">++</span><span class="token punctuation">(</span>q<span class="token operator">-></span>cnt<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">;</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> q<span class="token operator">-></span>cnt<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>n <span class="token operator">>></span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">></span> q<span class="token operator">-></span>data<span class="token punctuation">[</span>n <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// &lt; 大顶堆； > 小顶堆 </span>        <span class="token function">swap</span><span class="token punctuation">(</span>q<span class="token operator">-></span>data<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">,</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span>n <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        n <span class="token operator">>>=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//递归pop</span><span class="token keyword">void</span> <span class="token function">fl_r</span><span class="token punctuation">(</span>priority_queue <span class="token operator">*</span>q<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> l<span class="token punctuation">,</span> <span class="token keyword">int</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> nn <span class="token operator">=</span> n<span class="token punctuation">,</span> ll <span class="token operator">=</span> l<span class="token punctuation">,</span> rr <span class="token operator">=</span> r<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ll <span class="token operator">></span> q<span class="token operator">-></span>cnt<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//if (q->data[ll] > q->data[nn]) swap(q->data[ll], q->data[nn]);</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q<span class="token operator">-></span>data<span class="token punctuation">[</span>ll<span class="token punctuation">]</span> <span class="token operator">></span> q<span class="token operator">-></span>data<span class="token punctuation">[</span>nn<span class="token punctuation">]</span><span class="token punctuation">)</span> nn <span class="token operator">=</span> ll<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//output(q), printf("\n");</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>rr <span class="token operator">></span> q<span class="token operator">-></span>cnt<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token comment" spellcheck="true">//    if (q->data[rr] > q->data[nn]) swap(q->data[rr], q->data[nn]);</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q<span class="token operator">-></span>data<span class="token punctuation">[</span>rr<span class="token punctuation">]</span> <span class="token operator">></span> q<span class="token operator">-></span>data<span class="token punctuation">[</span>nn<span class="token punctuation">]</span><span class="token punctuation">)</span> nn <span class="token operator">=</span> rr<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//    output(q), printf("\n");</span><span class="token comment" spellcheck="true">//    fl_r(q, rr, (rr &lt;&lt; 1) + 1, (rr &lt;&lt; 1) + 2);</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>nn <span class="token operator">==</span> n<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">swap</span><span class="token punctuation">(</span>q<span class="token operator">-></span>data<span class="token punctuation">[</span>nn<span class="token punctuation">]</span><span class="token punctuation">,</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    n <span class="token operator">=</span> nn<span class="token punctuation">;</span>    <span class="token function">fl_r</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span> nn<span class="token punctuation">,</span> nn <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>nn <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">pop</span><span class="token punctuation">(</span>priority_queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>     <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">empty</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        q<span class="token operator">-></span>data<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span><span class="token punctuation">(</span>q<span class="token operator">-></span>cnt<span class="token punctuation">)</span><span class="token operator">--</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//    output(q), printf("\n");</span>    <span class="token function">fl_r</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">clear</span><span class="token punctuation">(</span>priority_queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>q<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">srand</span><span class="token punctuation">(</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token macro property">#<span class="token directive keyword">define</span> n 20</span>    priority_queue <span class="token operator">*</span>q <span class="token operator">=</span> <span class="token function">init</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//int val = rand() % 1001;</span>        <span class="token function">push</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"插入%d到堆中\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">output</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token comment" spellcheck="true">//output(q), printf("\n");</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> <span class="token function">pop</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"删除成功"</span> <span class="token punctuation">:</span> <span class="token string">"删除失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">output</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//    printf("第一大 = %d, 第二大 = %d\n", q->data[0], q->data[1] > q->data[2] ? q->data[1] : q->data[2]);</span>    <span class="token punctuation">}</span>        <span class="token macro property">#<span class="token directive keyword">undef</span> n</span>    <span class="token function">clear</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 基础数据结构 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>邻值查找</title>
      <link href="posts/3bc1.html"/>
      <url>posts/3bc1.html</url>
      
        <content type="html"><![CDATA[<h4 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h4><h4 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h4><p>给定一个长度为 nn 的序列 A，A 中的数各不相同。对于 A 中的每一个数 Ai，求：</p><p>min(1≤j&lt;i) |Ai−Aj|min(1≤j&lt;i) ⁡|Ai−Aj|</p><p>以及令上式取到最小值的 j（记为 Pi）。若最小值点不唯一，则选择<strong>使 Aj较小的那个j</strong>。</p><hr><h4 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h4><p> 第一行一个整数 n，第二行 n 个数 A1至An。</p><h4 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h4><p> n−1 行，每行 2 个用空格隔开的整数。分别表示当 i∈[2,n]时，对应的 min(1≤j&lt;i) |Ai−Aj| 和 Pi 的值。</p><hr><h4 id="样例输入"><a href="#样例输入" class="headerlink" title="样例输入"></a>样例输入</h4><pre><code>31 5 3</code></pre><h4 id="样例输出"><a href="#样例输出" class="headerlink" title="样例输出"></a>样例输出</h4><pre><code>4 12 1</code></pre><hr><h4 id="数据规模与约定"><a href="#数据规模与约定" class="headerlink" title="数据规模与约定"></a>数据规模与约定</h4><p> 时间限制：1 s</p><p> 内存限制：256 M</p><p> 100% 的数据保证 n≤105, Ai &lt;= 1e9</p><h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><ul><li><p>首先读懂题目</p></li><li><p>排序：升序</p></li><li><p>从原始数列最后一个元素开始查找，查找完成把该元素剔除</p></li></ul><h4 id="题解-1-利用数组做的"><a href="#题解-1-利用数组做的" class="headerlink" title="题解 1:利用数组做的"></a>题解 1:利用数组做的</h4><h5 id="自己写的3000ms左右"><a href="#自己写的3000ms左右" class="headerlink" title="自己写的3000ms左右"></a>自己写的3000ms左右</h5><pre class=" language-C"><code class="language-C">#include <iostream>#include <math.h>#include <algorithm>#include <stdio.h>using namespace std;typedef pair <int, int> PA;typedef long long ll;PA nums[100005];PA da[100005]; //da[i].first = min|Ai - Aj|, da[i].second = Pj; i > j >= 1; 保存答案，方便输出； int key[100005];int main() {    int n;    scanf("%d", &n);    for (int i = 1; i <= n; i++) {        scanf("%d", &nums[i].first);        nums[i].second = i;    }    sort(nums + 1, nums + n + 1);//    for (int i = 1; i <= n; i++) {//        cout << nums[i].first << ' ' << nums[i].second << endl;//    }    for (int i = 1; i <= n; i++) {        key[nums[i].second] = i; //排序后数列位置 <= 数列原位置     }    int min = 1e9 + 10;    int max = -1e9 - 10;    nums[0] = {min, 0};    nums[n + 1] = {max, n + 1};    for (int i = n; i >= 2; i--) { //i指向原数列元素的位置         int key_i = key[i]; //key_i指向排序后元素位置；找到原数列元素在排序后数列的位置        int i_y = key_i + 1; //指向排序后key_i右边的元素        while (i_y < n + 1 && nums[i_y].first == max) i_y++;        int i_z = key_i - 1; //指向排序后key_i左边的元素         while (i_z && nums[i_z].first == max) i_z--;        ll abs1 = abs(nums[i_z].first - nums[key_i].first); //右边数         ll abs2 = abs(nums[i_y].first - nums[key_i].first); //左边数        if (abs1 > abs2) {            da[i].first = abs2, da[i].second = nums[i_y].second;        } else {            da[i].first = abs1, da[i].second = nums[i_z].second;        }        nums[key_i].first = max;    }    for (int i = 2; i <= n; i++) printf("%d %d\n", da[i].first, da[i].second);    return 0;}</code></pre><h4 id="题解-2：自己写的双向链表"><a href="#题解-2：自己写的双向链表" class="headerlink" title="题解 2：自己写的双向链表"></a>题解 2：自己写的双向链表</h4><h5 id="自己用C写的2000ms左右"><a href="#自己用C写的2000ms左右" class="headerlink" title="自己用C写的2000ms左右"></a>自己用C写的2000ms左右</h5><h5 id="思路-1"><a href="#思路-1" class="headerlink" title="思路"></a>思路</h5><ul><li>主要处理边界问题</li></ul><pre class=" language-C"><code class="language-C">#include <stdio.h>#include <stdlib.h>#include <math.h>typedef struct root {    int key;    int val;} root;//结构定义typedef struct Node { //节点定义     root *val;    struct Node *next; // 后驱指针 ->     struct Node *per;  //前驱指针 <-} Node;typedef struct DList {    Node head;} DList;DList *init_DList() { //链表初始化     DList *l = (DList *)malloc(sizeof(DList));    l->head.next = NULL;    return l;}Node *getNewNode(root *val) { //节点初始化    if (val == NULL) return NULL;    Node *n = (Node *)malloc(sizeof(Node));    n->val = val;    n->next = n->per = NULL;    return n;}void insert(DList *l, root *val) { // 头插法 节点插入    if (l == NULL) return ;    Node *p = &(l->head), *n = getNewNode(val);    n->next = p->next;    l->head.next = n;    if (n->next) n->next->per = n;    return ;}void delete_Node(DList *l, Node *n) { //节点删除    if (n == NULL) return ;    Node *p = n->next, *q = n->per;    if (p == NULL) {        q->next = NULL;    } else if (q == NULL) {        l->head.next = p;        p->per = NULL;    } else {        p->per = q;        q->next = p;    }    free(n);    return ;}root nums[100005];root da[100005];void quick_sort(root *num, int l, int r) {//结构体快速排序     //数据越乱越好     if (l > r) return ;    int x = l, y = r;    root z = num[x];    while (x < y) {        while (x < y && num[y].val > z.val) y--;        if (x < y) num[x++] = num[y];        while (x < y && num[x].val < z.val) x++;        if (x < y) num[y--] = num[x];    }    num[x] = z;    quick_sort(num, l, x - 1);    quick_sort(num, x + 1, r);    return ;}int main() {    int n;    scanf("%d", &n);    for (int i = 1; i <= n; i++) {        scanf("%d", &nums[i].val);        nums[i].key = i;    }    quick_sort(nums, 1, n);//    for (int i = 1; i <= n; i++) {//        cout << nums[i].val << ' ' << nums[i].key << endl;//    }    DList *l = init_DList();    for (int i = n; i >= 1; i--) {        //vis[nums[i].key] = i;        insert(l, &nums[i]);    }    Node *q = l->head.next; // 保存上一个位置    for (int i = n; i >= 2; i--) {        Node *p = q;        int pos = i;        while (p->val->key != pos && p->next) p = p->next;        if (pos != p->val->key) {            p = q;            while (p->val->key != pos && p->per) p = p->per;        }        int data = p->val->val;        int abs1 = 2e9 + 10, abs2 = 2e9 + 10;        if (p->next) {            int qian = p->next->val->val;            q = p->next;            abs1 = abs(qian - data);        }                if (p->per) {            int hou= p->per->val->val;            q = p->per;            abs2 = abs(hou - data);        }                if (abs1 >= abs2) {            da[i].val = abs2;            da[i].key = p->per->val->key;        } else {            da[i].val = abs1, da[i].key = p->next->val->key;        }         delete_Node(l, p);    }//    for (int i = 2; i <= n; i++) {//        cout << da[i].first << ' ' << da[i].second << endl;//    }    for (int i = 2; i <= n; i++) printf("%d %d\n", da[i].val, da[i].key);    free(l);     return 0;}</code></pre><h4 id="题解3：利用数组实现双向链表"><a href="#题解3：利用数组实现双向链表" class="headerlink" title="题解3：利用数组实现双向链表"></a>题解3：利用数组实现双向链表</h4><h5 id="看了视频后自己写的，120ms左右"><a href="#看了视频后自己写的，120ms左右" class="headerlink" title="看了视频后自己写的，120ms左右"></a>看了视频后自己写的，120ms左右</h5><pre class=" language-C"><code class="language-C">#include <stdio.h>#include <algorithm>#include <math.h>using namespace std;#define N 100005 typedef pair<int, int> PII;PII nums[N], ans[N];int r[N], l[N], vis[N];// 数组vis用来查找原始数列在排序后数列的位置// 数组r为双向链表的右指针，l为左指针 int main() {    int n;    scanf("%d", &n);    for (int i = 1; i <= n; i++) {        scanf("%d", &nums[i].first);        nums[i].second = i;    }    sort(nums + 1, nums + 1 + n);    for (int i = 1; i <= n; i++) {        vis[nums[i].second] = i; //查找原始数列在排序后数列的位置        r[i] = i + 1, l[i] = i - 1; //链接链表    }        //边界处理     nums[0] = {1e9 + 10, 0};    nums[n + 1] = {-(1e9 + 10), n + 1};         for (int i = n; i > 1; i--) { //从n开始保证是最大的         int pos = vis[i];         int right = r[pos], left = l[pos];        int abs_r = abs(nums[pos].first - nums[right].first);        int abs_l = abs(nums[pos].first - nums[left].first);        if (abs_l <= abs_r) {            ans[i].first = abs_l, ans[i].second = nums[left].second;        } else {            ans[i].first = abs_r, ans[i].second = nums[right].second;        }                //删除节点        r[left] = right, l[right] = left;    }    for (int i = 2; i <= n; i++) printf("%d %d\n", ans[i].first, ans[i].second);    return 0;}</code></pre><h5 id="用了快读与快写，直接跑到112ms"><a href="#用了快读与快写，直接跑到112ms" class="headerlink" title="用了快读与快写，直接跑到112ms"></a>用了快读与快写，直接跑到112ms</h5><pre class=" language-C"><code class="language-C">#include <stdio.h>#include <algorithm>#include <math.h>using namespace std;#define N 100005 typedef pair<int, int> PII;PII nums[N], ans[N];int r[N], l[N], vis[N];// 数组vis用来查找原始数列在排序后数列的位置// 数组r为双向链表的右指针，l为左指针 inline int read() {    int x = 0, w = 0;    char ch = getchar();    while (ch > '9' || ch < '0') {        w |= ch == '-';        ch = getchar();    }     while (ch >= '0' && ch <= '9') {        x = (x << 3) + (x << 1) + (ch ^ 48);        ch = getchar();    }    return w ? -x : x;}inline void write(int x) { //快写         char f[200];        if (!x) {        putchar('0');        return ;    }    int tmp = x > 0 ? x : -x;    int cnt = 0;    (x < 0) && putchar('-');    while (tmp > 0) {        f[cnt++] = tmp % 10 + '0';        tmp /= 10;    }    while (cnt > 0) {        putchar(f[--cnt]);    }} int main() {    int n;    n = read();    for (int i = 1; i <= n; i++) {        nums[i].first = read();        nums[i].second = i;    }    sort(nums + 1, nums + 1 + n);    for (int i = 1; i <= n; i++) {        vis[nums[i].second] = i; //查找原始数列在排序后数列的位置        r[i] = i + 1, l[i] = i - 1;    }        //边界处理     nums[0] = {1e9 + 10, 0};    nums[n + 1] = {-(1e9 + 10), n + 1};         for (int i = n; i > 1; i--) { //从n开始保证是最大的         int pos = vis[i];         int right = r[pos], left = l[pos];        int abs_r = abs(nums[pos].first - nums[right].first);        int abs_l = abs(nums[pos].first - nums[left].first);        if (abs_l <= abs_r) {            ans[i].first = abs_l, ans[i].second = nums[left].second;        } else {            ans[i].first = abs_r, ans[i].second = nums[right].second;        }        //删除节点        r[left] = right, l[right] = left;    }            for (int i = 2; i <= n; i++)         write(ans[i].first), putchar(' '), write(ans[i].second), putchar('\n');    return 0;}</code></pre><h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><ul><li><p>通过这道题学习到了双向链表利用数组实现的方法</p></li><li><p>利用两个方向数组实现了链表的双向功能，和删除节点的功能</p></li><li><p>利用数组实现的双向链表查找和删除时间复杂度多少O(1)，远远比利用结构体快得多，结构体查找时间复杂度为O(n)，删除功能为O(1);</p></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Acwing刷题 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>力扣3、无重复字符的最长子串</title>
      <link href="posts/7dfb.html"/>
      <url>posts/7dfb.html</url>
      
        <content type="html"><![CDATA[<h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><ul><li>由于是字符串。故可以建立数组哈希表hash[128];</li><li>从头遍历字符串计算每个无重复子串的长度，顺便更新最长子串长度</li><li>hash[val] = key; key表示val出现的位置</li><li>对于重复重现的val更新它出现的位置，并更新count</li><li>看代码注释</li></ul><h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">lengthOfLongestSubstring</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span> s<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">// start每个表示子串头的位置</span>    <span class="token keyword">int</span> hash<span class="token punctuation">[</span><span class="token number">128</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> start <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> max <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">0x3f3f3f3f</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>hash<span class="token punctuation">[</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">></span> start<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//hash[s[i]] > start表示s[i]出现过了</span>            count <span class="token operator">=</span> i <span class="token operator">-</span> start<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//计算当前子串长度</span>            max <span class="token operator">=</span> count <span class="token operator">></span> max <span class="token operator">?</span> count <span class="token punctuation">:</span> max<span class="token punctuation">;</span>            start <span class="token operator">=</span> hash<span class="token punctuation">[</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//更新 新的子串头的位置</span>        <span class="token punctuation">}</span>        hash<span class="token punctuation">[</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//更新重复字符出现位置</span>    <span class="token punctuation">}</span>    count <span class="token operator">=</span> i <span class="token operator">-</span> start<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//计算最后不重复子串长度</span>    <span class="token keyword">return</span> count <span class="token operator">></span> max <span class="token operator">?</span> count <span class="token punctuation">:</span> max<span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 力扣题解 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>广义表转二叉树</title>
      <link href="posts/dc75.html"/>
      <url>posts/dc75.html</url>
      
        <content type="html"><![CDATA[<h3 id="思路：栈操作"><a href="#思路：栈操作" class="headerlink" title="思路：栈操作"></a>思路：栈操作</h3><h4 id="例如广义表A-B-D-R-K-G"><a href="#例如广义表A-B-D-R-K-G" class="headerlink" title="例如广义表A(B(D,R),K(G))"></a>例如广义表A(B(D,R),K(G))</h4><ul><li>前序遍历：A, B, D, R, K, G</li><li>中序遍历：D, B, R, A, G, K</li><li>后序遍历：D, R, B, G, K, A</li></ul><h4 id="怎么判断左右孩子？"><a href="#怎么判断左右孩子？" class="headerlink" title="怎么判断左右孩子？"></a>怎么判断左右孩子？</h4><pre><code>仔细观察，左孩子前面有左括号，右孩子前面为逗号，故可以定义一个flag判断左右孩子。</code></pre><ul><li>定义一个flag, 初始化为0，遇左括号变为0，遇到逗号变为1</li><li>遇到字母只需判断flag，flag 为0，则为左孩子，为1，则为右孩子</li><li>遇到左括号入栈，遇到右括号出栈</li></ul><h4 id="主要操作"><a href="#主要操作" class="headerlink" title="主要操作"></a>主要操作</h4><pre class=" language-c"><code class="language-c">Node <span class="token operator">*</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>str<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>Node_num<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//广义表转二叉树函数 </span>    Stack <span class="token operator">*</span>s <span class="token operator">=</span> <span class="token function">init_Stack</span><span class="token punctuation">(</span><span class="token function">strlen</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    Node <span class="token operator">*</span>temp <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">switch</span> <span class="token punctuation">(</span>str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">case</span> <span class="token string">'('</span> <span class="token punctuation">:</span>                <span class="token function">push</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> temp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 根节点进行压栈操作</span>                flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> <span class="token string">')'</span> <span class="token punctuation">:</span>                p <span class="token operator">=</span> <span class="token function">top</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token function">pop</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> <span class="token string">','</span> <span class="token punctuation">:</span> flag <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> <span class="token string">' '</span> <span class="token punctuation">:</span> <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">default</span> <span class="token punctuation">:</span>                temp <span class="token operator">=</span> <span class="token function">getNewNode</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//包装成节点</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">empty</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> flag <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token function">top</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">-></span>lchild <span class="token operator">=</span> temp<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//左孩子</span>                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">empty</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> flag <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token function">top</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">-></span>rchild <span class="token operator">=</span> temp<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//右孩子</span>                <span class="token punctuation">}</span>                <span class="token operator">++</span><span class="token punctuation">(</span><span class="token operator">*</span>Node_num<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 计算</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token operator">++</span>str<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//指针右移, 每次只需判断str[0].</span>    <span class="token punctuation">}</span>    <span class="token function">clear_Stack</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>temp <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>p<span class="token punctuation">)</span> p <span class="token operator">=</span> temp<span class="token punctuation">;</span>     <span class="token keyword">return</span> p<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="看代码"><a href="#看代码" class="headerlink" title="看代码"></a>看代码</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span><span class="token comment" spellcheck="true">//二叉树结构定义 </span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Node <span class="token punctuation">{</span>    <span class="token keyword">char</span> data<span class="token punctuation">;</span>    <span class="token keyword">struct</span> Node <span class="token operator">*</span>lchild<span class="token punctuation">,</span> <span class="token operator">*</span>rchild<span class="token punctuation">;</span><span class="token punctuation">}</span> Node<span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Tree <span class="token punctuation">{</span>    Node <span class="token operator">*</span>root<span class="token punctuation">;</span>    <span class="token keyword">int</span> length<span class="token punctuation">;</span><span class="token punctuation">}</span> Tree<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//栈的结构定义（存储二叉树的节点地址） </span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Stack <span class="token punctuation">{</span>    Node <span class="token operator">*</span><span class="token operator">*</span>data<span class="token punctuation">;</span>    <span class="token keyword">int</span> top<span class="token punctuation">,</span> size<span class="token punctuation">;</span><span class="token punctuation">}</span> Stack<span class="token punctuation">;</span>Node <span class="token operator">*</span><span class="token function">getNewNode</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//节点初始化 </span>Tree <span class="token operator">*</span><span class="token function">getNewTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">clear_Node</span><span class="token punctuation">(</span>Node <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">clear_Tree</span><span class="token punctuation">(</span>Tree <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Stack <span class="token operator">*</span><span class="token function">init_Stack</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//栈的初始化 </span>Node <span class="token operator">*</span><span class="token function">top</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 输出栈顶元素 </span><span class="token keyword">int</span> <span class="token function">empty</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 栈的判空 </span><span class="token keyword">int</span> <span class="token function">push</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 入栈操作 </span><span class="token keyword">int</span> <span class="token function">pop</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// 出栈操作 </span>Node <span class="token operator">*</span><span class="token function">getNewNode</span><span class="token punctuation">(</span><span class="token keyword">char</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token punctuation">(</span>Node <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    p<span class="token operator">-></span>data <span class="token operator">=</span> val<span class="token punctuation">;</span>    p<span class="token operator">-></span>lchild <span class="token operator">=</span> p<span class="token operator">-></span>rchild <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> p<span class="token punctuation">;</span><span class="token punctuation">}</span> Tree <span class="token operator">*</span><span class="token function">getNewTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    Tree <span class="token operator">*</span>t <span class="token operator">=</span> <span class="token punctuation">(</span>Tree <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Tree<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    t<span class="token operator">-></span>length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    t<span class="token operator">-></span>root <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> t<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">clear_Node</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">clear_Node</span><span class="token punctuation">(</span>root<span class="token operator">-></span>lchild<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">clear_Node</span><span class="token punctuation">(</span>root<span class="token operator">-></span>rchild<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">clear_Tree</span><span class="token punctuation">(</span>Tree <span class="token operator">*</span>t<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">clear_Node</span><span class="token punctuation">(</span>t<span class="token operator">-></span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span>Stack <span class="token operator">*</span><span class="token function">init_Stack</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    Stack <span class="token operator">*</span>s <span class="token operator">=</span> <span class="token punctuation">(</span>Stack <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Stack<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    s<span class="token operator">-></span>data <span class="token operator">=</span> <span class="token punctuation">(</span>Node <span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node <span class="token operator">*</span><span class="token punctuation">)</span> <span class="token operator">*</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>    s<span class="token operator">-></span>top <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    s<span class="token operator">-></span>size <span class="token operator">=</span> n<span class="token punctuation">;</span>    <span class="token keyword">return</span> s<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">clear_Stack</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span>s<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>s <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>s<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token comment" spellcheck="true">//栈的主要操作 </span>Node <span class="token operator">*</span><span class="token function">top</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span>s<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> s<span class="token operator">-></span>data<span class="token punctuation">[</span>s<span class="token operator">-></span>top<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">empty</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span>s<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> s<span class="token operator">-></span>top <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">push</span><span class="token punctuation">(</span>Stack  <span class="token operator">*</span>s<span class="token punctuation">,</span> Node <span class="token operator">*</span>val<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>s <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token operator">-></span>top <span class="token operator">==</span> s<span class="token operator">-></span>size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    s<span class="token operator">-></span>data<span class="token punctuation">[</span><span class="token operator">++</span><span class="token punctuation">(</span>s<span class="token operator">-></span>top<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">pop</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span>s<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>s <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">empty</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    s<span class="token operator">-></span>top <span class="token operator">-</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 不进行销毁操作，只需把该节点剔除</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span>Node <span class="token operator">*</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>str<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>Node_num<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//广义表转二叉树函数 </span>    Stack <span class="token operator">*</span>s <span class="token operator">=</span> <span class="token function">init_Stack</span><span class="token punctuation">(</span><span class="token function">strlen</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    Node <span class="token operator">*</span>temp <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">switch</span> <span class="token punctuation">(</span>str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">case</span> <span class="token string">'('</span> <span class="token punctuation">:</span>                <span class="token function">push</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> temp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 根节点进行压栈操作</span>                flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> <span class="token string">')'</span> <span class="token punctuation">:</span>                p <span class="token operator">=</span> <span class="token function">top</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token function">pop</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> <span class="token string">','</span> <span class="token punctuation">:</span> flag <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> <span class="token string">' '</span> <span class="token punctuation">:</span> <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">default</span> <span class="token punctuation">:</span>                temp <span class="token operator">=</span> <span class="token function">getNewNode</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//包装成节点</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">empty</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> flag <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token function">top</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">-></span>lchild <span class="token operator">=</span> temp<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//左孩子</span>                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">empty</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> flag <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token function">top</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">-></span>rchild <span class="token operator">=</span> temp<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//右孩子</span>                <span class="token punctuation">}</span>                <span class="token operator">++</span><span class="token punctuation">(</span><span class="token operator">*</span>Node_num<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 计算</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token operator">++</span>str<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//指针右移, 每次只需判断str[0].</span>    <span class="token punctuation">}</span>    <span class="token function">clear_Stack</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>temp <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>p<span class="token punctuation">)</span> p <span class="token operator">=</span> temp<span class="token punctuation">;</span>     <span class="token keyword">return</span> p<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//p指向根节点</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//前中后序遍历输出</span><span class="token keyword">void</span> <span class="token function">in_order_Node</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">in_order_Node</span><span class="token punctuation">(</span>root<span class="token operator">-></span>lchild<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%c "</span><span class="token punctuation">,</span> root<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">in_order_Node</span><span class="token punctuation">(</span>root<span class="token operator">-></span>rchild<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">in_order</span><span class="token punctuation">(</span>Tree <span class="token operator">*</span>t<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"in_rder(%d) : "</span><span class="token punctuation">,</span> t<span class="token operator">-></span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">in_order_Node</span><span class="token punctuation">(</span>t<span class="token operator">-></span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">void</span> <span class="token function">pre_order_Node</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%c "</span><span class="token punctuation">,</span> root<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pre_order_Node</span><span class="token punctuation">(</span>root<span class="token operator">-></span>lchild<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pre_order_Node</span><span class="token punctuation">(</span>root<span class="token operator">-></span>rchild<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">pre_order</span><span class="token punctuation">(</span>Tree <span class="token operator">*</span>t<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"per_rder(%d) : "</span><span class="token punctuation">,</span> t<span class="token operator">-></span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pre_order_Node</span><span class="token punctuation">(</span>t<span class="token operator">-></span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">void</span> <span class="token function">post_order_Node</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">post_order_Node</span><span class="token punctuation">(</span>root<span class="token operator">-></span>lchild<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">post_order_Node</span><span class="token punctuation">(</span>root<span class="token operator">-></span>rchild<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%c "</span><span class="token punctuation">,</span> root<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">post_order</span><span class="token punctuation">(</span>Tree <span class="token operator">*</span>t<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"post_rder(%d) : "</span><span class="token punctuation">,</span> t<span class="token operator">-></span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">post_order_Node</span><span class="token punctuation">(</span>t<span class="token operator">-></span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">char</span> str<span class="token punctuation">[</span><span class="token number">1000</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%[^\n]s"</span><span class="token punctuation">,</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    Tree <span class="token operator">*</span>t <span class="token operator">=</span> <span class="token function">getNewTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> Node_num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    t<span class="token operator">-></span>root <span class="token operator">=</span> <span class="token function">build</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> <span class="token operator">&amp;</span>Node_num<span class="token punctuation">)</span><span class="token punctuation">;</span>    t<span class="token operator">-></span>length <span class="token operator">=</span> Node_num<span class="token punctuation">;</span>    <span class="token function">pre_order</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">in_order</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">post_order</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 基础数据结构 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>我的学习路线与方向</title>
      <link href="posts/daca.html"/>
      <url>posts/daca.html</url>
      
        <content type="html"><![CDATA[<h4 id="看图"><a href="#看图" class="headerlink" title="看图"></a>看图</h4><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/Axieyun/cdn@1.5/_pots/%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF9.png"></p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/Axieyun/cdn@1.5/_pots/%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF8.png"></p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/Axieyun/cdn@1.5/_pots/%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF7.png"></p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/Axieyun/cdn@1.5/_pots/%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF6.png"></p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/Axieyun/cdn@1.5/_pots/%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF5.png"></p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/Axieyun/cdn@1.5/_pots/%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF4.png"></p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/Axieyun/cdn@1.5/_pots/%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF3.png"></p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/Axieyun/cdn@1.5/_pots/%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF2.png"></p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/Axieyun/cdn@1.5/_pots/%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF1.png"></p>]]></content>
      
      
      
        <tags>
            
            <tag> 学习目标 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>力扣2、两数相加</title>
      <link href="posts/96c3.html"/>
      <url>posts/96c3.html</url>
      
        <content type="html"><![CDATA[<h4 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h4><p>给你两个 非空 的链表，表示两个非负的整数。它们每位数字都是按照 逆序 的方式存储的，并且每个节点只能存储 一位 数字。</p><p>请你将两个数相加，并以相同形式返回一个表示和的链表。</p><p>你可以假设除了数字 0 之外，这两个数都不会以 0 开头。</p><p> <strong>示例 1：</strong></p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/Axieyun/cdn@1.5/_pots/2.jpg"></p><p>输入：l1 = [2,4,3], l2 = [5,6,4]<br>输出：[7,0,8]<br>解释：342 + 465 = 807.<br>示例 2：</p><p>输入：l1 = [0], l2 = [0]<br>输出：[0]<br>示例 3：</p><p>输入：l1 = [9,9,9,9,9,9,9], l2 = [9,9,9,9]<br>输出：[8,9,9,9,0,0,0,1]</p><p>提示：</p><p>每个链表中的节点数在范围 [1, 100] 内<br>0 &lt;= Node.val &lt;= 9<br>题目数据保证列表表示的数字不含前导零</p><p>来源：力扣（LeetCode）<br>链接：<a href="https://leetcode-cn.com/problems/add-two-numbers">https://leetcode-cn.com/problems/add-two-numbers</a></p><h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><ul><li>新建一条链表，同时遍历两条链表，直到最长的一条链表结尾结束循环。</li><li>遍历过程中，为新建链表增加节点，最后退出循环只需判断最后一个节点是否需要保留。</li><li>结束循环后，只需判断最后进位k是否为0，为0新的链表最后节点不需要保留，否则要保留。</li></ul><h4 id="题解1"><a href="#题解1" class="headerlink" title="题解1"></a>题解1</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/** * Definition for singly-linked list. * struct ListNode { *     int val; *     struct ListNode *next; * }; */</span><span class="token keyword">struct</span> ListNode<span class="token operator">*</span> <span class="token function">addTwoNumbers</span><span class="token punctuation">(</span><span class="token keyword">struct</span> ListNode<span class="token operator">*</span> l1<span class="token punctuation">,</span> <span class="token keyword">struct</span> ListNode<span class="token operator">*</span> l2<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">struct</span> ListNode <span class="token operator">*</span>p1 <span class="token operator">=</span> l1<span class="token punctuation">,</span> <span class="token operator">*</span>p2 <span class="token operator">=</span> l2<span class="token punctuation">,</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token operator">*</span>q <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// q指向新建链表倒数第二个节点</span>    <span class="token keyword">struct</span> ListNode <span class="token operator">*</span>head <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">struct</span> ListNode <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">struct</span> ListNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    p <span class="token operator">=</span> head<span class="token punctuation">;</span>    p<span class="token operator">-></span>val <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>p1 <span class="token operator">&amp;&amp;</span> p2<span class="token punctuation">)</span> <span class="token punctuation">{</span>        p<span class="token operator">-></span>val <span class="token operator">=</span> <span class="token punctuation">(</span>p1<span class="token operator">-></span>val <span class="token operator">+</span> p2<span class="token operator">-></span>val <span class="token operator">+</span> k<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">;</span>        k <span class="token operator">=</span> <span class="token punctuation">(</span>p1<span class="token operator">-></span>val <span class="token operator">+</span> p2<span class="token operator">-></span>val <span class="token operator">+</span> k<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">;</span>        p1 <span class="token operator">=</span> p1<span class="token operator">-></span>next<span class="token punctuation">;</span>        p2 <span class="token operator">=</span> p2<span class="token operator">-></span>next<span class="token punctuation">;</span>        <span class="token keyword">struct</span> ListNode <span class="token operator">*</span>tm <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">struct</span> ListNode <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">struct</span> ListNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        q <span class="token operator">=</span> p<span class="token punctuation">,</span> p<span class="token operator">-></span>next <span class="token operator">=</span> tm<span class="token punctuation">,</span> p <span class="token operator">=</span> tm<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>p1<span class="token punctuation">)</span> <span class="token punctuation">{</span>        p<span class="token operator">-></span>val <span class="token operator">=</span> <span class="token punctuation">(</span>p1<span class="token operator">-></span>val <span class="token operator">+</span> k<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">;</span>        k <span class="token operator">=</span> <span class="token punctuation">(</span>p1<span class="token operator">-></span>val <span class="token operator">+</span> k<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">;</span>        p1 <span class="token operator">=</span> p1<span class="token operator">-></span>next<span class="token punctuation">;</span>        <span class="token keyword">struct</span> ListNode <span class="token operator">*</span>tm <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">struct</span> ListNode <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">struct</span> ListNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        q <span class="token operator">=</span> p<span class="token punctuation">,</span> p<span class="token operator">-></span>next <span class="token operator">=</span> tm<span class="token punctuation">,</span> p <span class="token operator">=</span> tm<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>p2<span class="token punctuation">)</span> <span class="token punctuation">{</span>        p<span class="token operator">-></span>val <span class="token operator">=</span> <span class="token punctuation">(</span>p2<span class="token operator">-></span>val <span class="token operator">+</span> k<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">;</span>        k <span class="token operator">=</span> <span class="token punctuation">(</span>p2<span class="token operator">-></span>val <span class="token operator">+</span> k<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">;</span>        p2 <span class="token operator">=</span> p2<span class="token operator">-></span>next<span class="token punctuation">;</span>        <span class="token keyword">struct</span> ListNode <span class="token operator">*</span>tm <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">struct</span> ListNode <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">struct</span> ListNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        q <span class="token operator">=</span> p<span class="token punctuation">,</span> p<span class="token operator">-></span>next <span class="token operator">=</span> tm<span class="token punctuation">,</span> p <span class="token operator">=</span> tm<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>k<span class="token punctuation">)</span> p<span class="token operator">-></span>val <span class="token operator">=</span> k<span class="token punctuation">,</span> p<span class="token operator">-></span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">else</span> q<span class="token operator">-></span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> head<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="题解二"><a href="#题解二" class="headerlink" title="题解二"></a>题解二</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/** * Definition for singly-linked list. * struct ListNode { *     int val; *     struct ListNode *next; * }; */</span><span class="token keyword">struct</span> ListNode<span class="token operator">*</span> <span class="token function">addTwoNumbers</span><span class="token punctuation">(</span><span class="token keyword">struct</span> ListNode<span class="token operator">*</span> l1<span class="token punctuation">,</span> <span class="token keyword">struct</span> ListNode<span class="token operator">*</span> l2<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">struct</span> ListNode <span class="token operator">*</span>p1 <span class="token operator">=</span> l1<span class="token punctuation">,</span> <span class="token operator">*</span>p2 <span class="token operator">=</span> l2<span class="token punctuation">,</span> <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token operator">*</span>q <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">// q指向新建链表倒数第二个节点</span>    <span class="token keyword">struct</span> ListNode <span class="token operator">*</span>head <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">struct</span> ListNode <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">struct</span> ListNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    p <span class="token operator">=</span> head<span class="token punctuation">;</span>    p<span class="token operator">-></span>val <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>p1 <span class="token operator">||</span> p2<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>p1 <span class="token operator">&amp;&amp;</span> p2<span class="token punctuation">)</span> <span class="token punctuation">{</span>            p<span class="token operator">-></span>val <span class="token operator">=</span> <span class="token punctuation">(</span>p1<span class="token operator">-></span>val <span class="token operator">+</span> p2<span class="token operator">-></span>val <span class="token operator">+</span> k<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">;</span>            k <span class="token operator">=</span> <span class="token punctuation">(</span>p1<span class="token operator">-></span>val <span class="token operator">+</span> p2<span class="token operator">-></span>val <span class="token operator">+</span> k<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>p1<span class="token punctuation">)</span> <span class="token punctuation">{</span>            p<span class="token operator">-></span>val <span class="token operator">=</span> <span class="token punctuation">(</span>p1<span class="token operator">-></span>val <span class="token operator">+</span> k<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">;</span>            k <span class="token operator">=</span> <span class="token punctuation">(</span>p1<span class="token operator">-></span>val <span class="token operator">+</span> k<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>p2<span class="token punctuation">)</span> <span class="token punctuation">{</span>            p<span class="token operator">-></span>val <span class="token operator">=</span> <span class="token punctuation">(</span>p2<span class="token operator">-></span>val <span class="token operator">+</span> k<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">;</span>            k <span class="token operator">=</span> <span class="token punctuation">(</span>p2<span class="token operator">-></span>val <span class="token operator">+</span> k<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>p1<span class="token punctuation">)</span> p1 <span class="token operator">=</span> p1<span class="token operator">-></span>next<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>p2<span class="token punctuation">)</span> p2 <span class="token operator">=</span> p2<span class="token operator">-></span>next<span class="token punctuation">;</span>        <span class="token keyword">struct</span> ListNode <span class="token operator">*</span>tm <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">struct</span> ListNode <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">struct</span> ListNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        tm<span class="token operator">-></span>val <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> tm<span class="token operator">-></span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>        q <span class="token operator">=</span> p<span class="token punctuation">,</span> p<span class="token operator">-></span>next <span class="token operator">=</span> tm<span class="token punctuation">,</span> p <span class="token operator">=</span> tm<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>k<span class="token punctuation">)</span> p<span class="token operator">-></span>val <span class="token operator">=</span> k<span class="token punctuation">,</span> p<span class="token operator">-></span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">else</span> q<span class="token operator">-></span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> head<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/Axieyun/cdn@1.5/_pots/%E5%8A%9B%E6%89%A3%E7%AC%AC%E4%BA%8C%E9%A2%98.png"></p>]]></content>
      
      
      
        <tags>
            
            <tag> 力扣题解 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>力扣1、两数之和</title>
      <link href="posts/ca7f.html"/>
      <url>posts/ca7f.html</url>
      
        <content type="html"><![CDATA[<p>给定一个整数数组 nums 和一个整数目标值 target，请你在该数组中找出 和为目标值 target  的那 两个 整数，并返回它们的数组下标。</p><p>你可以假设每种输入只会对应一个答案。但是，数组中同一个元素在答案里不能重复出现。</p><p>你可以按任意顺序返回答案。</p><p>示例 1：</p><p>输入：nums = [2,7,11,15], target = 9<br>输出：[0,1]<br>解释：因为 nums[0] + nums[1] == 9 ，返回 [0, 1] 。<br>示例 2：</p><p>输入：nums = [3,2,4], target = 6<br>输出：[1,2]<br>示例 3：</p><p>输入：nums = [3,3], target = 6<br>输出：[0,1]</p><p>提示：</p><p>2 &lt;= nums.length &lt;= 104<br>-109 &lt;= nums[i] &lt;= 109<br>-109 &lt;= target &lt;= 109</p><p>来源：力扣（LeetCode）<br>链接：<a href="https://leetcode-cn.com/problems/two-sum">https://leetcode-cn.com/problems/two-sum</a><br>著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。</p><h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><ul><li>哈希表查找，时间复杂度O(n)</li><li>每遍历一个数，找它的差值是否存在</li></ul><h4 id="题解"><a href="#题解" class="headerlink" title="题解"></a>题解</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Node <span class="token punctuation">{</span>    <span class="token keyword">int</span> val<span class="token punctuation">;</span>    <span class="token keyword">int</span> ind<span class="token punctuation">;</span>    <span class="token keyword">struct</span> Node <span class="token operator">*</span>next<span class="token punctuation">;</span><span class="token punctuation">}</span> Node<span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> HashTable <span class="token punctuation">{</span>    Node <span class="token operator">*</span><span class="token operator">*</span>data<span class="token punctuation">;</span>    <span class="token keyword">int</span> size<span class="token punctuation">;</span><span class="token punctuation">}</span> HashTable<span class="token punctuation">;</span>Node <span class="token operator">*</span><span class="token function">init_Node</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">,</span> Node <span class="token operator">*</span>head<span class="token punctuation">,</span> <span class="token keyword">int</span> ind<span class="token punctuation">)</span> <span class="token punctuation">{</span>    Node <span class="token operator">*</span>n <span class="token operator">=</span> <span class="token punctuation">(</span>Node <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    n<span class="token operator">-></span>val <span class="token operator">=</span> val<span class="token punctuation">;</span>    n<span class="token operator">-></span>ind <span class="token operator">=</span> ind<span class="token punctuation">;</span>    n<span class="token operator">-></span>next <span class="token operator">=</span> head<span class="token punctuation">;</span>    <span class="token keyword">return</span> n<span class="token punctuation">;</span><span class="token punctuation">}</span>HashTable <span class="token operator">*</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    HashTable <span class="token operator">*</span>h <span class="token operator">=</span> <span class="token punctuation">(</span>HashTable <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>HashTable<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    h<span class="token operator">-></span>size <span class="token operator">=</span> n<span class="token punctuation">;</span>    h<span class="token operator">-></span>data <span class="token operator">=</span> <span class="token punctuation">(</span>Node <span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">calloc</span><span class="token punctuation">(</span>h<span class="token operator">-></span>size<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> h<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">insert</span><span class="token punctuation">(</span>HashTable <span class="token operator">*</span>h<span class="token punctuation">,</span> <span class="token keyword">int</span> val<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>h <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token keyword">int</span> ind <span class="token operator">=</span> <span class="token function">abs</span><span class="token punctuation">(</span>val <span class="token operator">%</span> h<span class="token operator">-></span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>    h<span class="token operator">-></span>data<span class="token punctuation">[</span>ind<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">init_Node</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span> h<span class="token operator">-></span>data<span class="token punctuation">[</span>ind<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span>Node <span class="token operator">*</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">,</span> HashTable <span class="token operator">*</span>h<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>h <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> ind <span class="token operator">=</span> <span class="token function">abs</span><span class="token punctuation">(</span>val <span class="token operator">%</span> h<span class="token operator">-></span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> h<span class="token operator">-></span>data<span class="token punctuation">[</span>ind<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>p<span class="token operator">-></span>val <span class="token operator">==</span> val<span class="token punctuation">)</span> <span class="token keyword">return</span> p<span class="token punctuation">;</span>        p <span class="token operator">=</span> p<span class="token operator">-></span>next<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">clear_Node</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>head<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>head <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> head<span class="token punctuation">,</span> <span class="token operator">*</span>q<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token punctuation">{</span>        q <span class="token operator">=</span> p<span class="token operator">-></span>next<span class="token punctuation">;</span>        <span class="token function">free</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>        p <span class="token operator">=</span> q<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">clear</span><span class="token punctuation">(</span>HashTable <span class="token operator">*</span>h<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>h <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> h<span class="token operator">-></span>size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">clear_Node</span><span class="token punctuation">(</span>h<span class="token operator">-></span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">free</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span><span class="token operator">*</span> <span class="token function">twoSum</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> numsSize<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> returnSize<span class="token punctuation">)</span><span class="token punctuation">{</span>    HashTable <span class="token operator">*</span>h <span class="token operator">=</span> <span class="token function">init</span><span class="token punctuation">(</span>numsSize<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numsSize<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        Node <span class="token operator">*</span>n <span class="token operator">=</span> <span class="token function">search</span><span class="token punctuation">(</span>target <span class="token operator">-</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> h<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">int</span> <span class="token operator">*</span>nn <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            nn<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">,</span> nn<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> n<span class="token operator">-></span>ind<span class="token punctuation">;</span>            <span class="token operator">*</span>returnSize <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>            <span class="token function">clear</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> nn<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token function">insert</span><span class="token punctuation">(</span>h<span class="token punctuation">,</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token operator">*</span>returnSize <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token function">clear</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/Axieyun/cdn@1.5/_pots/%E5%8A%9B%E6%89%A3%E7%AC%AC%E4%B8%80%E9%A2%98.png"></p><h4 id="暴力方法"><a href="#暴力方法" class="headerlink" title="暴力方法"></a>暴力方法</h4><h5 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h5><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">/** * Note: The returned array must be malloced, assume caller calls free(). */</span> <span class="token keyword">int</span><span class="token operator">*</span> <span class="token function">twoSum</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> numsSize<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> returnSize<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numsSize<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> k <span class="token operator">=</span> target <span class="token operator">-</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> numsSize<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>             <span class="token keyword">if</span> <span class="token punctuation">(</span>k <span class="token operator">^</span> nums<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>             <span class="token keyword">else</span> <span class="token punctuation">{</span>                <span class="token keyword">int</span> <span class="token operator">*</span>tm <span class="token operator">=</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                tm<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">,</span> tm<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> j<span class="token punctuation">;</span>                <span class="token operator">*</span>returnSize <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> tm<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    returnSize <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token constant">NULL</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 力扣题解 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C语言开源uthash哈希表</title>
      <link href="posts/a878.html"/>
      <url>posts/a878.html</url>
      
        <content type="html"><![CDATA[<h4 id="头文件"><a href="#头文件" class="headerlink" title="头文件"></a>头文件</h4><ul><li>#include &lt;uthash.h&gt;</li></ul><h4 id="结构定义"><a href="#结构定义" class="headerlink" title="结构定义"></a>结构定义</h4><pre><code>typedef struct Hash_Table {    int key; //内部标识；/* 我们将使用这个字段作为键 */    int val; //字符名称    UT_hash_handle hh;  /* 使这个结构可散列 */} Hash_Table;Hash_Table *hash_table = NULL;Hash_Table *find(int key) { //封装key    Hash_Table *temp;    HASH_ADD_INT(hash_table, &amp;key, temp);    return temp;}</code></pre><h4 id="insert"><a href="#insert" class="headerlink" title="insert"></a>insert</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">,</span> <span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>    Hash_Table <span class="token operator">*</span>it <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>it <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        Hash_Table <span class="token operator">*</span>temp <span class="token operator">=</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Hash_Table<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        temp<span class="token operator">-></span>key <span class="token operator">=</span> key<span class="token punctuation">,</span> temp<span class="token operator">-></span>val <span class="token operator">=</span> val<span class="token punctuation">;</span>        <span class="token function">HASH_ADD_INT</span><span class="token punctuation">(</span>hashtable<span class="token punctuation">,</span> key<span class="token punctuation">,</span> temp<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span><span class="token punctuation">{</span>        it<span class="token operator">-></span>val <span class="token operator">=</span> val<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h4 id="delete"><a href="#delete" class="headerlink" title="delete"></a>delete</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">delete_user</span><span class="token punctuation">(</span><span class="token keyword">struct</span> my_struct <span class="token operator">*</span>user<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">HASH_DEL</span><span class="token punctuation">(</span> users<span class="token punctuation">,</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h2 id="待学习"><a href="#待学习" class="headerlink" title="待学习"></a>待学习</h2><p><a href="">https://troydhanson.github.io/uthash/</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> c语言开源代码 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>树与二叉树</title>
      <link href="posts/4a28.html"/>
      <url>posts/4a28.html</url>
      
        <content type="html"><![CDATA[<h2 id="树"><a href="#树" class="headerlink" title="树"></a>树</h2><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/Axieyun/cdn@1.5/_pots/%E4%BA%8C%E5%8F%89%E6%9F%A5%E6%89%BE%E6%A0%91.png"></p><ul><li>非线性结构</li><li>与现实的树倒过来，自上而下</li><li>不能向下伸展的节点叫<em>叶子节点</em></li><li>第一个节点叫头节点也叫（全集）</li><li>树由边与节点组成</li><li>节点：代表集合</li><li>边：代表关系</li></ul><h5 id="树形结构和栈方便解决具有完全包含关系的问题"><a href="#树形结构和栈方便解决具有完全包含关系的问题" class="headerlink" title="树形结构和栈方便解决具有完全包含关系的问题"></a>树形结构和栈方便解决具有完全包含关系的问题</h5><h4 id="树的性质"><a href="#树的性质" class="headerlink" title="树的性质"></a>树的性质</h4><h5 id="树的深度"><a href="#树的深度" class="headerlink" title="树的深度"></a>树的深度</h5><ul><li>从根节点向下走的最长路径的节点个数</li></ul><h5 id="节点的高度"><a href="#节点的高度" class="headerlink" title="节点的高度"></a>节点的高度</h5><ul><li>从该节点向下走的最长路径的节点个数</li></ul><h5 id="节点的深度"><a href="#节点的深度" class="headerlink" title="节点的深度"></a>节点的深度</h5><ul><li>从头节点开始到该节点的路径的节点数</li></ul><h5 id="度"><a href="#度" class="headerlink" title="度"></a>度</h5><ul><li>图的数据结构度又分为出度和入度</li><li>在树形结构的度指节点的出度</li><li>出度：该节点指向别的节点的边的数量</li><li>入度：指向该节点边的数量</li></ul><h5 id="节点的数量"><a href="#节点的数量" class="headerlink" title="节点的数量"></a>节点的数量</h5><ul><li>节点数量等于边的数量加一</li></ul><h5 id="例如"><a href="#例如" class="headerlink" title="例如"></a>例如</h5><ul><li>节点29的深度度为2，出度为2，入读为1，高度为3</li></ul><h3 id="三叉树"><a href="#三叉树" class="headerlink" title="三叉树"></a>三叉树</h3><h4 id="结构定义"><a href="#结构定义" class="headerlink" title="结构定义"></a>结构定义</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Node <span class="token punctuation">{</span>    <span class="token keyword">int</span> data<span class="token punctuation">;</span>    <span class="token keyword">struct</span> Node <span class="token operator">*</span>next<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span> Node<span class="token punctuation">,</span> <span class="token operator">*</span>Tree<span class="token punctuation">;</span></code></pre><h4 id="结构操作"><a href="#结构操作" class="headerlink" title="结构操作"></a>结构操作</h4><pre class=" language-c"><code class="language-c"></code></pre><h3 id="N叉树"><a href="#N叉树" class="headerlink" title="N叉树"></a>N叉树</h3><ul><li>N叉树怎么转换为二叉树</li></ul><pre><code>左孩子右兄弟法，也叫十字链表法</code></pre><h3 id="二叉树"><a href="#二叉树" class="headerlink" title="二叉树"></a>二叉树</h3><h4 id="二叉树的性质"><a href="#二叉树的性质" class="headerlink" title="二叉树的性质"></a>二叉树的性质</h4><ul><li>每个节点的度最多为2</li><li>度为0的节点 比 度为2的节点多一个, 证明如下</li></ul><pre><code>度为2的节点个数为n2, 同理，n1, n0.节点个数 = 边数 + 1 =》 n2 + n1 + n0 = 1 +  2*n2 + n1 + 0*n0     =》     n2 + 1  = n0.</code></pre><h4 id="二叉树的遍历"><a href="#二叉树的遍历" class="headerlink" title="二叉树的遍历"></a>二叉树的遍历</h4><table><thead><tr><th>前序遍历</th><th>中序遍历</th><th>后序遍历</th></tr></thead><tbody><tr><td>根 左 右</td><td>左 根 右</td><td>左 右 根</td></tr></tbody></table><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/Axieyun/cdn@1.6/_pots/%E4%BA%8C%E5%8F%89%E6%A0%91.png"></p><ul><li>前序遍历 ： 【1】、【2、4、5】、【3、6】</li><li>中序遍历 ： 【4、2、5】、【1】、【3、6】</li><li>后序遍历 ： 【4、5、2】、【6、3】、【1】</li></ul><h4 id="二叉树的分类"><a href="#二叉树的分类" class="headerlink" title="二叉树的分类"></a>二叉树的分类</h4><ul><li>完全二叉树：该二叉树只有度为2和度为0的节点，也可以存在唯一 一个度为1的节点，且该节点只能有左孩子，不能有右孩子。</li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/Axieyun/cdn@1.6/_pots/%E5%AE%8C%E5%85%A8%E4%BA%8C%E5%8F%89%E6%A0%91.png"></p><ul><li>满二叉树（完美二叉树）：没有度为1的节点</li></ul><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/Axieyun/cdn@1.6/_pots/%E6%BB%A1%E4%BA%8C%E5%8F%89%E6%A0%91.png"></p><h3 id="完全二叉树"><a href="#完全二叉树" class="headerlink" title="完全二叉树"></a>完全二叉树</h3><h4 id="性质"><a href="#性质" class="headerlink" title="性质"></a>性质</h4><ul><li>可以用连续空间存储 ( 数组 ) </li><li>编号为i的字节点：</li><li>左孩子编号：2 * i</li><li>右孩子编号：2 * i + 1</li></ul><h4 id="结构定义-1"><a href="#结构定义-1" class="headerlink" title="结构定义"></a>结构定义</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">//结构定义 </span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Node <span class="token punctuation">{</span>    <span class="token keyword">int</span> data<span class="token punctuation">;</span>    <span class="token keyword">struct</span> Node <span class="token operator">*</span>lchild<span class="token punctuation">,</span> <span class="token operator">*</span>rchild<span class="token punctuation">;</span><span class="token punctuation">}</span> Node<span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Tree <span class="token punctuation">{</span>    Node <span class="token operator">*</span>root<span class="token punctuation">;</span>    <span class="token keyword">int</span> length<span class="token punctuation">;</span><span class="token punctuation">}</span> Tree<span class="token punctuation">;</span> </code></pre><h4 id="前序遍历"><a href="#前序遍历" class="headerlink" title="前序遍历"></a>前序遍历</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">pre_order_Node</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> n<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pre_order_Node</span><span class="token punctuation">(</span>n<span class="token operator">-></span>lchild<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pre_order_Node</span><span class="token punctuation">(</span>n<span class="token operator">-></span>rchild<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">pre_order</span><span class="token punctuation">(</span>Tree <span class="token operator">*</span>t<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"前序遍历："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pre_order_Node</span><span class="token punctuation">(</span>t<span class="token operator">-></span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="中序遍历"><a href="#中序遍历" class="headerlink" title="中序遍历"></a>中序遍历</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">in_order_Node</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">in_order_Node</span><span class="token punctuation">(</span>n<span class="token operator">-></span>lchild<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> n<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">in_order_Node</span><span class="token punctuation">(</span>n<span class="token operator">-></span>rchild<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">in_order</span><span class="token punctuation">(</span>Tree <span class="token operator">*</span>t<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"中序遍历："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">in_order_Node</span><span class="token punctuation">(</span>t<span class="token operator">-></span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="后序遍历"><a href="#后序遍历" class="headerlink" title="后序遍历"></a>后序遍历</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">post_order_Node</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">post_order_Node</span><span class="token punctuation">(</span>n<span class="token operator">-></span>lchild<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">post_order_Node</span><span class="token punctuation">(</span>n<span class="token operator">-></span>rchild<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> n<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">post_order</span><span class="token punctuation">(</span>Tree <span class="token operator">*</span>t<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"前序遍历："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">post_order_Node</span><span class="token punctuation">(</span>t<span class="token operator">-></span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h></span></span><span class="token comment" spellcheck="true">//结构定义 </span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Node <span class="token punctuation">{</span>    <span class="token keyword">int</span> data<span class="token punctuation">;</span>    <span class="token keyword">struct</span> Node <span class="token operator">*</span>lchild<span class="token punctuation">,</span> <span class="token operator">*</span>rchild<span class="token punctuation">;</span><span class="token punctuation">}</span> Node<span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Tree <span class="token punctuation">{</span>    Node <span class="token operator">*</span>root<span class="token punctuation">;</span>    <span class="token keyword">int</span> length<span class="token punctuation">;</span><span class="token punctuation">}</span> Tree<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//结构操作</span> Node <span class="token operator">*</span><span class="token function">getNewNode</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>     Node <span class="token operator">*</span>node <span class="token operator">=</span> <span class="token punctuation">(</span>Node <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    node<span class="token operator">-></span>data <span class="token operator">=</span> val<span class="token punctuation">;</span>    node<span class="token operator">-></span>lchild <span class="token operator">=</span> node<span class="token operator">-></span>rchild <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> node<span class="token punctuation">;</span><span class="token punctuation">}</span> Tree <span class="token operator">*</span><span class="token function">getNewTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    Tree <span class="token operator">*</span>t <span class="token operator">=</span> <span class="token punctuation">(</span>Tree <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Tree<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    t<span class="token operator">-></span>root <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    t<span class="token operator">-></span>length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> t<span class="token punctuation">;</span><span class="token punctuation">}</span>Node <span class="token operator">*</span><span class="token function">insert_Node</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>root<span class="token punctuation">,</span> <span class="token keyword">int</span> val<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token operator">*</span>flag <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token function">getNewNode</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>data <span class="token operator">==</span> val<span class="token punctuation">)</span> <span class="token keyword">return</span> root<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//返回当前节点，不进行插入操作 </span>    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-></span>data <span class="token operator">></span> val<span class="token punctuation">)</span> root<span class="token operator">-></span>lchild <span class="token operator">=</span> <span class="token function">insert_Node</span><span class="token punctuation">(</span>root<span class="token operator">-></span>lchild<span class="token punctuation">,</span> val<span class="token punctuation">,</span> flag<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">else</span> root<span class="token operator">-></span>rchild <span class="token operator">=</span> <span class="token function">insert_Node</span><span class="token punctuation">(</span>root<span class="token operator">-></span>rchild<span class="token punctuation">,</span> val<span class="token punctuation">,</span> flag<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> root<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">insert</span><span class="token punctuation">(</span>Tree <span class="token operator">*</span>t<span class="token punctuation">,</span> <span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token keyword">int</span> flag <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    t<span class="token operator">-></span>root <span class="token operator">=</span> <span class="token function">insert_Node</span><span class="token punctuation">(</span>t<span class="token operator">-></span>root<span class="token punctuation">,</span> val<span class="token punctuation">,</span> <span class="token operator">&amp;</span>flag<span class="token punctuation">)</span><span class="token punctuation">;</span>    t<span class="token operator">-></span>length <span class="token operator">+</span><span class="token operator">=</span> flag<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">pre_order_Node</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> n<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pre_order_Node</span><span class="token punctuation">(</span>n<span class="token operator">-></span>lchild<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pre_order_Node</span><span class="token punctuation">(</span>n<span class="token operator">-></span>rchild<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">pre_order</span><span class="token punctuation">(</span>Tree <span class="token operator">*</span>t<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"前序遍历："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">pre_order_Node</span><span class="token punctuation">(</span>t<span class="token operator">-></span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">in_order_Node</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">in_order_Node</span><span class="token punctuation">(</span>n<span class="token operator">-></span>lchild<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> n<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">in_order_Node</span><span class="token punctuation">(</span>n<span class="token operator">-></span>rchild<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">in_order</span><span class="token punctuation">(</span>Tree <span class="token operator">*</span>t<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"中序遍历："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">in_order_Node</span><span class="token punctuation">(</span>t<span class="token operator">-></span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">post_order_Node</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">post_order_Node</span><span class="token punctuation">(</span>n<span class="token operator">-></span>lchild<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">post_order_Node</span><span class="token punctuation">(</span>n<span class="token operator">-></span>rchild<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> n<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">post_order</span><span class="token punctuation">(</span>Tree <span class="token operator">*</span>t<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"前序遍历："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">post_order_Node</span><span class="token punctuation">(</span>t<span class="token operator">-></span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">clear_Node</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">clear_Node</span><span class="token punctuation">(</span>n<span class="token operator">-></span>lchild<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">clear_Node</span><span class="token punctuation">(</span>n<span class="token operator">-></span>rchild<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">clear_Tree</span><span class="token punctuation">(</span>Tree <span class="token operator">*</span>t<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">clear_Node</span><span class="token punctuation">(</span>t<span class="token operator">-></span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//广义表二叉树输出</span><span class="token keyword">void</span> <span class="token function">output_Node</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> n<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>n<span class="token operator">-></span>lchild <span class="token operator">==</span> <span class="token constant">NULL</span> <span class="token operator">&amp;&amp;</span> n<span class="token operator">-></span>rchild <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"("</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">output_Node</span><span class="token punctuation">(</span>n<span class="token operator">-></span>lchild<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">","</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">output_Node</span><span class="token punctuation">(</span>n<span class="token operator">-></span>rchild<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">")"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">output</span><span class="token punctuation">(</span>Tree <span class="token operator">*</span>t<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Tree(%d): "</span><span class="token punctuation">,</span> t<span class="token operator">-></span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">output_Node</span><span class="token punctuation">(</span>t<span class="token operator">-></span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">srand</span><span class="token punctuation">(</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token macro property">#<span class="token directive keyword">define</span> n 30</span>    Tree <span class="token operator">*</span>t <span class="token operator">=</span> <span class="token function">getNewTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> val <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">;</span>        <span class="token function">insert</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"插入: %d\n"</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token function">output</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">pre_order</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">in_order</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">post_order</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token macro property">#<span class="token directive keyword">undef</span> n</span>    <span class="token function">clear_Tree</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 基础数据结构 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>双向链表</title>
      <link href="posts/14e1.html"/>
      <url>posts/14e1.html</url>
      
        <content type="html"><![CDATA[<h4 id="结构定义"><a href="#结构定义" class="headerlink" title="结构定义"></a>结构定义</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">//结构定义</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Node <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//节点定义 </span>    <span class="token keyword">int</span> val<span class="token punctuation">;</span>    <span class="token keyword">struct</span> Node <span class="token operator">*</span>next<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 后驱指针 -> </span>    <span class="token keyword">struct</span> Node <span class="token operator">*</span>per<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//前驱指针 &lt;-</span><span class="token punctuation">}</span> Node<span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> DList <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//双向链表定义 </span>    <span class="token keyword">int</span> length<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//链表长度 </span>    Node head<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//链表头地址 </span><span class="token punctuation">}</span> DList<span class="token punctuation">;</span> </code></pre><h4 id="结构操作-函数接口"><a href="#结构操作-函数接口" class="headerlink" title="结构操作|函数接口"></a>结构操作|函数接口</h4><pre class=" language-c"><code class="language-c">Node <span class="token operator">*</span><span class="token function">getNewNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">clear_Node</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>DList <span class="token operator">*</span><span class="token function">init_DList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">insert</span><span class="token punctuation">(</span>DList <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">erase</span><span class="token punctuation">(</span>DList <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">clear_DList</span><span class="token punctuation">(</span>DList <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">next_output</span><span class="token punctuation">(</span>DList <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">per_output</span><span class="token punctuation">(</span>DList <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">//双向链表 </span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h></span></span><span class="token comment" spellcheck="true">//结构定义</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Node <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//节点定义 </span>    <span class="token keyword">int</span> val<span class="token punctuation">;</span>    <span class="token keyword">struct</span> Node <span class="token operator">*</span>next<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 后驱指针 -> </span>    <span class="token keyword">struct</span> Node <span class="token operator">*</span>per<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//前驱指针 &lt;-</span><span class="token punctuation">}</span> Node<span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> DList <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//双向链表定义 </span>    <span class="token keyword">int</span> length<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//链表长度 </span>    Node head<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//链表头地址 </span><span class="token punctuation">}</span> DList<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//结构操作</span>Node <span class="token operator">*</span><span class="token function">getNewNode</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//节点初始化 </span>    Node <span class="token operator">*</span>n <span class="token operator">=</span> <span class="token punctuation">(</span>Node <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    n<span class="token operator">-></span>val <span class="token operator">=</span> val<span class="token punctuation">;</span>    n<span class="token operator">-></span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    n<span class="token operator">-></span>per <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> n<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">clear_Node</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//节点销毁 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span>DList <span class="token operator">*</span><span class="token function">init_DList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//链表初始化 </span>    DList <span class="token operator">*</span>l <span class="token operator">=</span> <span class="token punctuation">(</span>DList <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>DList<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    l<span class="token operator">-></span>length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    l<span class="token operator">-></span>head<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> l<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">clear_DList</span><span class="token punctuation">(</span>DList <span class="token operator">*</span>l<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> l<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token punctuation">{</span>        Node <span class="token operator">*</span>q <span class="token operator">=</span> p<span class="token operator">-></span>next<span class="token punctuation">;</span>        <span class="token function">clear_Node</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>        p <span class="token operator">=</span> q<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">free</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">insert</span><span class="token punctuation">(</span>DList <span class="token operator">*</span>l<span class="token punctuation">,</span> <span class="token keyword">int</span> ind<span class="token punctuation">,</span> <span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//节点插入 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ind <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> ind <span class="token operator">></span> l<span class="token operator">-></span>length<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>l<span class="token operator">-></span>head<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">*</span>n <span class="token operator">=</span> <span class="token function">getNewNode</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ind<span class="token operator">--</span><span class="token punctuation">)</span> p <span class="token operator">=</span> p<span class="token operator">-></span>next<span class="token punctuation">;</span>    n<span class="token operator">-></span>next <span class="token operator">=</span> p<span class="token operator">-></span>next<span class="token punctuation">;</span>    p<span class="token operator">-></span>next <span class="token operator">=</span> n<span class="token punctuation">;</span>    n<span class="token operator">-></span>per <span class="token operator">=</span> p<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>n<span class="token operator">-></span>next<span class="token punctuation">)</span> n<span class="token operator">-></span>next<span class="token operator">-></span>per <span class="token operator">=</span> n<span class="token punctuation">;</span>    l<span class="token operator">-></span>length <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">erase</span><span class="token punctuation">(</span>DList <span class="token operator">*</span>l<span class="token punctuation">,</span> <span class="token keyword">int</span> ind<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//节点删除 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ind <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> ind <span class="token operator">>=</span> l<span class="token operator">-></span>length<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>l<span class="token operator">-></span>head<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">*</span>q<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ind<span class="token operator">--</span><span class="token punctuation">)</span> p <span class="token operator">=</span> p<span class="token operator">-></span>next<span class="token punctuation">;</span>    q <span class="token operator">=</span> p<span class="token operator">-></span>next<span class="token punctuation">;</span>    p<span class="token operator">-></span>next <span class="token operator">=</span> q<span class="token operator">-></span>next<span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>q<span class="token operator">-></span>next<span class="token punctuation">)</span> q<span class="token operator">-></span>next<span class="token operator">-></span>per <span class="token operator">=</span> p<span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>    l<span class="token operator">-></span>length <span class="token operator">-</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//void next_output(DList *l) {</span><span class="token comment" spellcheck="true">//    if (l == NULL) return ;</span><span class="token comment" spellcheck="true">//    Node *p = l->head.next;</span><span class="token comment" spellcheck="true">//    printf("next元素个数（%d）: [", l->length);</span><span class="token comment" spellcheck="true">//    for (int i = 0; i &lt; l->length; i++) {</span><span class="token comment" spellcheck="true">//        i &amp;&amp; printf("->");</span><span class="token comment" spellcheck="true">//        printf("%d", p->data);</span><span class="token comment" spellcheck="true">//        p = p->next;</span><span class="token comment" spellcheck="true">//    }</span><span class="token comment" spellcheck="true">//    printf("NULL ]\n");</span><span class="token comment" spellcheck="true">//}</span><span class="token keyword">void</span> <span class="token function">next_output</span><span class="token punctuation">(</span>DList <span class="token operator">*</span>l<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"next(%d) : "</span><span class="token punctuation">,</span> l<span class="token operator">-></span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>Node <span class="token operator">*</span>p <span class="token operator">=</span> l<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">;</span> p<span class="token punctuation">;</span> p <span class="token operator">=</span> p<span class="token operator">-></span>next<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d->"</span><span class="token punctuation">,</span> p<span class="token operator">-></span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"NULL\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">per_output</span><span class="token punctuation">(</span>DList <span class="token operator">*</span>l<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>l<span class="token operator">-></span>head<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"per元素个数（%d）: "</span><span class="token punctuation">,</span> l<span class="token operator">-></span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> ind <span class="token operator">=</span> l<span class="token operator">-></span>length<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ind<span class="token operator">--</span><span class="token punctuation">)</span> p <span class="token operator">=</span> p<span class="token operator">-></span>next<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> p <span class="token operator">!=</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>l<span class="token operator">-></span>head<span class="token punctuation">)</span><span class="token punctuation">;</span> p <span class="token operator">=</span> p<span class="token operator">-></span>per<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d->"</span><span class="token punctuation">,</span> p<span class="token operator">-></span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"head\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">srand</span><span class="token punctuation">(</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token macro property">#<span class="token directive keyword">define</span> n 200</span>    DList <span class="token operator">*</span>l <span class="token operator">=</span> <span class="token function">init_DList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> op <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">4</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> ind <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token punctuation">(</span>l<span class="token operator">-></span>length <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> val <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">;</span>        <span class="token keyword">switch</span> <span class="token punctuation">(</span>op<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">case</span> <span class="token number">0</span> <span class="token punctuation">:</span>            <span class="token keyword">case</span> <span class="token number">1</span> <span class="token punctuation">:</span>            <span class="token keyword">case</span> <span class="token number">2</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"插入元素：%d, 插入位置：%d, %s\n"</span><span class="token punctuation">,</span> val<span class="token punctuation">,</span> ind<span class="token punctuation">,</span> <span class="token function">insert</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> ind<span class="token punctuation">,</span> val<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"成功"</span> <span class="token punctuation">:</span> <span class="token string">"失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token punctuation">}</span> <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> <span class="token number">3</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"删除位置：%d, %s\n"</span><span class="token punctuation">,</span> ind<span class="token punctuation">,</span> <span class="token function">erase</span><span class="token punctuation">(</span>l <span class="token punctuation">,</span>ind<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"成功"</span> <span class="token punctuation">:</span> <span class="token string">"失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token punctuation">}</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token function">next_output</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">per_output</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token macro property">#<span class="token directive keyword">undef</span> n</span>    <span class="token function">clear_DList</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 基础数据结构 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>哈希表</title>
      <link href="posts/41d3.html"/>
      <url>posts/41d3.html</url>
      
        <content type="html"><![CDATA[<h2 id="哈希表-散列表"><a href="#哈希表-散列表" class="headerlink" title="哈希表|散列表"></a>哈希表|散列表</h2><ul><li>将任意类型的值映射为整形值（下标）</li><li>任意——&gt;哈希函数——&gt;整型</li><li>哈希表=哈希函数+冲突处理方法</li><li>冲突处理方法：开放定值法、再哈希|散列、拉链法、建立公共溢出区</li><li>开放定值法：</li><li>再哈希：使用多个哈希函数建立哈希表 </li><li>拉链法：建立链表  </li><li>建立公共溢出区  ：</li></ul><h3 id="字符串查找"><a href="#字符串查找" class="headerlink" title="字符串查找"></a>字符串查找</h3><h5 id="冲突处理方法"><a href="#冲突处理方法" class="headerlink" title="冲突处理方法"></a>冲突处理方法</h5><ul><li>拉链法：采用链表</li></ul><h5 id="哈希函数"><a href="#哈希函数" class="headerlink" title="哈希函数"></a>哈希函数</h5><ul><li>BKDRhash哈希函数</li></ul><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">BKDRHash</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>str<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> seed <span class="token operator">=</span> <span class="token number">31</span><span class="token punctuation">,</span> hash <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//也可以乘以31、131、1313、13131、131313..</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        hash <span class="token operator">=</span> hash <span class="token operator">*</span> seed <span class="token operator">+</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> hash <span class="token operator">&amp;</span> <span class="token number">0x7fffffff</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span><span class="token comment" spellcheck="true">// 哈希表|散列表 </span><span class="token comment" spellcheck="true">/*将任意类型的值映射为整形值（下标）任意——>哈希函数——>整型哈希表=哈希函数+冲突处理方法冲突处理方法：开放定值法、再哈希|散列、拉链法、建立公共溢出区开放定值法： 再哈希：使用多个哈希函数建立哈希表 拉链法：建立链表  建立公共溢出区 ： */</span> <span class="token comment" spellcheck="true">//结构定义 </span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Node <span class="token punctuation">{</span>    <span class="token keyword">char</span> <span class="token operator">*</span>str<span class="token punctuation">;</span>    <span class="token keyword">struct</span> Node <span class="token operator">*</span>next<span class="token punctuation">;</span><span class="token punctuation">}</span> Node<span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> HashTable <span class="token punctuation">{</span>    Node <span class="token operator">*</span><span class="token operator">*</span>data<span class="token punctuation">;</span>    <span class="token keyword">int</span> size<span class="token punctuation">;</span><span class="token punctuation">}</span> HashTable<span class="token punctuation">;</span>Node <span class="token operator">*</span><span class="token function">getNewNode</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>str<span class="token punctuation">,</span> Node <span class="token operator">*</span>head<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//封装字符串str </span>    Node <span class="token operator">*</span>node <span class="token operator">=</span> <span class="token punctuation">(</span>Node <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    node<span class="token operator">-></span>next <span class="token operator">=</span> head<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//头插法插入节点 </span>    node<span class="token operator">-></span>str <span class="token operator">=</span> <span class="token function">strdup</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//深拷贝得释放空间 </span>    <span class="token keyword">return</span> node<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//返回头节点指针 </span><span class="token punctuation">}</span>HashTable <span class="token operator">*</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//hash表初始化 </span>    HashTable <span class="token operator">*</span>hash <span class="token operator">=</span> <span class="token punctuation">(</span>HashTable <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>HashTable<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    hash<span class="token operator">-></span>size <span class="token operator">=</span> n <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//保证0.5利用率 </span>    <span class="token comment" spellcheck="true">//使用calloc自动初始化内存空间为0，malloc申请的空间不干净 </span>    hash<span class="token operator">-></span>data <span class="token operator">=</span> <span class="token punctuation">(</span>Node <span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">calloc</span><span class="token punctuation">(</span>hash<span class="token operator">-></span>size<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> hash<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">BKDRHash</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>str<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> seed <span class="token operator">=</span> <span class="token number">131313</span><span class="token punctuation">,</span> hash <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        hash <span class="token operator">=</span> hash <span class="token operator">*</span> seed <span class="token operator">+</span> str<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> hash <span class="token operator">&amp;</span> <span class="token number">0x7fffffff</span><span class="token punctuation">;</span> 保证hash在<span class="token keyword">int</span>范围内<span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>object<span class="token punctuation">,</span> HashTable <span class="token operator">*</span>hash<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> seed <span class="token operator">=</span> <span class="token function">BKDRHash</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> ind <span class="token operator">=</span> seed <span class="token operator">%</span> hash<span class="token operator">-></span>size<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//将待插入对象封装为一个节点 </span>    hash<span class="token operator">-></span>data<span class="token punctuation">[</span>ind<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">getNewNode</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> hash<span class="token operator">-></span>data<span class="token punctuation">[</span>ind<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>object<span class="token punctuation">,</span> HashTable <span class="token operator">*</span>hash<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>hash <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> seed <span class="token operator">=</span> <span class="token function">BKDRHash</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> ind <span class="token operator">=</span> seed <span class="token operator">%</span> hash<span class="token operator">-></span>size<span class="token punctuation">;</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> hash<span class="token operator">-></span>data<span class="token punctuation">[</span>ind<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">strcmp</span><span class="token punctuation">(</span>p<span class="token operator">-></span>str<span class="token punctuation">,</span> object<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>        p <span class="token operator">=</span> p<span class="token operator">-></span>next<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">clear_Node</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>head<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>head <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> head<span class="token punctuation">,</span> <span class="token operator">*</span>q<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token punctuation">{</span>        q <span class="token operator">=</span> p<span class="token operator">-></span>next<span class="token punctuation">;</span>        <span class="token function">free</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>        p <span class="token operator">=</span> q<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">clear</span><span class="token punctuation">(</span>HashTable <span class="token operator">*</span>h<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>h <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> h<span class="token operator">-></span>size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">clear_Node</span><span class="token punctuation">(</span>h<span class="token operator">-></span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">free</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token macro property">#<span class="token directive keyword">define</span> n 20</span>    HashTable <span class="token operator">*</span>h <span class="token operator">=</span> <span class="token function">init</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">char</span> ch<span class="token punctuation">[</span>n <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> op<span class="token punctuation">;</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%s"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>op<span class="token punctuation">,</span> ch<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">switch</span> <span class="token punctuation">(</span>op<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">case</span> <span class="token number">0</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> <span class="token function">insert</span><span class="token punctuation">(</span>ch<span class="token punctuation">,</span> h<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"插入成功"</span> <span class="token punctuation">:</span> <span class="token string">"插入失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> <span class="token function">search</span><span class="token punctuation">(</span>ch<span class="token punctuation">,</span> h<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"查找成功"</span> <span class="token punctuation">:</span> <span class="token string">"查找失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token macro property">#<span class="token directive keyword">undef</span> n</span>    <span class="token function">clear</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 查找算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>二分查找</title>
      <link href="posts/a77d.html"/>
      <url>posts/a77d.html</url>
      
        <content type="html"><![CDATA[<h4 id="普通二分查找"><a href="#普通二分查找" class="headerlink" title="普通二分查找"></a>普通二分查找</h4><ul><li>只能在有序数组查找</li></ul><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">// 1、3、5、7、9、10 </span><span class="token keyword">int</span> <span class="token function">binary_search</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>arr<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> head <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> tail <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> mid<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>head <span class="token operator">&lt;=</span> tail<span class="token punctuation">)</span> <span class="token punctuation">{</span>        mid <span class="token operator">=</span> <span class="token punctuation">(</span>head <span class="token operator">+</span> tail<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">==</span> x<span class="token punctuation">)</span> <span class="token keyword">return</span> mid<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">></span> x<span class="token punctuation">)</span> tail <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">else</span> head <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="特殊情况1"><a href="#特殊情况1" class="headerlink" title="特殊情况1"></a>特殊情况1</h4><ul><li>数组为11111110000000类型的，查找最后一个1位置</li></ul><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">//111111000000</span><span class="token keyword">int</span> <span class="token function">binary_search1</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>arr<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> head <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> tail <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> mid<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>tail <span class="token operator">></span> head<span class="token punctuation">)</span> <span class="token punctuation">{</span>        mid <span class="token operator">=</span> <span class="token punctuation">(</span>head <span class="token operator">+</span> tail <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> head <span class="token operator">=</span> mid<span class="token punctuation">;</span>        <span class="token keyword">else</span> tail <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> head<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="特殊情况二"><a href="#特殊情况二" class="headerlink" title="特殊情况二"></a>特殊情况二</h4><ul><li>数组为0000000111111111类型的，查找第一个1位置</li></ul><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">//00000000111111</span><span class="token keyword">int</span> <span class="token function">binary_search2</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>arr<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> head <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> tail <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> mid<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>head <span class="token operator">&lt;</span> tail<span class="token punctuation">)</span> <span class="token punctuation">{</span>        mid <span class="token operator">=</span> <span class="token punctuation">(</span>tail <span class="token operator">+</span> head<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> tail <span class="token operator">=</span> mid<span class="token punctuation">;</span>        <span class="token keyword">else</span> head <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> head <span class="token operator">==</span> n <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">:</span> head<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">define</span> exp 1e-6</span><span class="token comment" spellcheck="true">//精度值 </span><span class="token macro property">#<span class="token directive keyword">define</span> P(func) {\    printf("%s = %d\n", #func, func);\}</span><span class="token comment" spellcheck="true">// 1、3、5、7、9、10 </span><span class="token keyword">int</span> <span class="token function">binary_search</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>arr<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> head <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> tail <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> mid<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>head <span class="token operator">&lt;=</span> tail<span class="token punctuation">)</span> <span class="token punctuation">{</span>        mid <span class="token operator">=</span> <span class="token punctuation">(</span>head <span class="token operator">+</span> tail<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">==</span> x<span class="token punctuation">)</span> <span class="token keyword">return</span> mid<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">></span> x<span class="token punctuation">)</span> tail <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">else</span> head <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//111111000000</span><span class="token keyword">int</span> <span class="token function">binary_search1</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>arr<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> head <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> tail <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> mid<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>tail <span class="token operator">></span> head<span class="token punctuation">)</span> <span class="token punctuation">{</span>        mid <span class="token operator">=</span> <span class="token punctuation">(</span>head <span class="token operator">+</span> tail <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> head <span class="token operator">=</span> mid<span class="token punctuation">;</span>        <span class="token keyword">else</span> tail <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> head<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//00000000111111</span><span class="token keyword">int</span> <span class="token function">binary_search2</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>arr<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> head <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> tail <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> mid<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>head <span class="token operator">&lt;</span> tail<span class="token punctuation">)</span> <span class="token punctuation">{</span>        mid <span class="token operator">=</span> <span class="token punctuation">(</span>tail <span class="token operator">+</span> head<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> tail <span class="token operator">=</span> mid<span class="token punctuation">;</span>        <span class="token keyword">else</span> head <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> head <span class="token operator">==</span> n <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">:</span> head<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> arr1<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> arr2<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> arr3<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token function">P</span><span class="token punctuation">(</span><span class="token function">binary_search</span><span class="token punctuation">(</span>arr1<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">P</span><span class="token punctuation">(</span><span class="token function">binary_search1</span><span class="token punctuation">(</span>arr2<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">P</span><span class="token punctuation">(</span><span class="token function">binary_search2</span><span class="token punctuation">(</span>arr3<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 查找算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>三分查找</title>
      <link href="posts/f66.html"/>
      <url>posts/f66.html</url>
      
        <content type="html"><![CDATA[<h4 id="用处"><a href="#用处" class="headerlink" title="用处"></a>用处</h4><ul><li>用于函数在单调区间查找极值点</li></ul><h4 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">double</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token keyword">double</span> l<span class="token punctuation">,</span> <span class="token keyword">double</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//查找极大值点 </span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">fabs</span><span class="token punctuation">(</span>l <span class="token operator">-</span> r<span class="token punctuation">)</span> <span class="token operator">>=</span> EXP<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">double</span> midl <span class="token operator">=</span> <span class="token punctuation">(</span>l <span class="token operator">+</span> r<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2.0</span><span class="token punctuation">;</span>        <span class="token keyword">double</span> midr <span class="token operator">=</span> <span class="token punctuation">(</span>midl <span class="token operator">+</span> r<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2.0</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">function</span><span class="token punctuation">(</span>midl<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token function">function</span><span class="token punctuation">(</span>midr<span class="token punctuation">)</span><span class="token punctuation">)</span> r <span class="token operator">=</span> midr<span class="token punctuation">;</span>        <span class="token keyword">else</span> l <span class="token operator">=</span> midl<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>l <span class="token operator">+</span> r<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2.0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;math.h></span></span><span class="token macro property">#<span class="token directive keyword">define</span> EXP 1e-6</span><span class="token keyword">double</span> <span class="token function">function</span><span class="token punctuation">(</span><span class="token keyword">double</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token punctuation">(</span><span class="token number">5.504</span> <span class="token operator">*</span> x <span class="token operator">*</span> x <span class="token operator">+</span> <span class="token number">32.10</span> <span class="token operator">*</span> x <span class="token operator">+</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">double</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token keyword">double</span> l<span class="token punctuation">,</span> <span class="token keyword">double</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//查找极大值点 </span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">fabs</span><span class="token punctuation">(</span>l <span class="token operator">-</span> r<span class="token punctuation">)</span> <span class="token operator">>=</span> EXP<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">double</span> midl <span class="token operator">=</span> <span class="token punctuation">(</span>l <span class="token operator">+</span> r<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2.0</span><span class="token punctuation">;</span>        <span class="token keyword">double</span> midr <span class="token operator">=</span> <span class="token punctuation">(</span>midl <span class="token operator">+</span> r<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2.0</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">function</span><span class="token punctuation">(</span>midl<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token function">function</span><span class="token punctuation">(</span>midr<span class="token punctuation">)</span><span class="token punctuation">)</span> r <span class="token operator">=</span> midr<span class="token punctuation">;</span>        <span class="token keyword">else</span> l <span class="token operator">=</span> midl<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">(</span>l <span class="token operator">+</span> r<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2.0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%lf\n"</span><span class="token punctuation">,</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 查找算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>冒泡排序</title>
      <link href="posts/52f6.html"/>
      <url>posts/52f6.html</url>
      
        <content type="html"><![CDATA[<h5 id="思路实属简单不需要讲"><a href="#思路实属简单不需要讲" class="headerlink" title="思路实属简单不需要讲"></a>思路实属简单不需要讲</h5><h4 id="代码演示（未优化的）"><a href="#代码演示（未优化的）" class="headerlink" title="代码演示（未优化的）"></a>代码演示（未优化的）</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">bubble_sort</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>num<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//未优化的</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n <span class="token operator">-</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>num<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> num<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>            <span class="token keyword">else</span> <span class="token function">swap</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> num<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span> </code></pre><h4 id="代码演示（优化的）"><a href="#代码演示（优化的）" class="headerlink" title="代码演示（优化的）"></a>代码演示（优化的）</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">bubble_sort</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>num<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//优化过的</span>    <span class="token keyword">int</span> times <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>     <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n <span class="token operator">&amp;&amp;</span> times<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        times <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n <span class="token operator">-</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>num<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> num<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>            <span class="token function">swap</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> num<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            times <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span> </code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 排序算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>快速排序</title>
      <link href="posts/2c2a.html"/>
      <url>posts/2c2a.html</url>
      
        <content type="html"><![CDATA[<h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><ul><li><p>快排第一件事就是找基准值z</p></li><li><p>普通快排一般以第一个为基准值</p></li><li><p>利用两个指针（x, y）扫描：x从左往右；y从右往左，直到x&gt;=y结束扫描</p></li><li><p>一般先从右往左边找到比基准值z小的数，num[x++] = num[y];</p></li><li><p>然后x从左往右扫描找到比基准值z大的数，num[y–] = num[x];</p></li><li><p>交替扫描，直到x&gt;=y结束扫描；最后num[x==y] = z;</p></li><li><p>对于普通快速排序，数据越无序越好</p></li></ul><h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><h5 id="主要函数"><a href="#主要函数" class="headerlink" title="主要函数"></a>主要函数</h5><pre class=" language-c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">quick_sort</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>num<span class="token punctuation">,</span> <span class="token keyword">int</span> l<span class="token punctuation">,</span> <span class="token keyword">int</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//数据越乱越好 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">></span> r<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token keyword">int</span> x <span class="token operator">=</span> l<span class="token punctuation">,</span> y <span class="token operator">=</span> r<span class="token punctuation">,</span> z <span class="token operator">=</span> num<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> y <span class="token operator">&amp;&amp;</span> num<span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">></span> z<span class="token punctuation">)</span> y<span class="token operator">--</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> y<span class="token punctuation">)</span> num<span class="token punctuation">[</span>x<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> num<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> y <span class="token operator">&amp;&amp;</span> num<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">&lt;</span> z<span class="token punctuation">)</span> x<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> y<span class="token punctuation">)</span> num<span class="token punctuation">[</span>y<span class="token operator">--</span><span class="token punctuation">]</span> <span class="token operator">=</span> num<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    num<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> z<span class="token punctuation">;</span>    <span class="token function">quick_sort</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> l<span class="token punctuation">,</span> x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">quick_sort</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token comment" spellcheck="true">//O(n*log(n))</span><span class="token comment" spellcheck="true">/*1、选择基数（默认第一个元素为基准值） */</span> <span class="token keyword">void</span> <span class="token function">quick_sort</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>num<span class="token punctuation">,</span> <span class="token keyword">int</span> l<span class="token punctuation">,</span> <span class="token keyword">int</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//数据越乱越好 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">></span> r<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token keyword">int</span> x <span class="token operator">=</span> l<span class="token punctuation">,</span> y <span class="token operator">=</span> r<span class="token punctuation">,</span> z <span class="token operator">=</span> num<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> y <span class="token operator">&amp;&amp;</span> num<span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">></span> z<span class="token punctuation">)</span> y<span class="token operator">--</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> y<span class="token punctuation">)</span> num<span class="token punctuation">[</span>x<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> num<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> y <span class="token operator">&amp;&amp;</span> num<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">&lt;</span> z<span class="token punctuation">)</span> x<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> y<span class="token punctuation">)</span> num<span class="token punctuation">[</span>y<span class="token operator">--</span><span class="token punctuation">]</span> <span class="token operator">=</span> num<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    num<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> z<span class="token punctuation">;</span>    <span class="token function">quick_sort</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> l<span class="token punctuation">,</span> x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">quick_sort</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token macro property">#<span class="token directive keyword">define</span> n 20</span>    <span class="token keyword">int</span> num<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        num<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> n <span class="token operator">*</span> <span class="token number">20</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        i <span class="token operator">&amp;&amp;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">", "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">quick_sort</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        i <span class="token operator">&amp;&amp;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">", "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 排序算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>选择排序</title>
      <link href="posts/c803.html"/>
      <url>posts/c803.html</url>
      
        <content type="html"><![CDATA[<h4 id="主要函数"><a href="#主要函数" class="headerlink" title="主要函数"></a>主要函数</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">select_sort</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>num<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> min <span class="token operator">=</span> i<span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>num<span class="token punctuation">[</span>min<span class="token punctuation">]</span> <span class="token operator">></span> num<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> min <span class="token operator">=</span> j<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token function">swap</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span>min<span class="token punctuation">]</span><span class="token punctuation">,</span> num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span> </code></pre><h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-C"><code class="language-C">#include <stdio.h>#include <time.h>#include <stdlib.h>//O(n^2)//不稳定排序 //一次循环交换次数一次 #define swap(a, b) {\    __typeof(a) temp = (a);\    a = b; b = temp;\}void select_sort(int *num, int n) {    for (int i = 0; i < n - 1; i++) {        int min = i;        for (int j = i + 1; j < n; j++) {            if (num[min] > num[j]) min = j;        }        swap(num[min], num[i]);    }    return ;} int main() {    #define n 200    int num[n];    for (int i = 0; i < n; i++) {        num[i] = rand() % n * 20;    }    for (int i = 0; i < n; i++) {        i && printf(", ");        printf("%d", num[i]);    }        select_sort(num, n);    printf("\n");    for (int i = 0; i < n; i++) {        i && printf(", ");        printf("%d", num[i]);    }    return 0;}</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 排序算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>归并排序</title>
      <link href="posts/f8df.html"/>
      <url>posts/f8df.html</url>
      
        <content type="html"><![CDATA[<h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span><span class="token macro property">#<span class="token directive keyword">define</span> swap(a, b) {\    __typeof(a) __temp = a;\    a = b, b = __temp;\}</span><span class="token macro property">#<span class="token directive keyword">define</span> TEST(arr, n, func, args...) {\    int *num = (int *)malloc(sizeof(int) * n);\    memcpy(num, arr, sizeof(int) * n);\    output(num, n);\    printf("%s = ", #func);\    func(args);\    output(num, n);\    free(num);\    printf("\n");\}</span><span class="token keyword">void</span> <span class="token function">merge_sort</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>num<span class="token punctuation">,</span> <span class="token keyword">int</span> l<span class="token punctuation">,</span> <span class="token keyword">int</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token operator">-</span> l <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token operator">-</span> l <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> num<span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">&lt;</span> num<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">swap</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">,</span> num<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>l <span class="token operator">+</span> r<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token function">merge_sort</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> l<span class="token punctuation">,</span> mid<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">merge_sort</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> <span class="token operator">*</span>temp <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>r <span class="token operator">-</span> l <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> p1 <span class="token operator">=</span> l<span class="token punctuation">,</span> p2 <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>p1 <span class="token operator">&lt;=</span> mid <span class="token operator">||</span> p2 <span class="token operator">&lt;=</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>p2 <span class="token operator">></span> r <span class="token operator">||</span> <span class="token punctuation">(</span>p1 <span class="token operator">&lt;=</span> mid <span class="token operator">&amp;&amp;</span> num<span class="token punctuation">[</span>p1<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> num<span class="token punctuation">[</span>p2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            temp<span class="token punctuation">[</span>k<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> num<span class="token punctuation">[</span>p1<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            temp<span class="token punctuation">[</span>k<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> num<span class="token punctuation">[</span>p2<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">memcpy</span><span class="token punctuation">(</span>num <span class="token operator">+</span> l<span class="token punctuation">,</span> temp<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>r <span class="token operator">-</span> l <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">output</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>num<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"["</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span>  n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        i <span class="token operator">&amp;&amp;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">", "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"]\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">srand</span><span class="token punctuation">(</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token macro property">#<span class="token directive keyword">define</span> N 20</span>    <span class="token keyword">int</span> arr<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> N <span class="token operator">*</span> <span class="token number">40</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">TEST</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> N<span class="token punctuation">,</span> merge_sort<span class="token punctuation">,</span> num<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> N <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 排序算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>插入排序</title>
      <link href="posts/c40e.html"/>
      <url>posts/c40e.html</url>
      
        <content type="html"><![CDATA[<h4 id="交换实现"><a href="#交换实现" class="headerlink" title="交换实现"></a>交换实现</h4><h5 id="代码演示1"><a href="#代码演示1" class="headerlink" title="代码演示1"></a>代码演示1</h5><pre class=" language-c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">insert_sort</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>num<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//升序 </span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i<span class="token punctuation">;</span> j <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>num<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> num<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token function">swap</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> num<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h5 id="代码演示2"><a href="#代码演示2" class="headerlink" title="代码演示2"></a>代码演示2</h5><pre class=" language-c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">insert_sort</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>num<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//升序 </span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i<span class="token punctuation">;</span> j <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>num<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> num<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">swap</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> num<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="移动实现"><a href="#移动实现" class="headerlink" title="移动实现"></a>移动实现</h4><h5 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h5><pre class=" language-c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">insetr_sort</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>a<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//默认升序 </span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> j<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> key <span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">>=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> key <span class="token operator">&lt;</span> a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            a<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">!=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> a<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> key<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span> </code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 排序算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>最快的求一个数根号的倒数的方法</title>
      <link href="posts/4860.html"/>
      <url>posts/4860.html</url>
      
        <content type="html"><![CDATA[<h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">float</span> <span class="token function">InvSqrt</span><span class="token punctuation">(</span><span class="token keyword">float</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">float</span> xhalf <span class="token operator">=</span> <span class="token number">0.5f</span> <span class="token operator">*</span> x<span class="token punctuation">;</span>    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token operator">*</span> <span class="token punctuation">)</span> <span class="token operator">&amp;</span> x<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// get bits for floating VALUE</span>     i <span class="token operator">=</span> <span class="token number">0x5f375a86</span> <span class="token operator">-</span> <span class="token punctuation">(</span>i<span class="token operator">>></span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// gives initial guess y0</span>    x <span class="token operator">=</span> <span class="token operator">*</span><span class="token punctuation">(</span><span class="token keyword">float</span><span class="token operator">*</span> <span class="token punctuation">)</span> <span class="token operator">&amp;</span> i<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// convert bits BACK to float</span>    x <span class="token operator">=</span> x<span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">1.5f</span><span class="token operator">-</span>xhalf<span class="token operator">*</span>x<span class="token operator">*</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Newton step, repeating increases accuracy</span>    <span class="token keyword">return</span> x<span class="token punctuation">;</span> <span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> c语言的奇淫技巧 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>森林与并查集</title>
      <link href="posts/cc88.html"/>
      <url>posts/cc88.html</url>
      
        <content type="html"><![CDATA[<h3 id="并查集"><a href="#并查集" class="headerlink" title="并查集"></a>并查集</h3><h4 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h4><ul><li>集：集合</li><li>并：联通、合并</li><li>查：查找、判断</li><li>Quick-Find算法：快速查找算法</li></ul><h4 id="按秩的快速合并Quick-Union"><a href="#按秩的快速合并Quick-Union" class="headerlink" title="按秩的快速合并Quick_Union"></a>按秩的快速合并Quick_Union</h4><ul><li>将一棵树作为另一棵树的子树</li><li>按秩（树的节点个数）进行优化比按树的高度进行合并好，节点少的做子树</li><li>合并判断复杂度：O(logN)，联通判断复杂度：O(logN)</li></ul><h4 id="快速查找Quick-find"><a href="#快速查找Quick-find" class="headerlink" title="快速查找Quick_find"></a>快速查找Quick_find</h4><ul><li>查找父节点</li><li>路径压缩</li></ul><h4 id="结构定义"><a href="#结构定义" class="headerlink" title="结构定义"></a>结构定义</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">typedef</span> <span class="token keyword">struct</span> UnionSet <span class="token punctuation">{</span>    <span class="token keyword">int</span> <span class="token operator">*</span>father<span class="token punctuation">,</span> <span class="token operator">*</span>size<span class="token punctuation">;</span>    <span class="token keyword">int</span> n<span class="token punctuation">;</span><span class="token punctuation">}</span> UnionSet<span class="token punctuation">;</span></code></pre><h4 id="结构操作之初始化"><a href="#结构操作之初始化" class="headerlink" title="结构操作之初始化"></a>结构操作之初始化</h4><pre class=" language-c"><code class="language-c">UnionSet <span class="token operator">*</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    UnionSet <span class="token operator">*</span>u <span class="token operator">=</span> <span class="token punctuation">(</span>UnionSet <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>UnionSet<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    u<span class="token operator">-></span>father <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    u<span class="token operator">-></span>size <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 记录每棵树的节点个数</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>         u<span class="token operator">-></span>father<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//自己为一棵树</span>        u<span class="token operator">-></span>size<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 只有自己一个节点</span>    <span class="token punctuation">}</span>    u<span class="token operator">-></span>n <span class="token operator">=</span> n<span class="token punctuation">;</span>    <span class="token keyword">return</span> u<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="结构操作之查找"><a href="#结构操作之查找" class="headerlink" title="结构操作之查找"></a>结构操作之查找</h4><p><strong>一般查找</strong></p><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span>UnionSet <span class="token operator">*</span>u<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> u<span class="token operator">-></span>father<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>普通查找</strong></p><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span>UnionSet <span class="token operator">*</span>u<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">==</span> u<span class="token operator">-></span>father<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span> x<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token function">find</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span> u<span class="token operator">-></span>father<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>路径压缩</strong></p><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span>UnionSet <span class="token operator">*</span>u<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> x <span class="token operator">==</span> u<span class="token operator">-></span>father<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">?</span> u<span class="token operator">-></span>father<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token punctuation">:</span> <span class="token punctuation">(</span>u<span class="token operator">-></span>father<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span> u<span class="token operator">-></span>father<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="结构操作之合并"><a href="#结构操作之合并" class="headerlink" title="结构操作之合并"></a>结构操作之合并</h4><ul><li>经过证明，按树的秩合并比按树的高度合并时间复杂度更低</li></ul><p><strong>一般合并</strong></p><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">merge</span><span class="token punctuation">(</span>UnionSet <span class="token operator">*</span>u<span class="token punctuation">,</span> <span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> fa <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">,</span> fb <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>fa <span class="token operator">==</span> fb<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> u<span class="token operator">-></span>n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>u<span class="token operator">-></span>father<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> fa<span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>        u<span class="token operator">-></span>father<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> fb<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>普通合并</strong></p><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">merge</span><span class="token punctuation">(</span>UnionSet <span class="token operator">*</span>u<span class="token punctuation">,</span> <span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> fa <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">,</span> fb <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>fa <span class="token operator">==</span> fb<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    u<span class="token operator">-></span>father<span class="token punctuation">[</span>fa<span class="token punctuation">]</span> <span class="token operator">=</span> fb<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>按高度合并</strong></p><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">merge</span><span class="token punctuation">(</span>UnionSet <span class="token operator">*</span>u<span class="token punctuation">,</span> <span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> fa <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">,</span> fb <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>fa <span class="token operator">==</span> fb<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>height<span class="token punctuation">[</span>fa<span class="token punctuation">]</span> <span class="token operator">></span> height<span class="token punctuation">[</span>fb<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        u<span class="token operator">-></span>color<span class="token punctuation">[</span>fb<span class="token punctuation">]</span> <span class="token operator">=</span> fa<span class="token punctuation">;</span>        <span class="token operator">++</span>heigth<span class="token punctuation">[</span>fb<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        u<span class="token operator">-></span>color<span class="token punctuation">[</span>fa<span class="token punctuation">]</span> <span class="token operator">=</span> fb<span class="token punctuation">;</span>        <span class="token operator">++</span>heigth<span class="token punctuation">[</span>fa<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token comment" spellcheck="true">//    for (int i = 1; i &lt;= u->n; i++) {</span><span class="token comment" spellcheck="true">//        if (u->color[i] != color_a) continue;</span><span class="token comment" spellcheck="true">//        u->color[i] = color_b;</span><span class="token comment" spellcheck="true">//    }</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>按秩合并</strong></p><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">merge</span><span class="token punctuation">(</span>UnionSet <span class="token operator">*</span>u<span class="token punctuation">,</span> <span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> fa <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">,</span> fb <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>fa <span class="token operator">==</span> fb<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//默认fa记录节点数量是最多的； </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>u<span class="token operator">-></span>size<span class="token punctuation">[</span>fa<span class="token punctuation">]</span> <span class="token operator">&lt;</span> u<span class="token operator">-></span>size<span class="token punctuation">[</span>fb<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token function">swap</span><span class="token punctuation">(</span>fa<span class="token punctuation">,</span> fb<span class="token punctuation">)</span><span class="token punctuation">;</span>    u<span class="token operator">-></span>father<span class="token punctuation">[</span>fb<span class="token punctuation">]</span> <span class="token operator">=</span> fa<span class="token punctuation">;</span>    u<span class="token operator">-></span>size<span class="token punctuation">[</span>fa<span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> u<span class="token operator">-></span>size<span class="token punctuation">[</span>fb<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">define</span> swap(a, b) {\    a ^= b; b ^= a; a ^= b;\}</span><span class="token comment" spellcheck="true">//按秩优化</span> <span class="token keyword">typedef</span> <span class="token keyword">struct</span> UnionSet <span class="token punctuation">{</span>    <span class="token keyword">int</span> <span class="token operator">*</span>father<span class="token punctuation">,</span> <span class="token operator">*</span>size<span class="token punctuation">;</span>    <span class="token keyword">int</span> n<span class="token punctuation">;</span><span class="token punctuation">}</span> UnionSet<span class="token punctuation">;</span>UnionSet <span class="token operator">*</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    UnionSet <span class="token operator">*</span>u <span class="token operator">=</span> <span class="token punctuation">(</span>UnionSet <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>UnionSet<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    u<span class="token operator">-></span>father <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    u<span class="token operator">-></span>size <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 记录每棵树的节点个数</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>         u<span class="token operator">-></span>father<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//自己为一棵树</span>        u<span class="token operator">-></span>size<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 只有自己一个节点</span>    <span class="token punctuation">}</span>    u<span class="token operator">-></span>n <span class="token operator">=</span> n<span class="token punctuation">;</span>    <span class="token keyword">return</span> u<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">find</span><span class="token punctuation">(</span>UnionSet <span class="token operator">*</span>u<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//路径压缩</span>    <span class="token keyword">return</span> x <span class="token operator">==</span> u<span class="token operator">-></span>father<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">?</span> u<span class="token operator">-></span>father<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token punctuation">:</span> <span class="token punctuation">(</span>u<span class="token operator">-></span>father<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span> u<span class="token operator">-></span>father<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">merge</span><span class="token punctuation">(</span>UnionSet <span class="token operator">*</span>u<span class="token punctuation">,</span> <span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> fa <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">,</span> fb <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>fa <span class="token operator">==</span> fb<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//默认fa记录节点数量是最多的； </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>u<span class="token operator">-></span>size<span class="token punctuation">[</span>fa<span class="token punctuation">]</span> <span class="token operator">&lt;</span> u<span class="token operator">-></span>size<span class="token punctuation">[</span>fb<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token function">swap</span><span class="token punctuation">(</span>fa<span class="token punctuation">,</span> fb<span class="token punctuation">)</span><span class="token punctuation">;</span>    u<span class="token operator">-></span>father<span class="token punctuation">[</span>fb<span class="token punctuation">]</span> <span class="token operator">=</span> fa<span class="token punctuation">;</span>    u<span class="token operator">-></span>size<span class="token punctuation">[</span>fa<span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> u<span class="token operator">-></span>size<span class="token punctuation">[</span>fb<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//    u->father[fa] = fb;</span>    <span class="token comment" spellcheck="true">//    for (int i = 1; i &lt;= u->n; i++) {</span><span class="token comment" spellcheck="true">//        if (u->father[i] != fa) continue;</span><span class="token comment" spellcheck="true">//        u->father[i] = fb;</span><span class="token comment" spellcheck="true">//    }</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">clear</span><span class="token punctuation">(</span>UnionSet <span class="token operator">*</span>u<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>u <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>u<span class="token operator">-></span>father<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="练习题"><a href="#练习题" class="headerlink" title="练习题"></a>练习题</h4><table><thead><tr><th><strong>Leetcode</strong> 128</th><th>Leetcode 130</th></tr></thead><tbody><tr><td><strong>Leetcode  200</strong></td><td><strong>Leetcode 547</strong></td></tr><tr><td><strong>Leetcode 684</strong></td><td><strong>Leetcode 685</strong></td></tr></tbody></table>]]></content>
      
      
      
        <tags>
            
            <tag> 基础数据结构 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>约瑟夫环</title>
      <link href="posts/cc7c.html"/>
      <url>posts/cc7c.html</url>
      
        <content type="html"><![CDATA[<h4 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h4><p>计算理工学院有 N<em>N</em> 个同学，围成了一个圆圈，每人被顺序地编了一个序号（分别为 1,2,3… n1,2,3…<em>n</em>），从编号为 K<em>K</em> 的人开始报 11，他之后（顺初始数字增长方向计算序号）的人报 22，以此类推，数到某一个数字 M<em>M</em> 的人出列。出列同学的下一个人又从 11 开始继续报数，数到某一个数字 M<em>M</em> 的人出列。不断重复这一过程，直到所有人都出列为止。</p><p>你需要根据同学人数 N<em>N</em> 和给出的 K<em>K</em> 和 M<em>M</em> 计算出同学的正确出列顺序。</p><p>这一题的<code>main</code>函数已经帮你写好了，同时，已经帮你定义了一个节点的结构体类型、通过<code>circle_create</code>创建了一个循环链表。</p><p>现在请在<code>count_off</code>函数中根据传入的编号为 11 的节点 head<em>h<strong>e</strong>a**d</em>、学生数 n<em>n</em>、起始报数学生编号 k<em>k</em>、数到出列的数字 m<em>m</em> 实现报数的过程，按照题目要求进行输出。</p><h3 id="输入格式"><a href="#输入格式" class="headerlink" title="输入格式"></a>输入格式</h3><p>测评机会反复运行你的程序。每次程序运行时，输入为一行，包括三个被空格分隔开的符合描述的正整数 N、K和 M（1≤<em>K</em>≤<em>N</em>≤1000，1 &lt;= M &lt;= 2000）。</p><h3 id="输出格式"><a href="#输出格式" class="headerlink" title="输出格式"></a>输出格式</h3><p>输出为一行，包含 N 个整数，为依次顺序出列的学生编号，由空格分隔开。</p><h4 id="样例输入1复制"><a href="#样例输入1复制" class="headerlink" title="样例输入1复制"></a>样例输入1复制</h4><pre><code>9 1 1</code></pre><h4 id="样例输出1复制"><a href="#样例输出1复制" class="headerlink" title="样例输出1复制"></a>样例输出1复制</h4><pre><code>1 2 3 4 5 6 7 8 9</code></pre><h4 id="样例输入2复制"><a href="#样例输入2复制" class="headerlink" title="样例输入2复制"></a>样例输入2复制</h4><pre><code>8 5 2</code></pre><h4 id="样例输出2复制"><a href="#样例输出2复制" class="headerlink" title="样例输出2复制"></a>样例输出2复制</h4><pre><code>6 8 2 4 7 3 1 5</code></pre><h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> node <span class="token punctuation">{</span>    <span class="token keyword">int</span> data<span class="token punctuation">;</span>    <span class="token keyword">struct</span> node <span class="token operator">*</span>next<span class="token punctuation">;</span><span class="token punctuation">}</span> Node<span class="token punctuation">;</span>Node <span class="token operator">*</span><span class="token function">circle_create</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">count_off</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>head<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">,</span> <span class="token keyword">int</span> m<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">,</span> k<span class="token punctuation">,</span> m<span class="token punctuation">;</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">,</span> <span class="token operator">&amp;</span>k<span class="token punctuation">,</span> <span class="token operator">&amp;</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>    Node <span class="token operator">*</span>head <span class="token operator">=</span> <span class="token function">circle_create</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">count_off</span><span class="token punctuation">(</span>head<span class="token punctuation">,</span> n<span class="token punctuation">,</span> k<span class="token punctuation">,</span> m<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span>Node <span class="token operator">*</span><span class="token function">circle_create</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    Node <span class="token operator">*</span>temp<span class="token punctuation">,</span> <span class="token operator">*</span>new_node<span class="token punctuation">,</span> <span class="token operator">*</span>head<span class="token punctuation">;</span>    <span class="token keyword">int</span> i<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 创建第一个链表节点并加数据</span>    temp <span class="token operator">=</span> <span class="token punctuation">(</span>Node <span class="token operator">*</span><span class="token punctuation">)</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    head <span class="token operator">=</span> temp<span class="token punctuation">;</span>    head<span class="token operator">-></span>data <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 创建第 2 到第 n 个链表节点并加数据</span>    <span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        new_node <span class="token operator">=</span> <span class="token punctuation">(</span>Node <span class="token operator">*</span><span class="token punctuation">)</span> <span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        new_node<span class="token operator">-></span>data <span class="token operator">=</span> i<span class="token punctuation">;</span>        temp<span class="token operator">-></span>next <span class="token operator">=</span> new_node<span class="token punctuation">;</span>        temp <span class="token operator">=</span> new_node<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">// 最后一个节点指向头部构成循环链表</span>    temp<span class="token operator">-></span>next <span class="token operator">=</span> head<span class="token punctuation">;</span>    <span class="token keyword">return</span> head<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">count_off</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>head<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">,</span> <span class="token keyword">int</span> m<span class="token punctuation">)</span> <span class="token punctuation">{</span>    Node <span class="token operator">*</span>temp <span class="token operator">=</span> head<span class="token punctuation">;</span>    <span class="token keyword">int</span> t <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 使指针指到开始报号的学生编号 </span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>t <span class="token operator">!=</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>        temp <span class="token operator">=</span> temp <span class="token operator">-></span> next<span class="token punctuation">;</span>        <span class="token operator">++</span>t<span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    t <span class="token operator">=</span> n<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">// 如果指针指到了最后一个学生，重新指向第一个学生</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>temp<span class="token operator">-></span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">==</span> m<span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d%c"</span><span class="token punctuation">,</span> temp<span class="token operator">-></span>data<span class="token punctuation">,</span> n <span class="token operator">!=</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token string">' '</span> <span class="token punctuation">:</span> <span class="token string">'\n'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                temp<span class="token operator">-></span>data <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>                n<span class="token operator">--</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token operator">++</span>a<span class="token punctuation">;</span>            temp <span class="token operator">=</span> temp<span class="token operator">-></span>next<span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> temp <span class="token operator">=</span> temp<span class="token operator">-></span>next<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 基础数据结构 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>24两两交换链表中的节点</title>
      <link href="posts/7469.html"/>
      <url>posts/7469.html</url>
      
        <content type="html"><![CDATA[<h4 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h4><p>给定一个链表，两两交换其中相邻的节点，并返回交换后的链表。</p><p>你不能只是单纯的改变节点内部的值，而是需要实际的进行节点交换。</p><p> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/Axieyun/cdn@1.4/_pots/24.jpg"></p><p>示例 1：</p><p>输入：head = [1,2,3,4]<br>输出：[2,1,4,3]<br>示例 2：</p><p>输入：head = []<br>输出：[]<br>示例 3：</p><p>输入：head = [1]<br>输出：[1]</p><p>提示：</p><p>链表中节点的数目在范围 [0, 100] 内<br>0 &lt;= Node.val &lt;= 100</p><p>进阶：你能在不修改链表节点值的情况下解决这个问题吗?（也就是说，仅修改节点本身。）</p><h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><ul><li>三指针交换法，类似于翻转链表</li></ul><h4 id="代码演示1"><a href="#代码演示1" class="headerlink" title="代码演示1"></a>代码演示1</h4><ul><li>迭代法</li></ul><pre class=" language-c"><code class="language-c"><span class="token keyword">struct</span> ListNode<span class="token operator">*</span> <span class="token function">swapPairs</span><span class="token punctuation">(</span><span class="token keyword">struct</span> ListNode<span class="token operator">*</span> head<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">struct</span> ListNode <span class="token operator">*</span>tm<span class="token punctuation">,</span> cur<span class="token punctuation">;</span>        cur<span class="token punctuation">.</span>next <span class="token operator">=</span> head<span class="token punctuation">;</span>        tm <span class="token operator">=</span> <span class="token operator">&amp;</span>cur<span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>tm<span class="token operator">-></span>next <span class="token operator">!=</span> <span class="token constant">NULL</span> <span class="token operator">&amp;&amp;</span> tm<span class="token operator">-></span>next<span class="token operator">-></span>next <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">struct</span> ListNode <span class="token operator">*</span>p1 <span class="token operator">=</span> tm<span class="token operator">-></span>next<span class="token punctuation">,</span> <span class="token operator">*</span>p2 <span class="token operator">=</span> tm<span class="token operator">-></span>next<span class="token operator">-></span>next<span class="token punctuation">;</span>            tm<span class="token operator">-></span>next <span class="token operator">=</span> p2<span class="token punctuation">;</span>            p1<span class="token operator">-></span>next <span class="token operator">=</span> p2<span class="token operator">-></span>next<span class="token punctuation">;</span>            p2<span class="token operator">-></span>next <span class="token operator">=</span> p1<span class="token punctuation">;</span>            tm <span class="token operator">=</span> p1<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> cur<span class="token punctuation">.</span>next<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h5 id="运行效果"><a href="#运行效果" class="headerlink" title="运行效果"></a>运行效果</h5><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/Axieyun/cdn@1.4/_pots/24.1.png"></p><ul><li>递归法</li></ul><pre class=" language-c"><code class="language-c"><span class="token keyword">struct</span> ListNode<span class="token operator">*</span> <span class="token function">swapPairs</span><span class="token punctuation">(</span><span class="token keyword">struct</span> ListNode<span class="token operator">*</span> head<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>head <span class="token operator">==</span> <span class="token constant">NULL</span> <span class="token operator">||</span> head<span class="token operator">-></span>next <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> head<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//递归出口</span>        <span class="token keyword">struct</span> ListNode <span class="token operator">*</span>tm <span class="token operator">=</span> head<span class="token operator">-></span>next<span class="token punctuation">;</span>         head<span class="token operator">-></span>next <span class="token operator">=</span> <span class="token function">swapPairs</span><span class="token punctuation">(</span>tm<span class="token operator">-></span>next<span class="token punctuation">)</span><span class="token punctuation">;</span>        tm<span class="token operator">-></span>next <span class="token operator">=</span> head<span class="token punctuation">;</span>        <span class="token keyword">return</span> tm<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 基础数据结构 </tag>
            
            <tag> 力扣题解 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>排序算法</title>
      <link href="posts/ef35.html"/>
      <url>posts/ef35.html</url>
      
        <content type="html"><![CDATA[<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/Axieyun/cdn@1.3/_pots/%E6%8E%92%E5%BA%8F%E5%9B%BE%E7%89%87.png"></p><h4 id="稳定排序"><a href="#稳定排序" class="headerlink" title="稳定排序"></a>稳定排序</h4><h5 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h5><p>对于多个相同的值，它们的相对位置不发生改变</p><h5 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h5><ul><li>插入</li><li>冒泡</li><li>归并</li></ul><h5 id="插入排序"><a href="#插入排序" class="headerlink" title="插入排序"></a>插入排序</h5><ul><li>时间复杂度：O(n) ~ O(n^2)</li></ul><h6 id="口诀"><a href="#口诀" class="headerlink" title="口诀"></a>口诀</h6><ul><li>将数组分成 【以排序区】 和 【待排序区】</li><li>将 【待排序区】 第一个元素，向前插入到 【已排序区】</li><li>直到 【待排序区】 没有元素为止</li><li>默认第一个为【以排序区】元素</li></ul><h6 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h6><pre class=" language-c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">insert_sort</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>num<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//升序 </span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i<span class="token punctuation">;</span> j <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>num<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> num<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token function">swap</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> num<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h5 id="冒泡排序"><a href="#冒泡排序" class="headerlink" title="冒泡排序"></a>冒泡排序</h5><ul><li>时间复杂度：O(n ^ 2)</li></ul><h6 id="口诀-1"><a href="#口诀-1" class="headerlink" title="口诀"></a>口诀</h6><ul><li>将数组分为【已排序区】和【待排序区】</li><li>从头到尾扫描【待排序区】，若前面元素比后面元素大，就交换</li><li>每一轮都会将【待排序区】中最大元素放到【已排序区】头部元素</li><li>直到【待排序区】没有元素</li></ul><h6 id="代码演示-1"><a href="#代码演示-1" class="headerlink" title="代码演示"></a>代码演示</h6><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token keyword">void</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>a<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"未排序：\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n排序过程：\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">int</span> tm <span class="token operator">=</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>                a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>                a<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> tm<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">bubble_sort</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>num<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//未优化的</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n <span class="token operator">-</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>num<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> num<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>            <span class="token keyword">else</span> <span class="token function">swap</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> num<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">void</span> <span class="token function">bubble_sort</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>num<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//优化过的</span>    <span class="token keyword">int</span> times <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>     <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n <span class="token operator">&amp;&amp;</span> times<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        times <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n <span class="token operator">-</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>num<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> num<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>            <span class="token function">swap</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> num<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            times <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span> </code></pre><h5 id="归并排序"><a href="#归并排序" class="headerlink" title="归并排序"></a>归并排序</h5><ul><li><p>时间复杂度：O(nlog(n))</p></li><li><p>属于稳定排序</p></li><li><p>属于外部排序</p></li><li><p>分治思想</p></li><li><p>二路归并</p></li><li><p>K路归并 ：利用堆实现</p></li></ul><h6 id="口诀-2"><a href="#口诀-2" class="headerlink" title="口诀"></a>口诀</h6><ul><li>大事化小，小事化了</li></ul><h6 id="代码演示-2"><a href="#代码演示-2" class="headerlink" title="代码演示"></a>代码演示</h6><pre class=" language-c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">merge_sort</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>num<span class="token punctuation">,</span> <span class="token keyword">int</span> l<span class="token punctuation">,</span> <span class="token keyword">int</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token operator">-</span> l <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token operator">-</span> l <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> num<span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">&lt;</span> num<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">swap</span><span class="token punctuation">(</span>num<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">,</span> num<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>l <span class="token operator">+</span> r<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token function">merge_sort</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> l<span class="token punctuation">,</span> mid<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">merge_sort</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> <span class="token operator">*</span>temp <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>r <span class="token operator">-</span> l <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> p1 <span class="token operator">=</span> l<span class="token punctuation">,</span> p2 <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>p1 <span class="token operator">&lt;=</span> mid <span class="token operator">||</span> p2 <span class="token operator">&lt;=</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>p2 <span class="token operator">></span> r <span class="token operator">||</span> <span class="token punctuation">(</span>p1 <span class="token operator">&lt;=</span> mid <span class="token operator">&amp;&amp;</span> num<span class="token punctuation">[</span>p1<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> num<span class="token punctuation">[</span>p2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            temp<span class="token punctuation">[</span>k<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> num<span class="token punctuation">[</span>p1<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            temp<span class="token punctuation">[</span>k<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> num<span class="token punctuation">[</span>p2<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">memcpy</span><span class="token punctuation">(</span>num <span class="token operator">+</span> l<span class="token punctuation">,</span> temp<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>r <span class="token operator">-</span> l <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="不稳定排序"><a href="#不稳定排序" class="headerlink" title="不稳定排序"></a>不稳定排序</h4><h5 id=""><a href="#" class="headerlink" title=""></a></h5><h4 id="四象限法则"><a href="#四象限法则" class="headerlink" title="四象限法则"></a>四象限法则</h4>]]></content>
      
      
      
        <tags>
            
            <tag> 算法入门与进阶 </tag>
            
            <tag> 基础数据结构 </tag>
            
            <tag> 排序算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>链队列</title>
      <link href="posts/8e9b.html"/>
      <url>posts/8e9b.html</url>
      
        <content type="html"><![CDATA[<h3 id="链队列"><a href="#链队列" class="headerlink" title="链队列"></a>链队列</h3><ul><li>链表实现的队列</li><li>空间消耗大</li></ul><h4 id="结构定义"><a href="#结构定义" class="headerlink" title="结构定义"></a>结构定义</h4><pre class=" language-C"><code class="language-C">//结构定义 typedef struct Node { //节点定义     int data;    struct Node *next;} Node;typedef struct Queue {    int length; //链队列长度     Node head; //虚拟队列头节点，存储队列第一个节点     Node *tail; //尾指针 } Queue;</code></pre><h4 id="说明一下"><a href="#说明一下" class="headerlink" title="说明一下"></a>说明一下</h4><ul><li><p>定义虚拟头节点head，初始化一定得开辟head空间</p></li><li><p>初始化操作init_Queue(Queue *) 中，必须有一下代码，不然q-&gt;tail-&gt;next = node;这行不执行，调试时候会报错。</p><pre><code>q-&gt;head = *(Node *)malloc(sizeof(Node));q-&gt;tail = &amp;(q-&gt;head); </code></pre></li></ul><h4 id="结构操作"><a href="#结构操作" class="headerlink" title="结构操作"></a>结构操作</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">// 结构操作 </span>Queue <span class="token operator">*</span><span class="token function">init_Queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 队列初始化 </span>Node <span class="token operator">*</span><span class="token function">getnewNode</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 封装val为节点 </span><span class="token keyword">int</span> <span class="token function">front</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 打印队首元素不删除 </span><span class="token keyword">int</span> <span class="token function">pop</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//队首弹出元素 </span><span class="token keyword">int</span> <span class="token function">push</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 队尾压入元素 </span><span class="token keyword">int</span> <span class="token function">empty</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 判断队列是否为空 </span><span class="token keyword">void</span> <span class="token function">output</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//输出链队列 </span><span class="token keyword">void</span> <span class="token function">clear_Queue</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//队列销毁</span><span class="token keyword">void</span> <span class="token function">clear_Node</span><span class="token punctuation">(</span>Node <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//节点销毁 </span></code></pre><h4 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token comment" spellcheck="true">//结构定义 </span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Node <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//节点定义 </span>    <span class="token keyword">int</span> data<span class="token punctuation">;</span>    <span class="token keyword">struct</span> Node <span class="token operator">*</span>next<span class="token punctuation">;</span><span class="token punctuation">}</span> Node<span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Queue <span class="token punctuation">{</span>    <span class="token keyword">int</span> length<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//链队列长度 </span>    Node head<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//虚拟队列头节点，存储队列第一个节点 </span>    Node <span class="token operator">*</span>tail<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//尾指针 </span><span class="token punctuation">}</span> Queue<span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 结构操作 </span>Queue <span class="token operator">*</span><span class="token function">init_Queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 队列初始化 </span>Node <span class="token operator">*</span><span class="token function">getnewNode</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 封装val为节点 </span><span class="token keyword">int</span> <span class="token function">front</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 打印队首元素不删除 </span><span class="token keyword">int</span> <span class="token function">pop</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//队首弹出元素 </span><span class="token keyword">int</span> <span class="token function">push</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 队尾压入元素 </span><span class="token keyword">int</span> <span class="token function">empty</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 判断队列是否为空 </span><span class="token keyword">void</span> <span class="token function">output</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//输出链队列 </span><span class="token keyword">void</span> <span class="token function">clear_Queue</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//队列销毁</span><span class="token keyword">void</span> <span class="token function">clear_Node</span><span class="token punctuation">(</span>Node <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//节点销毁 </span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">srand</span><span class="token punctuation">(</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token macro property">#<span class="token directive keyword">define</span> MAX_N 2000</span>    Queue <span class="token operator">*</span>q <span class="token operator">=</span> <span class="token function">init_Queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> MAX_N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"i = %d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> op <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">4</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> val <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">;</span>        <span class="token keyword">switch</span> <span class="token punctuation">(</span>op<span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token keyword">case</span> <span class="token number">0</span> <span class="token punctuation">:</span>            <span class="token keyword">case</span> <span class="token number">2</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"插入元素：%d, %s\n"</span><span class="token punctuation">,</span> val<span class="token punctuation">,</span> <span class="token function">push</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span> val<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"插入成功"</span> <span class="token punctuation">:</span> <span class="token string">"插入失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">break</span><span class="token punctuation">;</span>                        <span class="token keyword">case</span> <span class="token number">1</span> <span class="token punctuation">:</span>            <span class="token keyword">case</span> <span class="token number">3</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">empty</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token comment" spellcheck="true">//printf("删除元素：%d, %s\n", front(q), pop(q) ? "成功" : "失败"); </span>                    <span class="token comment" spellcheck="true">//也可以这么写 </span>                    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"删除元素：%d，"</span><span class="token punctuation">,</span> <span class="token function">front</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> <span class="token function">pop</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"删除成功"</span> <span class="token punctuation">:</span> <span class="token string">"删除失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"队列为空\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token function">output</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token macro property">#<span class="token directive keyword">undef</span> MAX_N</span>    <span class="token function">clear_Queue</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span>Node <span class="token operator">*</span><span class="token function">getnewNode</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//封装val为节点 </span>    Node <span class="token operator">*</span>node <span class="token operator">=</span> <span class="token punctuation">(</span>Node <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    node<span class="token operator">-></span>data <span class="token operator">=</span> val<span class="token punctuation">;</span>    node<span class="token operator">-></span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> node<span class="token punctuation">;</span><span class="token punctuation">}</span>Queue <span class="token operator">*</span><span class="token function">init_Queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 队列初始化 </span>    Queue <span class="token operator">*</span>q <span class="token operator">=</span> <span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Queue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    q<span class="token operator">-></span>head <span class="token operator">=</span> <span class="token operator">*</span><span class="token punctuation">(</span>Node <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">/*使其指向虚拟头节点 ，这步很重要，    找了很久才知道这里错了，没写这步的时候一直错，    还不知道哪里错     */</span>     q<span class="token operator">-></span>tail <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>q<span class="token operator">-></span>head<span class="token punctuation">)</span><span class="token punctuation">;</span>         q<span class="token operator">-></span>head<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    q<span class="token operator">-></span>length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> q<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">front</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> q<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token operator">-></span>data<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">push</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span>q<span class="token punctuation">,</span> <span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//从队尾压入元素 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    Node <span class="token operator">*</span>node <span class="token operator">=</span> <span class="token function">getnewNode</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>    q<span class="token operator">-></span>tail<span class="token operator">-></span>next <span class="token operator">=</span> node<span class="token punctuation">;</span>    q<span class="token operator">-></span>tail <span class="token operator">=</span> node<span class="token punctuation">;</span>    q<span class="token operator">-></span>length <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">pop</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//弹出队首元素 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">empty</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>     Node <span class="token operator">*</span>p <span class="token operator">=</span> q<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//保存队首 </span>    q<span class="token operator">-></span>head<span class="token punctuation">.</span>next <span class="token operator">=</span> p<span class="token operator">-></span>next<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//  head保存队首位置 </span>    q<span class="token operator">-></span>length <span class="token operator">-</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token function">clear_Node</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//销毁队头元素 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>q<span class="token operator">-></span>length<span class="token punctuation">)</span><span class="token punctuation">)</span> q<span class="token operator">-></span>tail <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>q<span class="token operator">-></span>head<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">empty</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span>q<span class="token operator">-></span>length<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">clear_Node</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>node <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">clear_Queue</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> q<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">,</span> <span class="token operator">*</span>qq<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token punctuation">{</span>        qq <span class="token operator">=</span> p<span class="token operator">-></span>next<span class="token punctuation">;</span>        <span class="token function">clear_Node</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>        p <span class="token operator">=</span> qq<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">free</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token punctuation">(</span>q<span class="token operator">-></span>head<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">output</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"队列长度：%d\n"</span><span class="token punctuation">,</span> q<span class="token operator">-></span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token keyword">int</span> n <span class="token operator">=</span> q<span class="token operator">-></span>length<span class="token punctuation">;</span>    Node <span class="token operator">*</span>node <span class="token operator">=</span> q<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">;</span>     <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Queue：["</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> node<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>        n <span class="token operator">&amp;&amp;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">", "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        node <span class="token operator">=</span> node<span class="token operator">-></span>next<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"]\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span> </code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 基础数据结构 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>红黑树</title>
      <link href="posts/7061.html"/>
      <url>posts/7061.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>20括号匹配</title>
      <link href="posts/a79a.html"/>
      <url>posts/a79a.html</url>
      
        <content type="html"><![CDATA[<h3 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h3><p>给定一个只包括 ‘(‘，’)’，’{‘，’}’，’[‘，’]’ 的字符串 s ，判断字符串是否有效。</p><p>有效字符串需满足：</p><ol><li>左括号必须用相同类型的右括号闭合。</li><li>左括号必须以正确的顺序闭合。</li></ol><p>示例 1：</p><p>输入：s = “()”<br>输出：true<br>示例 2：</p><p>输入：s = “()[]{}”<br>输出：true<br>示例 3：</p><p>输入：s = “(]”<br>输出：false<br>示例 4：</p><p>输入：s = “([)]”<br>输出：false<br>示例 5：</p><p>输入：s = “{[]}”<br>输出：true</p><h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><h5 id="降维打击"><a href="#降维打击" class="headerlink" title="降维打击"></a>降维打击</h5><ul><li>缩小问题规模</li><li>将大问题 (三种括号) 化为小问题 (一种括号)</li><li>再从小问题退出大问题解法</li></ul><h4 id="一种括号序列"><a href="#一种括号序列" class="headerlink" title="一种括号序列"></a>一种括号序列</h4><h5 id="代码演示一"><a href="#代码演示一" class="headerlink" title="代码演示一"></a>代码演示一</h5><pre class=" language-c++"><code class="language-c++">bool isValid(char *s) {    int lnum = 0;    int length = strlen(s);    for (int i = 0; i < length; i++) {        switch (s[i]) {            case '(' : {                lnum++;            } break;            case ')' : {                lnum--;            } break;            default : return false;        }        if (lnum > 0) continue;        return false;    }    return !lnum;}// 思路：一种括号时，左括号数量必须大于右括号数量// 且没有遍历完括号序列s时，左括号数量大于右括号数量，// 也就是lnum > 0。// 遍历完括号序列后lnum必须为0。</code></pre><h4 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h4><ol><li>我们可以获得怎样的思考方式</li><li>+1等价为进，-1等价为出。</li><li>一对括号（）等价为一个完整的事件</li><li>(())可以看出事件与事件之间的完全包含关系</li><li>由括号的等价变换，得到一个新的数据结构</li></ol><h5 id="思考-1"><a href="#思考-1" class="headerlink" title="思考"></a>思考</h5><ul><li>系统栈也是栈，能不能用系统栈解决问题？</li><li>系统爆栈是怎么回事？</li><li>能用栈解决的问题，都能递归解决</li></ul><h4 id="栈和树"><a href="#栈和树" class="headerlink" title="栈和树"></a>栈和树</h4><p>可以处理具有完全包含关系的问题</p><ul><li>回到大问题</li></ul><h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><ul><li>自己写的栈</li></ul><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Stack <span class="token punctuation">{</span>    <span class="token keyword">char</span> <span class="token operator">*</span>val<span class="token punctuation">;</span>    <span class="token keyword">int</span> p<span class="token punctuation">,</span> maxSize<span class="token punctuation">;</span><span class="token punctuation">}</span> Stack<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">init_Stack</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span>s<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span> <span class="token punctuation">{</span>    s<span class="token operator">-></span>val <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span><span class="token operator">*</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span>    s<span class="token operator">-></span>p <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span>bool <span class="token function">empty_Stack</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span>s<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span>s<span class="token operator">-></span>p<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">push_Stack</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span>s<span class="token punctuation">,</span> <span class="token keyword">char</span> ch<span class="token punctuation">)</span> <span class="token punctuation">{</span>    s<span class="token operator">-></span>val<span class="token punctuation">[</span>s<span class="token operator">-></span>p<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> ch<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">pop_Stack</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span>s<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token operator">--</span><span class="token punctuation">(</span>s<span class="token operator">-></span>p<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">char</span> <span class="token function">seek_Stack</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span>s<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//寻找</span>    <span class="token keyword">return</span> s<span class="token operator">-></span>val<span class="token punctuation">[</span>s<span class="token operator">-></span>p <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span>bool <span class="token function">isValid</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>s<span class="token punctuation">)</span> <span class="token punctuation">{</span>    Stack stack<span class="token punctuation">;</span>    <span class="token keyword">int</span> length <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">init_Stack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>stack<span class="token punctuation">,</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">switch</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">case</span> <span class="token string">'('</span> <span class="token punctuation">:</span>            <span class="token keyword">case</span> <span class="token string">'{'</span> <span class="token punctuation">:</span>            <span class="token keyword">case</span> <span class="token string">'['</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token function">push_Stack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>stack<span class="token punctuation">,</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> <span class="token string">')'</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">empty_Stack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>stack<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">seek_Stack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>stack<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token string">'('</span><span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>                <span class="token function">pop_Stack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> <span class="token string">'}'</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">empty_Stack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>stack<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">seek_Stack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>stack<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token string">'{'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>                <span class="token function">pop_Stack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> <span class="token string">']'</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">empty_Stack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>stack<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">seek_Stack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>stack<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token string">'['</span><span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>                <span class="token function">pop_Stack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token function">empty_Stack</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">char</span> s<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token function">isValid</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><ul><li>系统栈</li></ul><h4 id="代码演示-1"><a href="#代码演示-1" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;string.h></span></span>bool <span class="token function">judgeOne</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>s<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>i<span class="token punctuation">,</span> <span class="token keyword">int</span> d<span class="token punctuation">)</span> <span class="token punctuation">{</span>    bool flag <span class="token operator">=</span> true<span class="token punctuation">;</span>    <span class="token keyword">int</span> j <span class="token operator">=</span> d<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//    printf("in %d\n", *i);</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token operator">*</span>i<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">switch</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token operator">*</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">case</span> <span class="token string">'('</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token operator">++</span><span class="token punctuation">(</span><span class="token operator">*</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>                flag <span class="token operator">=</span> <span class="token function">judgeOne</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> i<span class="token punctuation">,</span> d <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token operator">*</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">')'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token operator">++</span><span class="token punctuation">(</span><span class="token operator">*</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span> flag <span class="token operator">&amp;</span><span class="token operator">=</span> true<span class="token punctuation">;</span>                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token operator">*</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">']'</span> <span class="token operator">||</span> s<span class="token punctuation">[</span><span class="token operator">*</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'}'</span> <span class="token operator">||</span> s<span class="token punctuation">[</span><span class="token operator">*</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'\0'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                    flag <span class="token operator">=</span> false<span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span> <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> <span class="token string">'['</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token operator">++</span><span class="token punctuation">(</span><span class="token operator">*</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>                flag <span class="token operator">=</span> <span class="token function">judgeOne</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> i<span class="token punctuation">,</span> d <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token operator">*</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">']'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token operator">++</span><span class="token punctuation">(</span><span class="token operator">*</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span> flag <span class="token operator">&amp;</span><span class="token operator">=</span> true<span class="token punctuation">;</span>                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token operator">*</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">')'</span> <span class="token operator">||</span> s<span class="token punctuation">[</span><span class="token operator">*</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'}'</span> <span class="token operator">||</span> s<span class="token punctuation">[</span><span class="token operator">*</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'\0'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                    flag <span class="token operator">=</span> false<span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span> <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> <span class="token string">'{'</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token operator">++</span><span class="token punctuation">(</span><span class="token operator">*</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>                flag <span class="token operator">=</span> <span class="token function">judgeOne</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> i<span class="token punctuation">,</span> d <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token operator">*</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'}'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token operator">++</span><span class="token punctuation">(</span><span class="token operator">*</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span> flag <span class="token operator">&amp;</span><span class="token operator">=</span> true<span class="token punctuation">;</span>                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token operator">*</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">')'</span> <span class="token operator">||</span> s<span class="token punctuation">[</span><span class="token operator">*</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">']'</span> <span class="token operator">||</span> s<span class="token punctuation">[</span><span class="token operator">*</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'\0'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                    flag <span class="token operator">=</span> false<span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span> <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token keyword">case</span> <span class="token string">']'</span> <span class="token punctuation">:</span>            <span class="token keyword">case</span> <span class="token string">'}'</span> <span class="token punctuation">:</span>            <span class="token keyword">case</span> <span class="token string">')'</span> <span class="token punctuation">:</span>                <span class="token keyword">return</span> j <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">?</span> false <span class="token punctuation">:</span> true <span class="token operator">&amp;&amp;</span> flag<span class="token punctuation">;</span>            <span class="token keyword">default</span> <span class="token punctuation">:</span>                <span class="token keyword">return</span> false<span class="token punctuation">;</span>                <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> flag<span class="token punctuation">;</span><span class="token punctuation">}</span>bool <span class="token function">isValid</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>s<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>    bool flag <span class="token operator">=</span> true<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> len <span class="token operator">&amp;&amp;</span> flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>        flag <span class="token operator">&amp;</span><span class="token operator">=</span> <span class="token function">judgeOne</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token operator">&amp;</span>i<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> flag<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">char</span> ch<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> ch<span class="token punctuation">)</span><span class="token punctuation">;</span>    bool a <span class="token operator">=</span> <span class="token function">isValid</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="自己写的"><a href="#自己写的" class="headerlink" title="自己写的"></a>自己写的</h4><h4 id="代码演示-2"><a href="#代码演示-2" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c">bool <span class="token function">isValid</span><span class="token punctuation">(</span><span class="token keyword">char</span> <span class="token operator">*</span>s<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>len <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>    <span class="token keyword">char</span> stack<span class="token punctuation">[</span><span class="token punctuation">(</span>len <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">switch</span><span class="token punctuation">(</span>s<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">case</span> <span class="token string">'('</span> <span class="token punctuation">:</span>            <span class="token keyword">case</span> <span class="token string">'['</span> <span class="token punctuation">:</span>            <span class="token keyword">case</span> <span class="token string">'{'</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>                stack<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> <span class="token string">')'</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>i<span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//i为0，没有括号跟它匹配了，提前结束</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>stack<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token string">'('</span><span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>                <span class="token operator">--</span>i<span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> <span class="token string">']'</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>i<span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>stack<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token string">'['</span><span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>                <span class="token operator">--</span>i<span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> <span class="token string">'}'</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>i<span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>stack<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token string">'{'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>                <span class="token operator">--</span>i<span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">default</span> <span class="token punctuation">:</span> <span class="token keyword">return</span> false<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token operator">!</span>i<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" data-original="https://cdn.jsdelivr.net/gh/Axieyun/cdn@1.3/_pots/20%E6%8B%AC%E5%8F%B7%E5%8C%B9%E9%85%8D.png"></p>]]></content>
      
      
      
        <tags>
            
            <tag> 力扣题解 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>链栈</title>
      <link href="posts/5d2f.html"/>
      <url>posts/5d2f.html</url>
      
        <content type="html"><![CDATA[<h4 id="链栈"><a href="#链栈" class="headerlink" title="链栈"></a>链栈</h4><h5 id="何为链栈"><a href="#何为链栈" class="headerlink" title="何为链栈"></a>何为链栈</h5><ul><li>由链表实现的栈</li></ul><h5 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h5><ul><li>插入元素和删除元素时间复杂度都是常数O(1)</li></ul><h5 id="实现方法"><a href="#实现方法" class="headerlink" title="实现方法"></a>实现方法</h5><ul><li>头插法</li></ul><h4 id="结构定义"><a href="#结构定义" class="headerlink" title="结构定义"></a>结构定义</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Node <span class="token punctuation">{</span>    <span class="token keyword">int</span> data<span class="token punctuation">;</span>    <span class="token keyword">struct</span> Node <span class="token operator">*</span>next<span class="token punctuation">;</span><span class="token punctuation">}</span> Node<span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Chain_Stack <span class="token punctuation">{</span>    <span class="token keyword">int</span> length<span class="token punctuation">;</span>    Node head<span class="token punctuation">;</span><span class="token punctuation">}</span> Chain_Stack<span class="token punctuation">;</span></code></pre><h4 id="结构操作"><a href="#结构操作" class="headerlink" title="结构操作"></a>结构操作</h4><pre class=" language-c"><code class="language-c">Node <span class="token operator">*</span><span class="token function">getnewNode</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">pop</span><span class="token punctuation">(</span>Chain_Stack <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">top</span><span class="token punctuation">(</span>Chain_Stack <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">output</span><span class="token punctuation">(</span>Chain_Stack <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">empty</span><span class="token punctuation">(</span>Chain_Stack <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">push</span><span class="token punctuation">(</span>Chain_Stack <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">clear_Node</span><span class="token punctuation">(</span>Node <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">clear_Chain_Stack</span><span class="token punctuation">(</span>Chain_Stack <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Chain_Stack <span class="token operator">*</span><span class="token function">init_Stack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h></span></span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Node <span class="token punctuation">{</span>    <span class="token keyword">int</span> data<span class="token punctuation">;</span>    <span class="token keyword">struct</span> Node <span class="token operator">*</span>next<span class="token punctuation">;</span><span class="token punctuation">}</span> Node<span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Chain_Stack <span class="token punctuation">{</span>    <span class="token keyword">int</span> length<span class="token punctuation">;</span>    Node head<span class="token punctuation">;</span><span class="token punctuation">}</span> Chain_Stack<span class="token punctuation">;</span>Node <span class="token operator">*</span><span class="token function">getnewNode</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">pop</span><span class="token punctuation">(</span>Chain_Stack <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">top</span><span class="token punctuation">(</span>Chain_Stack <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">output</span><span class="token punctuation">(</span>Chain_Stack <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">empty</span><span class="token punctuation">(</span>Chain_Stack <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">push</span><span class="token punctuation">(</span>Chain_Stack <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">clear_Node</span><span class="token punctuation">(</span>Node <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">clear_Chain_Stack</span><span class="token punctuation">(</span>Chain_Stack <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span>Chain_Stack <span class="token operator">*</span><span class="token function">init_Stack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">srand</span><span class="token punctuation">(</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token macro property">#<span class="token directive keyword">define</span> MAX_N 2200</span>    Chain_Stack <span class="token operator">*</span>cs <span class="token operator">=</span> <span class="token function">init_Stack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> MAX_N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> op <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">4</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> val <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">;</span>        <span class="token keyword">switch</span> <span class="token punctuation">(</span>op<span class="token punctuation">)</span> <span class="token punctuation">{</span>                                    <span class="token keyword">case</span> <span class="token number">2</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"插入元素：%d, %s\n"</span><span class="token punctuation">,</span> val<span class="token punctuation">,</span> <span class="token function">push</span><span class="token punctuation">(</span>cs<span class="token punctuation">,</span> val<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"插入成功"</span> <span class="token punctuation">:</span> <span class="token string">"失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> <span class="token number">1</span> <span class="token punctuation">:</span>            <span class="token keyword">case</span> <span class="token number">0</span> <span class="token punctuation">:</span>            <span class="token keyword">case</span> <span class="token number">3</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">empty</span><span class="token punctuation">(</span>cs<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"删除元素：%d, "</span><span class="token punctuation">,</span> <span class="token function">top</span><span class="token punctuation">(</span>cs<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> <span class="token function">pop</span><span class="token punctuation">(</span>cs<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"删除成功"</span> <span class="token punctuation">:</span> <span class="token string">"删除失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"没有元素可以删除\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token function">output</span><span class="token punctuation">(</span>cs<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token macro property">#<span class="token directive keyword">undef</span> MAX_N</span>    <span class="token function">clear_Chain_Stack</span><span class="token punctuation">(</span>cs<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span>Node <span class="token operator">*</span><span class="token function">getnewNode</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>    Node <span class="token operator">*</span>node <span class="token operator">=</span> <span class="token punctuation">(</span>Node <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//默认空间申请成功 </span>    node<span class="token operator">-></span>data <span class="token operator">=</span> val<span class="token punctuation">;</span>    node<span class="token operator">-></span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> node<span class="token punctuation">;</span><span class="token punctuation">}</span>Chain_Stack <span class="token operator">*</span><span class="token function">init_Stack</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    Chain_Stack <span class="token operator">*</span>cs <span class="token operator">=</span> <span class="token punctuation">(</span>Chain_Stack <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Chain_Stack<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cs<span class="token operator">-></span>head<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    cs<span class="token operator">-></span>length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//[0,length); </span>    <span class="token keyword">return</span> cs<span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">int</span> <span class="token function">empty</span><span class="token punctuation">(</span>Chain_Stack <span class="token operator">*</span>cs<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//if (cs == NULL) return -1;</span>    <span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span>cs<span class="token operator">-></span>length<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">push</span><span class="token punctuation">(</span>Chain_Stack <span class="token operator">*</span>cs<span class="token punctuation">,</span> <span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>cs <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    Node <span class="token operator">*</span>node <span class="token operator">=</span> <span class="token function">getnewNode</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>    node<span class="token operator">-></span>next <span class="token operator">=</span> cs<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">;</span>    cs<span class="token operator">-></span>head<span class="token punctuation">.</span>next <span class="token operator">=</span> node<span class="token punctuation">;</span>    cs<span class="token operator">-></span>length <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">top</span><span class="token punctuation">(</span>Chain_Stack <span class="token operator">*</span>cs<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//if (cs == NULL) return -1;</span>    <span class="token keyword">return</span> cs<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token operator">-></span>data<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">pop</span><span class="token punctuation">(</span>Chain_Stack <span class="token operator">*</span>cs<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>cs <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> cs<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">;</span>    cs<span class="token operator">-></span>head<span class="token punctuation">.</span>next <span class="token operator">=</span> cs<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token operator">-></span>next<span class="token punctuation">;</span>    <span class="token function">clear_Node</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>    cs<span class="token operator">-></span>length <span class="token operator">-</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">clear_Node</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>node <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">clear_Chain_Stack</span><span class="token punctuation">(</span>Chain_Stack <span class="token operator">*</span>cs<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>cs <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> cs<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">,</span> <span class="token operator">*</span>temp<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token punctuation">{</span>        temp <span class="token operator">=</span> p<span class="token operator">-></span>next<span class="token punctuation">;</span>        <span class="token function">clear_Node</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>        p <span class="token operator">=</span> temp<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">free</span><span class="token punctuation">(</span>cs<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">output</span><span class="token punctuation">(</span>Chain_Stack <span class="token operator">*</span>cs<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>cs <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Stack(%d)："</span><span class="token punctuation">,</span> cs<span class="token operator">-></span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> cs<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token punctuation">(</span>cs<span class="token operator">-></span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d->"</span><span class="token punctuation">,</span> p<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>        p <span class="token operator">=</span> p<span class="token operator">-></span>next<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"NULL\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 基础数据结构 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>双向循环链表</title>
      <link href="posts/30dc.html"/>
      <url>posts/30dc.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>栈</title>
      <link href="posts/9199.html"/>
      <url>posts/9199.html</url>
      
        <content type="html"><![CDATA[<h3 id="栈"><a href="#栈" class="headerlink" title="栈"></a>栈</h3><h4 id="性质"><a href="#性质" class="headerlink" title="性质"></a>性质</h4><ul><li>先进后出</li><li>FILO : first in last out</li><li>LIFO : last in first out</li></ul><h4 id="结构定义"><a href="#结构定义" class="headerlink" title="结构定义"></a>结构定义</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Stack <span class="token punctuation">{</span>    <span class="token keyword">int</span> <span class="token operator">*</span>data<span class="token punctuation">;</span>    <span class="token keyword">int</span> size<span class="token punctuation">,</span> top<span class="token punctuation">;</span><span class="token punctuation">}</span> Stack<span class="token punctuation">;</span></code></pre><h4 id="结构操作"><a href="#结构操作" class="headerlink" title="结构操作"></a>结构操作</h4><ul><li>入栈/压栈：</li><li>出栈/弹栈：</li></ul><pre class=" language-c"><code class="language-c">Stack <span class="token operator">*</span><span class="token function">init_Stack</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">top</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">empty</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">expand</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">clear_Stack</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">push</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">pop</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">top</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">output</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Stack <span class="token punctuation">{</span>    <span class="token keyword">int</span> <span class="token operator">*</span>data<span class="token punctuation">;</span>    <span class="token keyword">int</span> size<span class="token punctuation">,</span> top<span class="token punctuation">;</span><span class="token punctuation">}</span> Stack<span class="token punctuation">;</span>Stack <span class="token operator">*</span><span class="token function">init_Stack</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">top</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">empty</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">expand</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">clear_Stack</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">push</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">pop</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">top</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">output</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">srand</span><span class="token punctuation">(</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token macro property">#<span class="token directive keyword">define</span> MAX_N 20</span>    Stack <span class="token operator">*</span>s <span class="token operator">=</span> <span class="token function">init_Stack</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> MAX_N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> op <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">4</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> val <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">;</span>        <span class="token keyword">switch</span> <span class="token punctuation">(</span>op<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">case</span> <span class="token number">0</span> <span class="token punctuation">:</span>            <span class="token keyword">case</span> <span class="token number">1</span> <span class="token punctuation">:</span>            <span class="token keyword">case</span> <span class="token number">2</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"压栈元素：%d, %s\n"</span><span class="token punctuation">,</span> val<span class="token punctuation">,</span> <span class="token function">push</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> val<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"压入成功"</span> <span class="token punctuation">:</span> <span class="token string">"压入失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">break</span><span class="token punctuation">;</span>                        <span class="token keyword">case</span> <span class="token number">3</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">empty</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"弹栈元素：%d, "</span><span class="token punctuation">,</span> <span class="token function">top</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> <span class="token function">pop</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"弹出成功"</span> <span class="token punctuation">:</span> <span class="token string">"弹出失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token function">output</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span>Stack <span class="token operator">*</span><span class="token function">init_Stack</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//初始化 </span>    Stack <span class="token operator">*</span>s <span class="token operator">=</span> <span class="token punctuation">(</span>Stack <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Stack<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    s<span class="token operator">-></span>data <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    s<span class="token operator">-></span>size <span class="token operator">=</span> n<span class="token punctuation">;</span>    s<span class="token operator">-></span>top <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> s<span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">int</span> <span class="token function">top</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span>s<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> s<span class="token operator">-></span>data<span class="token punctuation">[</span>s<span class="token operator">-></span>top<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">empty</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span>s<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> s<span class="token operator">-></span>top <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">expand</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span>s<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> extr_size <span class="token operator">=</span> s<span class="token operator">-></span>size<span class="token punctuation">;</span>    <span class="token keyword">int</span> <span class="token operator">*</span>temp<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>extr_size<span class="token punctuation">)</span> <span class="token punctuation">{</span>        temp <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">realloc</span><span class="token punctuation">(</span>s<span class="token operator">-></span>data<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>s<span class="token operator">-></span>size <span class="token operator">+</span> extr_size<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>temp <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        extr_size <span class="token operator">>>=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>temp <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//    free(s->data);</span>    s<span class="token operator">-></span>data <span class="token operator">=</span> temp<span class="token punctuation">;</span>    s<span class="token operator">-></span>size <span class="token operator">+</span><span class="token operator">=</span> extr_size<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">push</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span>s<span class="token punctuation">,</span> <span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>s <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token operator">-></span>top <span class="token operator">==</span> s<span class="token operator">-></span>size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">expand</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"扩容失败, \n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"扩容成功, 容量：%d\n"</span><span class="token punctuation">,</span> s<span class="token operator">-></span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>    s<span class="token operator">-></span>data<span class="token punctuation">[</span><span class="token operator">++</span><span class="token punctuation">(</span>s<span class="token operator">-></span>top<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">pop</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span>s<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>s <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">empty</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    s<span class="token operator">-></span>top <span class="token operator">-</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">clear_Stack</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span>s<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>s <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>s<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">output</span><span class="token punctuation">(</span>Stack <span class="token operator">*</span>s<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>s <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Stack: ["</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> s<span class="token operator">-></span>top<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        i <span class="token operator">&amp;&amp;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">", "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> s<span class="token operator">-></span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"]\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="栈的应用"><a href="#栈的应用" class="headerlink" title="栈的应用"></a>栈的应用</h4><ul><li>单调栈 ：临近最大（最小）值</li><li>单调队列：区间最大（最小）值</li><li>队列（循环）：树的层序遍历，广度优先搜索（图算法基础）</li><li>栈：树的深度遍历，深度优先搜索（图算法基础）</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> 基础数据结构 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>队列</title>
      <link href="posts/682f.html"/>
      <url>posts/682f.html</url>
      
        <content type="html"><![CDATA[<h3 id="顺序队列"><a href="#顺序队列" class="headerlink" title="顺序队列"></a>顺序队列</h3><ul><li>FIFO : first int first out 先进先出</li><li> LILO: last int last out  后进后出</li><li>线性结构</li><li>需要一片连续存储空间</li><li>队首head, 队尾tail</li><li>先进先出</li><li>队尾入队，队首出队</li></ul><h4 id="结构定义"><a href="#结构定义" class="headerlink" title="结构定义"></a>结构定义</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">//结构定义 </span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Queue<span class="token punctuation">{</span><span class="token comment" spellcheck="true">//普通队列 </span>    <span class="token keyword">int</span> <span class="token operator">*</span>data<span class="token punctuation">;</span>    <span class="token keyword">int</span> head<span class="token punctuation">,</span> tail<span class="token punctuation">,</span> length<span class="token punctuation">;</span><span class="token punctuation">}</span> Queue<span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 队尾 ：tail</span><span class="token comment" spellcheck="true">// 队首 ：head</span><span class="token comment" spellcheck="true">// length队列长度</span><span class="token comment" spellcheck="true">// data_type 元素</span></code></pre><h4 id="结构操作"><a href="#结构操作" class="headerlink" title="结构操作"></a>结构操作</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">// 结构操作 </span>Queue <span class="token operator">*</span><span class="token function">init_Queue</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">clear_Queue</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">push</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">front</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">pop</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">empty</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">output</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </code></pre><h4 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h></span></span><span class="token comment" spellcheck="true">//结构定义 </span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Queue<span class="token punctuation">{</span><span class="token comment" spellcheck="true">//普通队列 </span>    <span class="token keyword">int</span> <span class="token operator">*</span>data<span class="token punctuation">;</span>    <span class="token keyword">int</span> head<span class="token punctuation">,</span> tail<span class="token punctuation">,</span> length<span class="token punctuation">;</span><span class="token punctuation">}</span> Queue<span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 结构操作 </span>Queue <span class="token operator">*</span><span class="token function">init_Queue</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">clear_Queue</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">push</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">front</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">pop</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">empty</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">output</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">srand</span><span class="token punctuation">(</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token macro property">#<span class="token directive keyword">define</span> MAX_N 20</span>    Queue <span class="token operator">*</span>q <span class="token operator">=</span> <span class="token function">init_Queue</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> MAX_N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> val <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> op <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">4</span><span class="token punctuation">;</span>        <span class="token keyword">switch</span> <span class="token punctuation">(</span>op<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">case</span> <span class="token number">0</span> <span class="token punctuation">:</span>            <span class="token keyword">case</span> <span class="token number">1</span> <span class="token punctuation">:</span>            <span class="token keyword">case</span> <span class="token number">2</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"入队 %d， %s\n"</span><span class="token punctuation">,</span> val<span class="token punctuation">,</span> <span class="token function">push</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span> val<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"入队成功"</span> <span class="token punctuation">:</span> <span class="token string">"入队失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> <span class="token number">3</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">empty</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token comment" spellcheck="true">// 为啥要分成两行写？</span>                    <span class="token comment" spellcheck="true">// 跟系统的增长顺序有关，</span>                    <span class="token comment" spellcheck="true">// 现代操作系统栈的增长顺序从高地址向低地址增长； </span>                    <span class="token comment" spellcheck="true">/*                    printf("出队元素:%d, ", front(q));                    printf("%s\n", pop(q) ? "出队成功" : "出队失败");*/</span>                    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s, 出队元素：%d\n"</span><span class="token punctuation">,</span> <span class="token function">pop</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"出队成功"</span> <span class="token punctuation">:</span> <span class="token string">"出队失败"</span><span class="token punctuation">,</span> <span class="token function">front</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                    <span class="token punctuation">}</span>            <span class="token punctuation">}</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token function">output</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token macro property">#<span class="token directive keyword">undef</span> MAX_N </span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span>Queue <span class="token operator">*</span><span class="token function">init_Queue</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    Queue <span class="token operator">*</span>q <span class="token operator">=</span> <span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Queue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    q<span class="token operator">-></span>data <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>    q<span class="token operator">-></span>length <span class="token operator">=</span> n<span class="token punctuation">;</span>    q<span class="token operator">-></span>head <span class="token operator">=</span> q<span class="token operator">-></span>tail <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> q<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">clear_Queue</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>q<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">int</span> <span class="token function">empty</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment" spellcheck="true">//判断队列是否为空 </span>    <span class="token keyword">return</span> q<span class="token operator">-></span>head <span class="token operator">==</span> q<span class="token operator">-></span>tail<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//为空返回1 </span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">front</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//打印队首元素 </span>    <span class="token keyword">return</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span>q<span class="token operator">-></span>head<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">push</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span>q<span class="token punctuation">,</span> <span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//队列不存在 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q<span class="token operator">-></span>tail <span class="token operator">==</span> q<span class="token operator">-></span>length<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//队列满了</span>    q<span class="token operator">-></span>data<span class="token punctuation">[</span>q<span class="token operator">-></span>tail<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">pop</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment" spellcheck="true">//出队操作 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">empty</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//队列为空 </span>    q<span class="token operator">-></span>head <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>     <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">output</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Queue: ["</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> q<span class="token operator">-></span>head<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> q<span class="token operator">-></span>tail<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        i <span class="token operator">!=</span> q<span class="token operator">-></span>head <span class="token operator">&amp;&amp;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">", "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"]\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="循环队列"><a href="#循环队列" class="headerlink" title="循环队列"></a>循环队列</h3><ul><li>解决队列假溢出</li></ul><h4 id="结构定义-1"><a href="#结构定义-1" class="headerlink" title="结构定义"></a>结构定义</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">//结构定义 </span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Queue<span class="token punctuation">{</span><span class="token comment" spellcheck="true">//循环队列 </span>    <span class="token keyword">int</span> <span class="token operator">*</span>data<span class="token punctuation">;</span>    <span class="token keyword">int</span> head<span class="token punctuation">,</span> tail<span class="token punctuation">,</span> length<span class="token punctuation">,</span> count<span class="token punctuation">;</span><span class="token punctuation">}</span> Queue<span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 队尾 ：tail</span><span class="token comment" spellcheck="true">// 队首 ：head</span><span class="token comment" spellcheck="true">// count 元素个数</span><span class="token comment" spellcheck="true">// length队列长度</span><span class="token comment" spellcheck="true">// data_type 元素</span></code></pre><h4 id="结构操作-1"><a href="#结构操作-1" class="headerlink" title="结构操作"></a>结构操作</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">// 结构操作 </span>Queue <span class="token operator">*</span><span class="token function">init_Queue</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">clear_Queue</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">push</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">front</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">pop</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">empty</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">output</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">int</span> <span class="token function">expand</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h4 id="扩容操作"><a href="#扩容操作" class="headerlink" title="扩容操作"></a>扩容操作</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">int</span> <span class="token function">expand</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//不能用realloc();可能导致数据错乱</span>    <span class="token keyword">int</span> extr_size <span class="token operator">=</span> q<span class="token operator">-></span>length<span class="token punctuation">;</span>    <span class="token keyword">int</span> <span class="token operator">*</span>temp<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>extr_size<span class="token punctuation">)</span> <span class="token punctuation">{</span>        temp <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>q<span class="token operator">-></span>length <span class="token operator">+</span> extr_size<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>temp<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        extr_size <span class="token operator">>>=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>     <span class="token keyword">if</span> <span class="token punctuation">(</span>temp <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> q<span class="token operator">-></span>head<span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> q<span class="token operator">-></span>count<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        temp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span><span class="token punctuation">(</span>j <span class="token operator">+</span> i<span class="token punctuation">)</span> <span class="token operator">%</span> q<span class="token operator">-></span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">free</span><span class="token punctuation">(</span>q<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    q<span class="token operator">-></span>data <span class="token operator">=</span> temp<span class="token punctuation">;</span>    q<span class="token operator">-></span>head <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> q<span class="token operator">-></span>tail <span class="token operator">=</span> q<span class="token operator">-></span>count<span class="token punctuation">;</span>    q<span class="token operator">-></span>length <span class="token operator">+</span><span class="token operator">=</span> extr_size<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="测试-1"><a href="#测试-1" class="headerlink" title="测试"></a>测试</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h></span></span><span class="token comment" spellcheck="true">//结构定义 </span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Queue<span class="token punctuation">{</span><span class="token comment" spellcheck="true">//循环队列 </span>    <span class="token keyword">int</span> <span class="token operator">*</span>data<span class="token punctuation">;</span>    <span class="token keyword">int</span> head<span class="token punctuation">,</span> tail<span class="token punctuation">,</span> length<span class="token punctuation">,</span> count<span class="token punctuation">;</span><span class="token punctuation">}</span> Queue<span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 队尾 ：tail</span><span class="token comment" spellcheck="true">// 队首 ：head</span><span class="token comment" spellcheck="true">// count 元素个数</span><span class="token comment" spellcheck="true">// length队列长度</span><span class="token comment" spellcheck="true">// data_type 元素</span><span class="token comment" spellcheck="true">// 结构操作 </span>Queue <span class="token operator">*</span><span class="token function">init_Queue</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">clear_Queue</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">push</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">front</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">pop</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">empty</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">output</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">int</span> <span class="token function">expand</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">srand</span><span class="token punctuation">(</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token macro property">#<span class="token directive keyword">define</span> MAX_N 30</span>    Queue <span class="token operator">*</span>q <span class="token operator">=</span> <span class="token function">init_Queue</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> MAX_N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> val <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> op <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">4</span><span class="token punctuation">;</span>        <span class="token keyword">switch</span> <span class="token punctuation">(</span>op<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">case</span> <span class="token number">0</span> <span class="token punctuation">:</span>            <span class="token keyword">case</span> <span class="token number">1</span> <span class="token punctuation">:</span>            <span class="token keyword">case</span> <span class="token number">2</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"入队 %d， %s\n"</span><span class="token punctuation">,</span> val<span class="token punctuation">,</span> <span class="token function">push</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span> val<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"入队成功"</span> <span class="token punctuation">:</span> <span class="token string">"入队失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> <span class="token number">3</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">empty</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"出队元素:%d, "</span><span class="token punctuation">,</span> <span class="token function">front</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> <span class="token function">pop</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"出队成功"</span> <span class="token punctuation">:</span> <span class="token string">"出队失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token function">output</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token macro property">#<span class="token directive keyword">undef</span> MAX_N </span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span>Queue <span class="token operator">*</span><span class="token function">init_Queue</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    Queue <span class="token operator">*</span>q <span class="token operator">=</span> <span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Queue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    q<span class="token operator">-></span>data <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>    q<span class="token operator">-></span>length <span class="token operator">=</span> n<span class="token punctuation">;</span>    q<span class="token operator">-></span>head <span class="token operator">=</span> q<span class="token operator">-></span>tail <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    q<span class="token operator">-></span>count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> q<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">clear_Queue</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>q<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">int</span> <span class="token function">empty</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment" spellcheck="true">//判断队列是否为空 </span>    <span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span>q<span class="token operator">-></span>count<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//为空返回1 </span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">front</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//打印队首元素 </span>    <span class="token keyword">return</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span>q<span class="token operator">-></span>head<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">push</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span>q<span class="token punctuation">,</span> <span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//队列不存在 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q<span class="token operator">-></span>count <span class="token operator">==</span> q<span class="token operator">-></span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">expand</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"扩容失败 !\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"扩容成功，容量：%d\n"</span><span class="token punctuation">,</span> q<span class="token operator">-></span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token comment" spellcheck="true">//队列满了</span>    q<span class="token operator">-></span>data<span class="token punctuation">[</span>q<span class="token operator">-></span>tail<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">;</span>    q<span class="token operator">-></span>tail <span class="token operator">%</span><span class="token operator">=</span> q<span class="token operator">-></span>length<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//if (q->tail == q->length) q->tail = 0;</span>    q<span class="token operator">-></span>count <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">pop</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment" spellcheck="true">//出队操作 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">empty</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//队列为空 </span>    q<span class="token operator">-></span>head <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    q<span class="token operator">-></span>head <span class="token operator">%</span><span class="token operator">=</span> q<span class="token operator">-></span>length<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//if (q->head == q->length) q->head = 0;</span>    q<span class="token operator">-></span>count <span class="token operator">-</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">output</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment" spellcheck="true">//    printf("队列长度：%d\nQueue: [", q->count);</span><span class="token comment" spellcheck="true">//    int n = q->count, i = q->head;</span><span class="token comment" spellcheck="true">//    while (n--) {</span><span class="token comment" spellcheck="true">//        printf("%d", q->data[i++]);</span><span class="token comment" spellcheck="true">//        i %= q->length;</span><span class="token comment" spellcheck="true">//        n &amp;&amp; printf(", ");</span><span class="token comment" spellcheck="true">//    }</span><span class="token comment" spellcheck="true">//    printf("]\n");</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"队列长度：%d\nQueue: ["</span><span class="token punctuation">,</span> q<span class="token operator">-></span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> q<span class="token operator">-></span>head<span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> q<span class="token operator">-></span>count<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        j <span class="token operator">&amp;&amp;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">", "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span><span class="token punctuation">(</span>j <span class="token operator">+</span> i<span class="token punctuation">)</span> <span class="token operator">%</span> q<span class="token operator">-></span>length<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"]\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">expand</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//不能用realloc();可能导致数据错乱</span>    <span class="token keyword">int</span> extr_size <span class="token operator">=</span> q<span class="token operator">-></span>length<span class="token punctuation">;</span>    <span class="token keyword">int</span> <span class="token operator">*</span>temp<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>extr_size<span class="token punctuation">)</span> <span class="token punctuation">{</span>        temp <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>q<span class="token operator">-></span>length <span class="token operator">+</span> extr_size<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>temp<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        extr_size <span class="token operator">>>=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>     <span class="token keyword">if</span> <span class="token punctuation">(</span>temp <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//    for (int i = q->head, j = 0; j &lt; q->count; j++) {</span><span class="token comment" spellcheck="true">//        temp[j] = q->data[(j + i) % q->length];</span><span class="token comment" spellcheck="true">//    }</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> q<span class="token operator">-></span>count<span class="token punctuation">,</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        temp<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> q<span class="token operator">-></span>data<span class="token punctuation">[</span>q<span class="token operator">-></span>head<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        q<span class="token operator">-></span>head <span class="token operator">%</span><span class="token operator">=</span> q<span class="token operator">-></span>length<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">free</span><span class="token punctuation">(</span>q<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    q<span class="token operator">-></span>data <span class="token operator">=</span> temp<span class="token punctuation">;</span>    q<span class="token operator">-></span>head <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> q<span class="token operator">-></span>tail <span class="token operator">=</span> q<span class="token operator">-></span>count<span class="token punctuation">;</span>    q<span class="token operator">-></span>length <span class="token operator">+</span><span class="token operator">=</span> extr_size<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="链队列"><a href="#链队列" class="headerlink" title="链队列"></a>链队列</h3><ul><li>链表实现的队列</li><li>空间消耗大</li></ul><h4 id="结构定义-2"><a href="#结构定义-2" class="headerlink" title="结构定义"></a>结构定义</h4><pre class=" language-C"><code class="language-C">//结构定义 typedef struct Node { //节点定义     int data;    struct Node *next;} Node;typedef struct Queue {    int length; //链队列长度     Node head; //虚拟队列头节点，存储队列第一个节点     Node *tail; //尾指针 } Queue;</code></pre><h4 id="说明一下"><a href="#说明一下" class="headerlink" title="说明一下"></a>说明一下</h4><ul><li><p>定义虚拟头节点head，初始化一定得开辟head空间</p></li><li><p>初始化操作init_Queue(Queue *) 中，必须有一下代码，不然q-&gt;tail-&gt;next = node;这行不执行，调试时候会报错。</p><pre><code>q-&gt;head = *(Node *)malloc(sizeof(Node));q-&gt;tail = &amp;(q-&gt;head); </code></pre></li></ul><h4 id="结构操作-2"><a href="#结构操作-2" class="headerlink" title="结构操作"></a>结构操作</h4><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">// 结构操作 </span>Queue <span class="token operator">*</span><span class="token function">init_Queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 队列初始化 </span>Node <span class="token operator">*</span><span class="token function">getnewNode</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 封装val为节点 </span><span class="token keyword">int</span> <span class="token function">front</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 打印队首元素不删除 </span><span class="token keyword">int</span> <span class="token function">pop</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//队首弹出元素 </span><span class="token keyword">int</span> <span class="token function">push</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 队尾压入元素 </span><span class="token keyword">int</span> <span class="token function">empty</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 判断队列是否为空 </span><span class="token keyword">void</span> <span class="token function">output</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//输出链队列 </span><span class="token keyword">void</span> <span class="token function">clear_Queue</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//队列销毁</span><span class="token keyword">void</span> <span class="token function">clear_Node</span><span class="token punctuation">(</span>Node <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//节点销毁 </span></code></pre><h4 id="测试-2"><a href="#测试-2" class="headerlink" title="测试"></a>测试</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token comment" spellcheck="true">//结构定义 </span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Node <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//节点定义 </span>    <span class="token keyword">int</span> data<span class="token punctuation">;</span>    <span class="token keyword">struct</span> Node <span class="token operator">*</span>next<span class="token punctuation">;</span><span class="token punctuation">}</span> Node<span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Queue <span class="token punctuation">{</span>    <span class="token keyword">int</span> length<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//链队列长度 </span>    Node head<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//虚拟队列头节点，存储队列第一个节点 </span>    Node <span class="token operator">*</span>tail<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//尾指针 </span><span class="token punctuation">}</span> Queue<span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 结构操作 </span>Queue <span class="token operator">*</span><span class="token function">init_Queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 队列初始化 </span>Node <span class="token operator">*</span><span class="token function">getnewNode</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 封装val为节点 </span><span class="token keyword">int</span> <span class="token function">front</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 打印队首元素不删除 </span><span class="token keyword">int</span> <span class="token function">pop</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//队首弹出元素 </span><span class="token keyword">int</span> <span class="token function">push</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 队尾压入元素 </span><span class="token keyword">int</span> <span class="token function">empty</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 判断队列是否为空 </span><span class="token keyword">void</span> <span class="token function">output</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//输出链队列 </span><span class="token keyword">void</span> <span class="token function">clear_Queue</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//队列销毁</span><span class="token keyword">void</span> <span class="token function">clear_Node</span><span class="token punctuation">(</span>Node <span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//节点销毁 </span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">srand</span><span class="token punctuation">(</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token macro property">#<span class="token directive keyword">define</span> MAX_N 2000</span>    Queue <span class="token operator">*</span>q <span class="token operator">=</span> <span class="token function">init_Queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> MAX_N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"i = %d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> op <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">4</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> val <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">;</span>        <span class="token keyword">switch</span> <span class="token punctuation">(</span>op<span class="token punctuation">)</span> <span class="token punctuation">{</span>                        <span class="token keyword">case</span> <span class="token number">0</span> <span class="token punctuation">:</span>            <span class="token keyword">case</span> <span class="token number">2</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"插入元素：%d, %s\n"</span><span class="token punctuation">,</span> val<span class="token punctuation">,</span> <span class="token function">push</span><span class="token punctuation">(</span>q<span class="token punctuation">,</span> val<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"插入成功"</span> <span class="token punctuation">:</span> <span class="token string">"插入失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">break</span><span class="token punctuation">;</span>                        <span class="token keyword">case</span> <span class="token number">1</span> <span class="token punctuation">:</span>            <span class="token keyword">case</span> <span class="token number">3</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">empty</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token comment" spellcheck="true">//printf("删除元素：%d, %s\n", front(q), pop(q) ? "成功" : "失败"); </span>                    <span class="token comment" spellcheck="true">//也可以这么写 </span>                    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"删除元素：%d，"</span><span class="token punctuation">,</span> <span class="token function">front</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> <span class="token function">pop</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"删除成功"</span> <span class="token punctuation">:</span> <span class="token string">"删除失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"队列为空\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token function">output</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token macro property">#<span class="token directive keyword">undef</span> MAX_N</span>    <span class="token function">clear_Queue</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span>Node <span class="token operator">*</span><span class="token function">getnewNode</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//封装val为节点 </span>    Node <span class="token operator">*</span>node <span class="token operator">=</span> <span class="token punctuation">(</span>Node <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    node<span class="token operator">-></span>data <span class="token operator">=</span> val<span class="token punctuation">;</span>    node<span class="token operator">-></span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> node<span class="token punctuation">;</span><span class="token punctuation">}</span>Queue <span class="token operator">*</span><span class="token function">init_Queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// 队列初始化 </span>    Queue <span class="token operator">*</span>q <span class="token operator">=</span> <span class="token punctuation">(</span>Queue <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Queue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    q<span class="token operator">-></span>head <span class="token operator">=</span> <span class="token operator">*</span><span class="token punctuation">(</span>Node <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">/*使其指向虚拟头节点 ，这步很重要，    找了很久才知道这里错了，没写这步的时候一直错，    还不知道哪里错     */</span>     q<span class="token operator">-></span>tail <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>q<span class="token operator">-></span>head<span class="token punctuation">)</span><span class="token punctuation">;</span>         q<span class="token operator">-></span>head<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    q<span class="token operator">-></span>length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> q<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">front</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> q<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token operator">-></span>data<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">push</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span>q<span class="token punctuation">,</span> <span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//从队尾压入元素 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    Node <span class="token operator">*</span>node <span class="token operator">=</span> <span class="token function">getnewNode</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>    q<span class="token operator">-></span>tail<span class="token operator">-></span>next <span class="token operator">=</span> node<span class="token punctuation">;</span>    q<span class="token operator">-></span>tail <span class="token operator">=</span> node<span class="token punctuation">;</span>    q<span class="token operator">-></span>length <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">pop</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//弹出队首元素 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">empty</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>     Node <span class="token operator">*</span>p <span class="token operator">=</span> q<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//保存队首 </span>    q<span class="token operator">-></span>head<span class="token punctuation">.</span>next <span class="token operator">=</span> p<span class="token operator">-></span>next<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//  head保存队首位置 </span>    q<span class="token operator">-></span>length <span class="token operator">-</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token function">clear_Node</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//销毁队头元素 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>q<span class="token operator">-></span>length<span class="token punctuation">)</span><span class="token punctuation">)</span> q<span class="token operator">-></span>tail <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>q<span class="token operator">-></span>head<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">empty</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span>q<span class="token operator">-></span>length<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">clear_Node</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>node <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">clear_Queue</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> q<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">,</span> <span class="token operator">*</span>qq<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token punctuation">{</span>        qq <span class="token operator">=</span> p<span class="token operator">-></span>next<span class="token punctuation">;</span>        <span class="token function">clear_Node</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>        p <span class="token operator">=</span> qq<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">free</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token punctuation">(</span>q<span class="token operator">-></span>head<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">output</span><span class="token punctuation">(</span>Queue <span class="token operator">*</span>q<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>q <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"队列长度：%d\n"</span><span class="token punctuation">,</span> q<span class="token operator">-></span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token keyword">int</span> n <span class="token operator">=</span> q<span class="token operator">-></span>length<span class="token punctuation">;</span>    Node <span class="token operator">*</span>node <span class="token operator">=</span> q<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">;</span>     <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Queue：["</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> node<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>        n <span class="token operator">&amp;&amp;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">", "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        node <span class="token operator">=</span> node<span class="token operator">-></span>next<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"]\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span> </code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 基础数据结构 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>判断一个整数是否为2的幂</title>
      <link href="posts/98f5.html"/>
      <url>posts/98f5.html</url>
      
        <content type="html"><![CDATA[<ul><li>也许你会想到不断将这个数除以2</li><li>本次方法利用二进制的巧妙之处</li><li>一个不为0的十进制数的二进制数有且只有一个1，所以若该数是二进制数，那么它减1与本身进行按位与（&amp;）运算结果为0</li></ul><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">define</span> is_power_of_2(n) ((n) &amp;&amp; !((n) &amp; (n - 1)))</span></code></pre><ul><li>测试</li></ul><pre class=" language-C"><code class="language-C">#include <stdio.h>#define is_power_of_2(n) ((n) && !((n) & (n - 1)))int main() {    for (int i = 1; i <= 1 << 20; i++) {        is_power_of_2(i) && printf("%d\n", i);    }    return 0;}</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> c语言的奇淫技巧 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git常用操作</title>
      <link href="posts/82cd.html"/>
      <url>posts/82cd.html</url>
      
        <content type="html"><![CDATA[<p>1、</p><h3 id="一、建立本地仓库"><a href="#一、建立本地仓库" class="headerlink" title="一、建立本地仓库"></a>一、建立本地仓库</h3><pre><code>git clone 复制的仓库地址</code></pre><h3 id="二、上传本地资源"><a href="#二、上传本地资源" class="headerlink" title="二、上传本地资源"></a>二、上传本地资源</h3><pre><code>git status     //查看状态git add 文件名字  //添加所有文件到暂存区git commit -m '第几次提交'      //把文件提交到仓库,添加描述git push      //推送至远程仓库</code></pre><h3 id="三、发布最新仓库"><a href="#三、发布最新仓库" class="headerlink" title="三、发布最新仓库"></a>三、发布最新仓库</h3><h3 id="四、文章发布"><a href="#四、文章发布" class="headerlink" title="四、文章发布"></a>四、文章发布</h3><pre><code>hexo new 我的第一篇文章; 等价于:hexo new post 我的第一篇文章;产生的作用就是: 在source/_posts路径下生成 “我的第一篇文章.md”文件,这个就是你要写文章的那个文件.</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>19删除节点</title>
      <link href="posts/2033.html"/>
      <url>posts/2033.html</url>
      
        <content type="html"><![CDATA[<h3 id="双指针法"><a href="#双指针法" class="headerlink" title="双指针法"></a>双指针法</h3><pre class=" language-c"><code class="language-c"><span class="token keyword">struct</span> ListNode <span class="token punctuation">{</span>    <span class="token keyword">int</span> val<span class="token punctuation">;</span>    <span class="token keyword">struct</span> ListNode <span class="token operator">*</span>next<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//双指针法</span><span class="token keyword">struct</span> ListNode<span class="token operator">*</span> <span class="token function">removeNthFromEnd</span><span class="token punctuation">(</span><span class="token keyword">struct</span> ListNode<span class="token operator">*</span> head<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//建立虚拟头指针</span>    <span class="token keyword">struct</span> ListNode <span class="token operator">*</span>cur <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">struct</span> ListNode <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">struct</span> ListNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cur<span class="token operator">-></span>next <span class="token operator">=</span> head<span class="token punctuation">,</span> cur<span class="token operator">-></span>val <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">struct</span> ListNode<span class="token operator">*</span> first<span class="token punctuation">,</span> <span class="token operator">*</span> second<span class="token punctuation">;</span>    first <span class="token operator">=</span> head<span class="token punctuation">,</span> second <span class="token operator">=</span> cur<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> first <span class="token operator">=</span> first<span class="token operator">-></span>next<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//走n步</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>first<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//同步走，使second指向想删除的节点的前一个节点</span>        first <span class="token operator">=</span> first<span class="token operator">-></span>next<span class="token punctuation">;</span>        second <span class="token operator">=</span> second<span class="token operator">-></span>next<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    second<span class="token operator">-></span>next <span class="token operator">=</span> second<span class="token operator">-></span>next<span class="token operator">-></span>next<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//使想删除的节点的前一个节点指向想删除的节点的后一个节点</span>    first <span class="token operator">=</span> cur<span class="token operator">-></span>next<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//重新指向链表头节点</span>    <span class="token function">free</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//释放内存</span>    <span class="token keyword">return</span> first<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="暴力法"><a href="#暴力法" class="headerlink" title="暴力法"></a>暴力法</h3><pre class=" language-c"><code class="language-c"><span class="token keyword">struct</span> ListNode <span class="token punctuation">{</span>    <span class="token keyword">int</span> val<span class="token punctuation">;</span>    <span class="token keyword">struct</span> ListNode <span class="token operator">*</span>next<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">struct</span> ListNode<span class="token operator">*</span> <span class="token function">removeNthFromEnd</span><span class="token punctuation">(</span><span class="token keyword">struct</span> ListNode<span class="token operator">*</span> head<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> l <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//定义虚拟头节点</span>    <span class="token keyword">struct</span> ListNode <span class="token operator">*</span>cur <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">struct</span> ListNode <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">struct</span> ListNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cur<span class="token operator">-></span>next <span class="token operator">=</span> head<span class="token punctuation">,</span> cur<span class="token operator">-></span>val <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">struct</span> ListNode <span class="token operator">*</span>p <span class="token operator">=</span> head<span class="token punctuation">,</span> <span class="token operator">*</span>q<span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//计算链表长度</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>p<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token operator">++</span>l<span class="token punctuation">;</span>        p <span class="token operator">=</span> p<span class="token operator">-></span>next<span class="token punctuation">;</span>    <span class="token punctuation">}</span>        p <span class="token operator">=</span> head<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//是指针重新指向头节点</span>    <span class="token comment" spellcheck="true">//使指针走到想删除节点的前一节点</span>    <span class="token keyword">int</span> k <span class="token operator">=</span> l <span class="token operator">-</span> n<span class="token punctuation">;</span>     p <span class="token operator">=</span> cur<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>k<span class="token operator">--</span><span class="token punctuation">)</span> p <span class="token operator">=</span> p<span class="token operator">-></span>next<span class="token punctuation">;</span>        q <span class="token operator">=</span> p<span class="token operator">-></span>next<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//指向想删除的节点</span>    p<span class="token operator">-></span>next <span class="token operator">=</span> q<span class="token operator">-></span>next<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//使想删除的节点的前一个节点指向想删除的节点的后一个节点</span>    q <span class="token operator">=</span> cur<span class="token operator">-></span>next<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//重新指向链表头节点</span>    <span class="token function">free</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//释放内存</span>    <span class="token keyword">return</span> q<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="利用栈"><a href="#利用栈" class="headerlink" title="利用栈"></a>利用栈</h3><p>栈的性质：先进后出。</p><pre class=" language-c++"><code class="language-c++">struct ListNode {    int val;    ListNode *next;     ListNode() : val(0), next(nullptr) {}    ListNode(int x) : val(x), next(nullptr) {}    ListNode(int x, ListNode *next) : val(x), next(next) {}};class Solution {public:    ListNode* removeNthFromEnd(ListNode* head, int n) {        stack<ListNode* > s;        ListNode* cur = new ListNode(0, head);        ListNode* p = cur;        while (p) { //将全部节点地址压入栈中            s.push(p);            p = p->next;        }        while(n--) s.pop(); //删除到栈顶元素为想删除的节点的前一个节点        p = (s.top()); 取栈顶元素        p->next = p->next->next; //使想删除的节点的前一个节点指向想删除的节点的后一个节点        p = cur->next;        delete cur;        return p;    }};</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 力扣题解 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>链表</title>
      <link href="posts/d64e.html"/>
      <url>posts/d64e.html</url>
      
        <content type="html"><![CDATA[<h4 id="指针"><a href="#指针" class="headerlink" title="指针"></a>指针</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Node<span class="token punctuation">{</span>    <span class="token keyword">int</span> data<span class="token punctuation">;</span>    <span class="token keyword">struct</span> Node <span class="token operator">*</span>next<span class="token punctuation">;</span><span class="token punctuation">}</span>Node<span class="token punctuation">,</span> <span class="token operator">*</span>LinkedList<span class="token punctuation">;</span>LinkedList <span class="token function">insert</span><span class="token punctuation">(</span>LinkedList head<span class="token punctuation">,</span> Node <span class="token operator">*</span>node<span class="token punctuation">,</span> <span class="token keyword">int</span> index<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>head <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> head<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        head <span class="token operator">=</span> node<span class="token punctuation">;</span>        <span class="token keyword">return</span> head<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        node<span class="token operator">-></span>next <span class="token operator">=</span> head<span class="token punctuation">;</span>        head <span class="token operator">=</span> node<span class="token punctuation">;</span>        <span class="token keyword">return</span> head<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    Node <span class="token operator">*</span>current_node <span class="token operator">=</span> head<span class="token punctuation">;</span>    <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>current_node<span class="token operator">-></span>next <span class="token operator">!=</span> <span class="token constant">NULL</span> <span class="token operator">&amp;&amp;</span> count <span class="token operator">&lt;</span> index <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        current_node <span class="token operator">=</span> current_node<span class="token operator">-></span>next<span class="token punctuation">;</span>        count<span class="token operator">++</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">==</span> index <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        node<span class="token operator">-></span>next <span class="token operator">=</span> current_node<span class="token operator">-></span>next<span class="token punctuation">;</span>        current_node<span class="token operator">-></span>next <span class="token operator">=</span> node<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> head<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">output</span><span class="token punctuation">(</span>LinkedList head<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>head <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    Node <span class="token operator">*</span>current_node <span class="token operator">=</span> head<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>current_node <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> current_node<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>        current_node <span class="token operator">=</span> current_node<span class="token operator">-></span>next<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>LinkedList <span class="token function">delete_node</span><span class="token punctuation">(</span>LinkedList head<span class="token punctuation">,</span> <span class="token keyword">int</span> index<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>head <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> head<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    Node <span class="token operator">*</span>current_node <span class="token operator">=</span> head<span class="token punctuation">;</span>    <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        head <span class="token operator">=</span> head<span class="token operator">-></span>next<span class="token punctuation">;</span>        <span class="token function">free</span><span class="token punctuation">(</span>current_node<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> head<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>current_node<span class="token operator">-></span>next <span class="token operator">!=</span> <span class="token constant">NULL</span> <span class="token operator">&amp;&amp;</span> count <span class="token operator">&lt;</span> index <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        current_node <span class="token operator">=</span> current_node<span class="token operator">-></span>next<span class="token punctuation">;</span>        count<span class="token operator">++</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">==</span> index <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> current_node<span class="token operator">-></span>next <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        Node <span class="token operator">*</span>delete_node <span class="token operator">=</span> current_node<span class="token operator">-></span>next<span class="token punctuation">;</span>        current_node<span class="token operator">-></span>next <span class="token operator">=</span> delete_node<span class="token operator">-></span>next<span class="token punctuation">;</span>        <span class="token function">free</span><span class="token punctuation">(</span>delete_node<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> head<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//下面实现链表的反转函数 reverse</span>LinkedList <span class="token function">reverse</span><span class="token punctuation">(</span>LinkedList head<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>head <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> head<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    Node <span class="token operator">*</span>next_node<span class="token punctuation">,</span> <span class="token operator">*</span>current_node<span class="token punctuation">;</span>    current_node <span class="token operator">=</span> head<span class="token operator">-></span>next<span class="token punctuation">;</span>    head<span class="token operator">-></span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>current_node <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        next_node <span class="token operator">=</span> current_node<span class="token operator">-></span>next<span class="token punctuation">;</span>        current_node<span class="token operator">-></span>next <span class="token operator">=</span> head<span class="token punctuation">;</span>        head <span class="token operator">=</span> current_node<span class="token punctuation">;</span>        current_node <span class="token operator">=</span> next_node<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> head<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">clear</span><span class="token punctuation">(</span>LinkedList head<span class="token punctuation">)</span> <span class="token punctuation">{</span>    Node <span class="token operator">*</span>current_node <span class="token operator">=</span> head<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>current_node <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        Node <span class="token operator">*</span>delete_node <span class="token operator">=</span> current_node<span class="token punctuation">;</span>        current_node <span class="token operator">=</span> current_node<span class="token operator">-></span>next<span class="token punctuation">;</span>        <span class="token function">free</span><span class="token punctuation">(</span>delete_node<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    LinkedList linkedlist <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        Node <span class="token operator">*</span>node <span class="token operator">=</span> <span class="token punctuation">(</span>Node <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        node<span class="token operator">-></span>data <span class="token operator">=</span> i<span class="token punctuation">;</span>        node<span class="token operator">-></span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>        linkedlist <span class="token operator">=</span> <span class="token function">insert</span><span class="token punctuation">(</span>linkedlist<span class="token punctuation">,</span> node<span class="token punctuation">,</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">output</span><span class="token punctuation">(</span>linkedlist<span class="token punctuation">)</span><span class="token punctuation">;</span>    linkedlist <span class="token operator">=</span> <span class="token function">delete_node</span><span class="token punctuation">(</span>linkedlist<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">output</span><span class="token punctuation">(</span>linkedlist<span class="token punctuation">)</span><span class="token punctuation">;</span>        linkedlist <span class="token operator">=</span> <span class="token function">reverse</span><span class="token punctuation">(</span>linkedlist<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">output</span><span class="token punctuation">(</span>linkedlist<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">clear</span><span class="token punctuation">(</span>linkedlist<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="虚拟头节点"><a href="#虚拟头节点" class="headerlink" title="虚拟头节点"></a>虚拟头节点</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;malloc.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h></span></span><span class="token comment" spellcheck="true">//结构定义</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Node <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//节点 </span>    <span class="token keyword">int</span> data<span class="token punctuation">;</span>    <span class="token keyword">struct</span> Node <span class="token operator">*</span>next<span class="token punctuation">;</span><span class="token punctuation">}</span> Node<span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> List <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//链表</span>    Node head<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//定义虚拟头节点</span>    <span class="token keyword">int</span> length<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//当前链表的长度</span><span class="token punctuation">}</span> List<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//链表范围[0, length) </span><span class="token comment" spellcheck="true">//结构操作 </span>Node <span class="token operator">*</span><span class="token function">getnewNode</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//节点初始化 </span>    <span class="token comment" spellcheck="true">//将待插入的val封装为节点 </span>    Node <span class="token operator">*</span>node <span class="token operator">=</span> <span class="token punctuation">(</span>Node <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    node<span class="token operator">-></span>data <span class="token operator">=</span> val<span class="token punctuation">;</span>    node<span class="token operator">-></span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>     <span class="token keyword">return</span> node<span class="token punctuation">;</span><span class="token punctuation">}</span>List <span class="token operator">*</span><span class="token function">init_List</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//链表初始化 </span>    List <span class="token operator">*</span>l <span class="token operator">=</span> <span class="token punctuation">(</span>List <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>List<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    l<span class="token operator">-></span>head<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    l<span class="token operator">-></span>length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> l<span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">int</span> <span class="token function">insert</span><span class="token punctuation">(</span>List <span class="token operator">*</span>l<span class="token punctuation">,</span> <span class="token keyword">int</span> ind<span class="token punctuation">,</span> <span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>l<span class="token operator">-></span>length <span class="token operator">&lt;</span> ind <span class="token operator">||</span> ind <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>l<span class="token operator">-></span>head<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">*</span>node <span class="token operator">=</span> <span class="token function">getnewNode</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ind<span class="token operator">--</span><span class="token punctuation">)</span> p <span class="token operator">=</span> p<span class="token operator">-></span>next<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//找到想插入的节点的前一个节点；</span>    node<span class="token operator">-></span>next <span class="token operator">=</span> p<span class="token operator">-></span>next<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//使待插入节点的next存入待插入节点下一个节点的地址 </span>    p<span class="token operator">-></span>next <span class="token operator">=</span> node<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//使待插入节点上一个节点的next存入待插入节点的地址</span>    l<span class="token operator">-></span>length <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">clear_Node</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//节点销毁 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>node <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">erase</span><span class="token punctuation">(</span>List <span class="token operator">*</span>l<span class="token punctuation">,</span> <span class="token keyword">int</span> ind<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//删除节点 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ind <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> ind <span class="token operator">>=</span> l<span class="token operator">-></span>length<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>l<span class="token operator">-></span>head<span class="token punctuation">)</span><span class="token punctuation">;</span>    Node <span class="token operator">*</span>q<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ind<span class="token operator">--</span><span class="token punctuation">)</span> p <span class="token operator">=</span> p<span class="token operator">-></span>next<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//走到待删除节点的前一个位置 </span>    q <span class="token operator">=</span> p<span class="token operator">-></span>next<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//q指向待删除节点 </span>    p<span class="token operator">-></span>next <span class="token operator">=</span> q<span class="token operator">-></span>next<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 使待删除节点前一个节点指向待删除节点后一个节点； </span>    <span class="token function">clear_Node</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>    l<span class="token operator">-></span>length <span class="token operator">-</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">clear_list</span><span class="token punctuation">(</span>List <span class="token operator">*</span>l<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//链表销毁 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> l<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">,</span> <span class="token operator">*</span>q<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        q <span class="token operator">=</span> p<span class="token operator">-></span>next<span class="token punctuation">;</span>        <span class="token function">clear_Node</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>        p <span class="token operator">=</span> q<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">free</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">output</span><span class="token punctuation">(</span>List <span class="token operator">*</span>l<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"链表长度%d\n"</span><span class="token punctuation">,</span> l<span class="token operator">-></span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>Node <span class="token operator">*</span>p <span class="token operator">=</span> l<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">;</span> p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span> p <span class="token operator">=</span> p<span class="token operator">-></span>next<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d->"</span><span class="token punctuation">,</span> p<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"NULL\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">void</span> <span class="token function">reverse</span><span class="token punctuation">(</span>List <span class="token operator">*</span>l<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//原地翻转 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> l<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">,</span> <span class="token operator">*</span>q<span class="token punctuation">;</span>    l<span class="token operator">-></span>head<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        q <span class="token operator">=</span> p<span class="token operator">-></span>next<span class="token punctuation">;</span>        p<span class="token operator">-></span>next <span class="token operator">=</span> l<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">;</span>        l<span class="token operator">-></span>head<span class="token punctuation">.</span>next <span class="token operator">=</span> p<span class="token punctuation">;</span>        p <span class="token operator">=</span> q<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">srand</span><span class="token punctuation">(</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    List <span class="token operator">*</span>l <span class="token operator">=</span> <span class="token function">init_List</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token macro property">#<span class="token directive keyword">define</span> MAX_N 20</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> MAX_N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> val <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> ind <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token punctuation">(</span>l<span class="token operator">-></span>length <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> op <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">4</span><span class="token punctuation">;</span>        <span class="token keyword">switch</span><span class="token punctuation">(</span>op<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">case</span> <span class="token number">0</span> <span class="token punctuation">:</span>            <span class="token keyword">case</span> <span class="token number">1</span> <span class="token punctuation">:</span>            <span class="token keyword">case</span> <span class="token number">2</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"插入位置 %d, 插入元素 %d, %s\n"</span><span class="token punctuation">,</span> ind<span class="token punctuation">,</span> val<span class="token punctuation">,</span> <span class="token function">insert</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> ind<span class="token punctuation">,</span> val<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"插入成功"</span> <span class="token punctuation">:</span> <span class="token string">"插入失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> <span class="token number">3</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"删除位置 %d, %s\n"</span><span class="token punctuation">,</span> ind<span class="token punctuation">,</span> <span class="token function">erase</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> ind<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"删除成功"</span><span class="token punctuation">:</span> <span class="token string">"删除失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token function">output</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//输出链表 </span>    <span class="token punctuation">}</span>    <span class="token macro property">#<span class="token directive keyword">undef</span> MAX_N</span>    <span class="token function">clear_list</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 基础数据结构 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>顺序表</title>
      <link href="posts/cb6e.html"/>
      <url>posts/cb6e.html</url>
      
        <content type="html"><![CDATA[<h3 id="顺序表"><a href="#顺序表" class="headerlink" title="顺序表"></a>顺序表</h3><ul><li><p>程序 = 算法 + 数据结构</p></li><li><p>数据结构 = 结构定义 + 结构操作 </p></li><li><p>顺序表是线性表</p></li><li><p>线性表的元素是1对1的关系</p></li><li><p>线性表也称为动态数组，可以动态扩容</p></li></ul><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;malloc.h></span></span><span class="token macro property">#<span class="token directive keyword">define</span> COLOR(a, b) "\033[" #b "m" a "\033[0m"</span><span class="token macro property">#<span class="token directive keyword">define</span> GREEN(a) COLOR(a, 32)</span><span class="token macro property">#<span class="token directive keyword">define</span> RED(a) COLOR(a, 31)</span><span class="token comment" spellcheck="true">//结构定义</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Vector <span class="token punctuation">{</span>      <span class="token keyword">int</span> <span class="token operator">*</span>data<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//存储首地址</span>    <span class="token keyword">int</span> size<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//容量 </span>    <span class="token keyword">int</span> length<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//  长度 </span><span class="token punctuation">}</span> Vec<span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 结构操作</span>Vec <span class="token operator">*</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//初始化顺序表 </span>    Vec <span class="token operator">*</span>v <span class="token operator">=</span> <span class="token punctuation">(</span>Vec <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Vec<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    v<span class="token operator">-></span>data <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>    v<span class="token operator">-></span>size <span class="token operator">=</span> n<span class="token punctuation">;</span>    v<span class="token operator">-></span>length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> v<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">expand</span><span class="token punctuation">(</span>Vec <span class="token operator">*</span>v<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">//顺序表的扩容操作</span>    <span class="token comment" spellcheck="true">//malloc动态申请空间不一定干净的，也就是这块空间不一定都为0； </span>    <span class="token comment" spellcheck="true">//calloc动态申请空间并且清空为0值</span>    <span class="token comment" spellcheck="true">//realloc 重新申请空间</span>    <span class="token keyword">int</span> extr_size <span class="token operator">=</span> v<span class="token operator">-></span>size<span class="token punctuation">;</span>    <span class="token keyword">int</span> <span class="token operator">*</span>p<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>extr_size<span class="token punctuation">)</span> <span class="token punctuation">{</span>        p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">realloc</span><span class="token punctuation">(</span>v<span class="token operator">-></span>data<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>v<span class="token operator">-></span>size <span class="token operator">+</span> extr_size<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//扩容成功</span>        extr_size <span class="token operator">>>=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    v<span class="token operator">-></span>size <span class="token operator">+</span><span class="token operator">=</span> extr_size<span class="token punctuation">;</span>    v<span class="token operator">-></span>data <span class="token operator">=</span> p<span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"扩容成功， v->size = %d\n"</span><span class="token punctuation">,</span> v<span class="token operator">-></span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token comment" spellcheck="true">//插入成功返回1，否则返回0 </span><span class="token keyword">int</span> <span class="token function">insert</span><span class="token punctuation">(</span>Vec <span class="token operator">*</span>v<span class="token punctuation">,</span> <span class="token keyword">int</span> ind<span class="token punctuation">,</span> <span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//插入元素</span>    <span class="token comment" spellcheck="true">// ind 表示插入位置，vla表示插入的元素 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>v <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//顺序表不存在 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ind <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> ind <span class="token operator">></span> v<span class="token operator">-></span>length<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>v<span class="token operator">-></span>length <span class="token operator">==</span> v<span class="token operator">-></span>size<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment" spellcheck="true">//顺序表满了</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">expand</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//扩容失败 </span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//先扩容再插入 </span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> v<span class="token operator">-></span>length<span class="token punctuation">;</span> i <span class="token operator">></span> ind<span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        v<span class="token operator">-></span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token operator">-></span>data<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>        v<span class="token operator">-></span>data<span class="token punctuation">[</span>ind<span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">;</span>    v<span class="token operator">-></span>length <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">int</span> <span class="token function">erase</span><span class="token punctuation">(</span>Vec <span class="token operator">*</span>v<span class="token punctuation">,</span> <span class="token keyword">int</span> ind<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//删除元素 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>v <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>v<span class="token operator">-></span>length <span class="token operator">&lt;=</span> ind <span class="token operator">||</span> ind <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> ind <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> v<span class="token operator">-></span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        v<span class="token operator">-></span>data<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token operator">-></span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    v<span class="token operator">-></span>length <span class="token operator">-</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">// 顺序表输出</span><span class="token keyword">void</span> <span class="token function">output</span><span class="token punctuation">(</span>Vec <span class="token operator">*</span>v<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>v <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"["</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> v<span class="token operator">-></span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        i <span class="token operator">&amp;&amp;</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">", "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> v<span class="token operator">-></span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"]\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">clear</span><span class="token punctuation">(</span>Vec <span class="token operator">*</span>v<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//销毁空间 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>v <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>v<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token macro property">#<span class="token directive keyword">define</span> MAX_N 1</span>    Vec <span class="token operator">*</span>v <span class="token operator">=</span> <span class="token function">init</span><span class="token punctuation">(</span>MAX_N<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">srand</span><span class="token punctuation">(</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 测试</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">20</span> <span class="token operator">*</span> MAX_N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment" spellcheck="true">//生成数据</span>        <span class="token comment" spellcheck="true">// rand()头文件stdlib.h</span>        <span class="token keyword">int</span> op <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">4</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> ind <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token punctuation">(</span>v<span class="token operator">-></span>length <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//范围[-1, v->length + 1] ,使测试数据全面</span>        <span class="token keyword">int</span> val <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">;</span>        <span class="token keyword">switch</span> <span class="token punctuation">(</span>op<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">case</span> <span class="token number">2</span> <span class="token punctuation">:</span>            <span class="token keyword">case</span> <span class="token number">3</span> <span class="token punctuation">:</span>            <span class="token keyword">case</span> <span class="token number">0</span> <span class="token punctuation">:</span>             <span class="token keyword">case</span> <span class="token number">1</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"插入位置ind = %d, 插入元素val = %d, 插入%s, 元素个数 = %d\n"</span><span class="token punctuation">,</span> ind<span class="token punctuation">,</span> val<span class="token punctuation">,</span> <span class="token function">insert</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> ind<span class="token punctuation">,</span> val<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"成功"</span> <span class="token punctuation">:</span> <span class="token string">"失败"</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token operator">+</span> v<span class="token operator">-></span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> <span class="token number">4</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"删除位置ind = %d, 删除%s\n"</span><span class="token punctuation">,</span> ind<span class="token punctuation">,</span> <span class="token function">erase</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> ind<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"成功"</span> <span class="token punctuation">:</span> <span class="token string">"失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token function">output</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token macro property">#<span class="token directive keyword">undef</span> MAX_N</span>    <span class="token function">clear</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 基础数据结构 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>翻转链表</title>
      <link href="posts/2421.html"/>
      <url>posts/2421.html</url>
      
        <content type="html"><![CDATA[<h1 id="一、原地翻转"><a href="#一、原地翻转" class="headerlink" title="一、原地翻转"></a>一、原地翻转</h1><p>时间复杂度O(n);</p><pre class=" language-c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">reverse</span><span class="token punctuation">(</span>List <span class="token operator">*</span>l<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token comment" spellcheck="true">//链表不存在，退出函数</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> l<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">,</span> <span class="token operator">*</span>q<span class="token punctuation">;</span>    l<span class="token operator">-></span>head<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        q <span class="token operator">=</span> p<span class="token operator">-></span>next<span class="token punctuation">;</span>        p<span class="token operator">-></span>next <span class="token operator">=</span> l<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">;</span>        l<span class="token operator">-></span>head<span class="token punctuation">.</span>next <span class="token operator">=</span> p<span class="token punctuation">;</span>        p <span class="token operator">=</span> q<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;malloc.h></span> </span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;time.h></span></span><span class="token comment" spellcheck="true">//结构定义</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> Node <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//节点 </span>    <span class="token keyword">int</span> data<span class="token punctuation">;</span>    <span class="token keyword">struct</span> Node <span class="token operator">*</span>next<span class="token punctuation">;</span><span class="token punctuation">}</span> Node<span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">struct</span> List <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//链表</span>    Node head<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//定义虚拟头节点</span>    <span class="token keyword">int</span> length<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//当前链表的长度</span><span class="token punctuation">}</span> List<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//结构操作</span>Node <span class="token operator">*</span><span class="token function">getnewNode</span><span class="token punctuation">(</span><span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//节点初始化 </span>    <span class="token comment" spellcheck="true">//将待插入的val封装为节点 </span>    Node <span class="token operator">*</span>node <span class="token operator">=</span> <span class="token punctuation">(</span>Node <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>Node<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    node<span class="token operator">-></span>data <span class="token operator">=</span> val<span class="token punctuation">;</span>    node<span class="token operator">-></span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>     <span class="token keyword">return</span> node<span class="token punctuation">;</span><span class="token punctuation">}</span>List <span class="token operator">*</span><span class="token function">init_List</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//链表初始化 </span>    List <span class="token operator">*</span>l <span class="token operator">=</span> <span class="token punctuation">(</span>List <span class="token operator">*</span><span class="token punctuation">)</span><span class="token function">malloc</span><span class="token punctuation">(</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>List<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    l<span class="token operator">-></span>head<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    l<span class="token operator">-></span>length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> l<span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">int</span> <span class="token function">insert</span><span class="token punctuation">(</span>List <span class="token operator">*</span>l<span class="token punctuation">,</span> <span class="token keyword">int</span> ind<span class="token punctuation">,</span> <span class="token keyword">int</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>l<span class="token operator">-></span>length <span class="token operator">&lt;</span> ind <span class="token operator">||</span> ind <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>l<span class="token operator">-></span>head<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">*</span>node <span class="token operator">=</span> <span class="token function">getnewNode</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ind<span class="token operator">--</span><span class="token punctuation">)</span> p <span class="token operator">=</span> p<span class="token operator">-></span>next<span class="token punctuation">;</span>    node<span class="token operator">-></span>next <span class="token operator">=</span> p<span class="token operator">-></span>next<span class="token punctuation">;</span>    p<span class="token operator">-></span>next <span class="token operator">=</span> node<span class="token punctuation">;</span>    l<span class="token operator">-></span>length <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">clear_node</span><span class="token punctuation">(</span>Node <span class="token operator">*</span>node<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//节点销毁 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>node <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">free</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">erase</span><span class="token punctuation">(</span>List <span class="token operator">*</span>l<span class="token punctuation">,</span> <span class="token keyword">int</span> ind<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">==</span><span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ind <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> ind <span class="token operator">>=</span> l<span class="token operator">-></span>length<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> <span class="token operator">&amp;</span><span class="token punctuation">(</span>l<span class="token operator">-></span>head<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">*</span>q<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>ind<span class="token operator">--</span><span class="token punctuation">)</span> p <span class="token operator">=</span> p<span class="token operator">-></span>next<span class="token punctuation">;</span>    q <span class="token operator">=</span> p<span class="token operator">-></span>next<span class="token punctuation">;</span>    p<span class="token operator">-></span>next <span class="token operator">=</span> q<span class="token operator">-></span>next<span class="token punctuation">;</span>    <span class="token function">clear_node</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span>    l<span class="token operator">-></span>length <span class="token operator">-</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">clear_list</span><span class="token punctuation">(</span>List <span class="token operator">*</span>l<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//链表销毁 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> l<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">,</span> <span class="token operator">*</span>q<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        q <span class="token operator">=</span> p<span class="token operator">-></span>next<span class="token punctuation">;</span>        <span class="token function">clear_node</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>        p <span class="token operator">=</span> q<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">free</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">output</span><span class="token punctuation">(</span>List <span class="token operator">*</span>l<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"链表长度%d\n"</span><span class="token punctuation">,</span> l<span class="token operator">-></span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span>Node <span class="token operator">*</span>p <span class="token operator">=</span> l<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">;</span> p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span> p <span class="token operator">=</span> p<span class="token operator">-></span>next<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d->"</span><span class="token punctuation">,</span> p<span class="token operator">-></span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"NULL\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">void</span> <span class="token function">reverse</span><span class="token punctuation">(</span>List <span class="token operator">*</span>l<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//原地翻转 </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token punctuation">;</span>    Node <span class="token operator">*</span>p <span class="token operator">=</span> l<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">,</span> <span class="token operator">*</span>q<span class="token punctuation">;</span>    l<span class="token operator">-></span>head<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> <span class="token constant">NULL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        q <span class="token operator">=</span> p<span class="token operator">-></span>next<span class="token punctuation">;</span>        p<span class="token operator">-></span>next <span class="token operator">=</span> l<span class="token operator">-></span>head<span class="token punctuation">.</span>next<span class="token punctuation">;</span>        l<span class="token operator">-></span>head<span class="token punctuation">.</span>next <span class="token operator">=</span> p<span class="token punctuation">;</span>        p <span class="token operator">=</span> q<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">srand</span><span class="token punctuation">(</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    List <span class="token operator">*</span>l <span class="token operator">=</span> <span class="token function">init_List</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token macro property">#<span class="token directive keyword">define</span> MAX_N 30</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> MAX_N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> val <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> ind <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token punctuation">(</span>l<span class="token operator">-></span>length <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> op <span class="token operator">=</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">4</span><span class="token punctuation">;</span>        <span class="token keyword">switch</span><span class="token punctuation">(</span>op<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">case</span> <span class="token number">1</span> <span class="token punctuation">:</span>            <span class="token keyword">case</span> <span class="token number">2</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"插入位置 %d, 插入元素 %d, %s\n"</span><span class="token punctuation">,</span> ind<span class="token punctuation">,</span> val<span class="token punctuation">,</span> <span class="token function">insert</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> ind<span class="token punctuation">,</span> val<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"插入成功"</span> <span class="token punctuation">:</span> <span class="token string">"插入失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">break</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//            case 3 : {</span><span class="token comment" spellcheck="true">//                printf("删除位置 %d, %s\n", ind, erase(l, ind) ? "删除成功": "删除失败");</span><span class="token comment" spellcheck="true">//            } break;</span>            <span class="token keyword">case</span> <span class="token number">0</span> <span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"翻转链表\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token function">reverse</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token function">output</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//输出链表 </span>    <span class="token punctuation">}</span>    <span class="token macro property">#<span class="token directive keyword">undef</span> MAX_N</span>    <span class="token function">clear_list</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></code></pre><h1 id="二、头插法"><a href="#二、头插法" class="headerlink" title="二、头插法"></a>二、头插法</h1><p>建立新的链表</p>]]></content>
      
      
      
        <tags>
            
            <tag> 基础数据结构 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>单向循环链表</title>
      <link href="posts/cab6.html"/>
      <url>posts/cab6.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
        <tags>
            
            <tag> 基础数据结构 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>背包问题</title>
      <link href="posts/ebc2.html"/>
      <url>posts/ebc2.html</url>
      
        <content type="html"><![CDATA[<h3 id="01背包"><a href="#01背包" class="headerlink" title="01背包"></a>01背包</h3><ul><li>01背包每种物品只有1件</li><li>你要吗装，要么不装</li></ul><h4 id="理解"><a href="#理解" class="headerlink" title="理解"></a>理解</h4><ul><li>装：1</li><li>不装：0</li></ul><h4 id="算法流程"><a href="#算法流程" class="headerlink" title="算法流程"></a>算法流程</h4><ul><li><p>数组定义：</p></li><li><pre class=" language-apl"><code class="language-apl">dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token dfn builtin">:</span> 前i钟物品在背包容量为j时装的最大价值</code></pre></li><li><p>转移方程：</p></li><li><pre class=" language-apl"><code class="language-apl">对于第i件物品有两种情况：    vi表示第i件物品的体积或重量，wi表示价值    情况<span class="token number">1</span>：背包容量足够大j <span class="token function">></span><span class="token function">=</span> vi，可以装第i件物品：        装：dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token function">=</span> dp<span class="token punctuation">[</span>i <span class="token function">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token function">-</span> vi<span class="token punctuation">]</span> <span class="token function">+</span> wi<span class="token punctuation">;</span>        不装：dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token function">=</span> dp<span class="token punctuation">[</span>i <span class="token function">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>        故：dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token function">=</span> max<span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i <span class="token function">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token function">,</span> dp<span class="token punctuation">[</span>i <span class="token function">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token function">-</span> vi<span class="token punctuation">]</span> <span class="token function">+</span> wi<span class="token punctuation">)</span><span class="token punctuation">;</span>    情况<span class="token number">2</span>：背包容量不够大 j <span class="token function">&lt;</span> vi，装不了：dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token function">=</span> dp<span class="token punctuation">[</span>i <span class="token function">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre></li><li><p>初始化：</p></li><li><pre><code>memset(dp, 0, sizeof(dp));</code></pre></li></ul><h4 id="代码演示朴素版"><a href="#代码演示朴素版" class="headerlink" title="代码演示朴素版"></a>代码演示朴素版</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> V<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">>=</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> w<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> dp<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h4 id="代码演示二：空间优化"><a href="#代码演示二：空间优化" class="headerlink" title="代码演示二：空间优化"></a>代码演示二：空间优化</h4><ul><li><p><strong>思路</strong>：由0-1背包的状态转移方程dp[i] [j] = max{dp[i - 1] [j]，dp[i - 1] [j-v[i] ]+w[i]}</p></li><li><pre class=" language-apl"><code class="language-apl">dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token function">=</span> max<span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i <span class="token function">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token function">,</span> dp<span class="token punctuation">[</span>i <span class="token function">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token function">-</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token function">+</span> w<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>的特点，知道当前状态仅依赖前一状态的剩余容量与当前物品重量v[i]的关系。</p></li><li><p>根据这个特点，我们可以将dp降到一维即dp[j] = max{dp[j]，dp[j-w[i]]+v[i]}。从这个方程中我们可以发现，有两个dp[j]，但是要区分开。</p></li><li><p>等号左边的j是当前i的状态，右边括号中的j是第i-1状态下的值。</p></li><li><p>保证 <code>dp[j - vi]</code> 未在此轮计算过, 即 <code>dp[j - vi]</code>依然属于 <code>i-1</code> 行</p></li><li><p>如果<strong>j</strong>从0到V遍历，那么更新到 <strong>j</strong> 时，<strong>dp[j - vi]<strong>已经更新过了，变为第</strong>i</strong>行的<strong>dp[j - vi]，</strong>不再是第<strong>i - 1</strong>行的 <strong>dp[j - vi]</strong></p></li></ul><pre class=" language-c"><code class="language-c"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> V<span class="token punctuation">;</span> j <span class="token operator">>=</span> <span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">>=</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>j <span class="token operator">-</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> w<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><p><strong>解释：V为背包最大（容量或体积或承重量），dp[j] 表示背包容量为j时的最大价值</strong></p><h3 id="完全背包"><a href="#完全背包" class="headerlink" title="完全背包"></a>完全背包</h3><ul><li>每种物品数量没有限制</li><li>一种物品你可以重复装，无限制</li></ul><h4 id="算法流程-1"><a href="#算法流程-1" class="headerlink" title="算法流程"></a>算法流程</h4><ul><li><p>数组定义：</p></li><li><pre class=" language-apl"><code class="language-apl">dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token dfn builtin">:</span> 前i钟物品在背包容量为j时装的最大价值</code></pre></li><li><p>转移方程：</p></li><li><pre class=" language-apl"><code class="language-apl">对于第i件物品有两种情况：    vi表示第i件物品的体积或重量，wi表示价值    情况<span class="token number">1</span>：背包容量足够大j <span class="token function">></span><span class="token function">=</span> vi，可以装第i件物品：        装：dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token function">=</span> dp<span class="token punctuation">[</span>i <span class="token function">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token function">-</span> vi<span class="token punctuation">]</span> <span class="token function">+</span> wi<span class="token punctuation">;</span>        不装：dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token function">=</span> dp<span class="token punctuation">[</span>i <span class="token function">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>        故：dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token function">=</span> max<span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i <span class="token function">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token function">,</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token function">-</span> vi<span class="token punctuation">]</span> <span class="token function">+</span> wi<span class="token punctuation">)</span><span class="token punctuation">;</span>    情况<span class="token number">2</span>：背包容量不够大 j <span class="token function">&lt;</span> vi，装不了：dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token function">=</span> dp<span class="token punctuation">[</span>i <span class="token function">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre></li><li><p>初始化：</p></li><li><pre><code>memset(dp, 0, sizeof(dp));</code></pre></li></ul><h4 id="重点"><a href="#重点" class="headerlink" title="重点"></a>重点</h4><ul><li><p>对于前i种物品，我们可以装多件该物品，则转移方程为：</p></li><li><pre class=" language-c"><code class="language-c">dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> vi<span class="token punctuation">]</span> <span class="token operator">+</span> wi<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ul><h4 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> V<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">>=</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> w<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> dp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> dp<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h4 id="空间优化"><a href="#空间优化" class="headerlink" title="空间优化"></a>空间优化</h4><ul><li>对当前dp[i] [j]，只与当前行也就是dp[i] [j - vi]（加）和dp[i - 1] [j]（不加）有关</li><li>故需要知道dp[i] [j - vi]，则<strong>j</strong>从0到V</li></ul><h4 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> V<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">>=</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>j <span class="token operator">-</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> w<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h3 id="多重背包"><a href="#多重背包" class="headerlink" title="多重背包"></a>多重背包</h3><ul><li>每种物品数量有限制</li><li>一种物品<strong>i</strong>你可以重复装，至多可以装<strong>si</strong>件</li><li>多重背包是介于01背包和完全背包之间，更贴切现实生活</li></ul><h4 id="转化"><a href="#转化" class="headerlink" title="转化"></a>转化</h4><p><strong>多重背包</strong>转化为<strong>01背包</strong></p><h4 id="代码演示-1"><a href="#代码演示-1" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">define</span> MAX_V 100005</span><span class="token keyword">int</span> dp<span class="token punctuation">[</span>MAX_V<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> v<span class="token punctuation">[</span><span class="token number">101</span><span class="token punctuation">]</span><span class="token punctuation">,</span> s<span class="token punctuation">[</span><span class="token number">101</span><span class="token punctuation">]</span><span class="token punctuation">,</span> w<span class="token punctuation">[</span><span class="token number">101</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> V<span class="token punctuation">,</span> n<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">duochongbeibao</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//当成01背包，相同物品当作不同物品循环 </span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> vv <span class="token operator">=</span> V<span class="token punctuation">;</span> vv<span class="token punctuation">;</span> vv<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>vv <span class="token operator">>=</span> j <span class="token operator">*</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    dp<span class="token punctuation">[</span>vv<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>vv<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>vv <span class="token operator">-</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> w<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>     <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>V<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>速度太慢了</strong></p><h4 id="二进制拆分优化"><a href="#二进制拆分优化" class="headerlink" title="二进制拆分优化"></a>二进制拆分优化</h4><ul><li><p>对于上面代码，我们是循环遍历每个si，效率太慢</p></li><li><p>例如对于si = 71</p></li><li><p>那么<strong>si</strong> = 1 + 2 + 4 + 8 + 16 + 32 + 8</p></li></ul><h4 id="代码演示-2"><a href="#代码演示-2" class="headerlink" title="代码演示"></a>代码演示</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span><span class="token operator">=</span> k<span class="token punctuation">,</span> k <span class="token operator">&lt;&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//当成01背包，相同物品当作不同物品循环 </span>        k <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//printf("%d %d\n", k, s[i]);</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> V<span class="token punctuation">;</span> j <span class="token operator">>=</span> k <span class="token operator">*</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>j <span class="token operator">-</span> k <span class="token operator">*</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> k <span class="token operator">*</span> w<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span> <span class="token punctuation">}</span></code></pre><h4 id="空间优化-1"><a href="#空间优化-1" class="headerlink" title="空间优化"></a>空间优化</h4><pre class=" language-c"><code class="language-c"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> s<span class="token punctuation">,</span> w<span class="token punctuation">,</span> v<span class="token punctuation">;</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>s<span class="token punctuation">,</span> <span class="token operator">&amp;</span>v<span class="token punctuation">,</span> <span class="token operator">&amp;</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> s<span class="token punctuation">;</span> s <span class="token operator">-</span><span class="token operator">=</span> k<span class="token punctuation">,</span> k <span class="token operator">&lt;&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//当成01背包，二进制拆分</span>        k <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//printf("%d %d\n", k, s);</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> V<span class="token punctuation">;</span> j <span class="token operator">>=</span> k <span class="token operator">*</span> v<span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> dp<span class="token punctuation">[</span>j <span class="token operator">-</span> k <span class="token operator">*</span> v<span class="token punctuation">]</span> <span class="token operator">+</span> k <span class="token operator">*</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span> <span class="token punctuation">}</span></code></pre><h4 id="单调队列优化"><a href="#单调队列优化" class="headerlink" title="单调队列优化"></a>单调队列优化</h4><ul><li>最快的多重背包做法</li></ul><h5 id="时间复杂度：O-nV"><a href="#时间复杂度：O-nV" class="headerlink" title="时间复杂度：O(nV)"></a>时间复杂度：O(nV)</h5><pre><code></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 动态规划 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C语言学习</title>
      <link href="posts/e4b3.html"/>
      <url>posts/e4b3.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>C语言中#的使用</title>
      <link href="posts/2c9a.html"/>
      <url>posts/2c9a.html</url>
      
        <content type="html"><![CDATA[<h2 id="一：使用-在宏的作用"><a href="#一：使用-在宏的作用" class="headerlink" title="一：使用#在宏的作用"></a>一：使用#在宏的作用</h2><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">define</span> P(func) {\    printf("%s\n", #func);\}</span>相当于传入abc<span class="token punctuation">,</span>就输出abc<span class="token punctuation">;</span>即<span class="token function">P</span><span class="token punctuation">(</span>abc<span class="token punctuation">)</span> <span class="token operator">=</span> abc<span class="token punctuation">;</span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> 随手笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>算法复杂度</title>
      <link href="posts/7796.html"/>
      <url>posts/7796.html</url>
      
        <content type="html"><![CDATA[<h2 id="计算资源"><a href="#计算资源" class="headerlink" title="计算资源"></a><strong>计算资源</strong></h2><h3 id="时间复杂度："><a href="#时间复杂度：" class="headerlink" title="时间复杂度："></a><strong>时间复杂度：</strong></h3><p>程序运行需要的时间。</p><h3 id="空间复杂度："><a href="#空间复杂度：" class="headerlink" title="空间复杂度："></a><strong>空间复杂度：</strong></h3><p>程序运行需要的存储空间。</p><h5 id="说明"><a href="#说明" class="headerlink" title="说明"></a><strong>说明</strong></h5><hr><p>1、定义全局数组无限制，且自动初始化为0或NULL;<br>2、main函数栈空间为8MB, 可定义整形数组大小 &lt;= 2000000位，1整形 = 4字节 = 32位二进制；<br>3、笔记本电脑的计算能力大约每秒千万次数量级；而oj系统每秒能运行1亿次；</p><hr><h5 id="时间计算"><a href="#时间计算" class="headerlink" title="时间计算"></a><strong>时间计算</strong></h5><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;bits/stdc++.h></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> n <span class="token operator">=</span> <span class="token number">1e8</span><span class="token punctuation">;</span>    clock_t start<span class="token punctuation">,</span> end<span class="token punctuation">;</span>    start <span class="token operator">=</span> <span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 开始</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token operator">++</span>k<span class="token punctuation">;</span>        end <span class="token operator">=</span> <span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 结束</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"t　＝　"</span> <span class="token operator">&lt;&lt;</span>　<span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span><span class="token punctuation">(</span>end <span class="token operator">-</span> start<span class="token punctuation">)</span> <span class="token operator">/</span> CLOCKS_PER_SEC <span class="token operator">&lt;&lt;</span> <span class="token string">"s"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">/*时间复杂度分析：循环n次，运行效率为线性时间，即 O(n)；在CPU为i5-8250U、内存为8GB、64位操作系统下：n = 1e8时, t = 0.164s;n = 19e时, t = 1.645s;*/</span></code></pre><p>下用一道例题为例</p><p><strong>hdu1425 “sort”</strong></p><p>链接： <a href="http://">http://acm.hdu.edu.cn/showproblem.php?pid=1425</a></p><p>思路：对100万个数排序，再输出前 m 大的数。</p><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">//法一冒泡排序</span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;bits/stdc++.h></span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">1000001</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">define</span> swap(a, b) {a ^= b; b ^= a; a ^= b;}</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">bubble_sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> n <span class="token operator">-</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">(</span>a <span class="token operator">+</span> j<span class="token punctuation">)</span> <span class="token operator">></span> <span class="token operator">*</span><span class="token punctuation">(</span>a <span class="token operator">+</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token function">swap</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">(</span>a <span class="token operator">+</span> j<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">(</span>a <span class="token operator">+</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">~</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">,</span> <span class="token operator">&amp;</span>m<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> a <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 数据太多只能用 scanf 输入；</span>        <span class="token function">bubble_sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> n<span class="token punctuation">;</span> i <span class="token operator">>=</span> n <span class="token operator">-</span> m <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>i <span class="token operator">^</span> <span class="token punctuation">(</span>n <span class="token operator">-</span> m <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">(</span>a <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">else</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">(</span>a <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token function">memset</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">*</span>分析：时间复杂度<span class="token function">bubble_sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span>函数有两重循环，循环次数为 n<span class="token number">-1</span> <span class="token operator">+</span> n<span class="token number">-2</span> <span class="token operator">+</span> n<span class="token number">-3</span> <span class="token operator">+</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">=</span> n<span class="token operator">^</span><span class="token number">2</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> 而在<span class="token function">swap</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span>执行了<span class="token number">3</span>次操作；总计算次数为 3n<span class="token operator">^</span><span class="token number">2</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>复杂度记为 <span class="token function">O</span><span class="token punctuation">(</span>n<span class="token operator">*</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> 故 n <span class="token operator">&lt;</span> <span class="token number">10000</span> 冒泡排序才勉强过；空间复杂度程序使用 <span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">1000001</span><span class="token punctuation">]</span>存储数据，且 <span class="token function">bubble_sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 没有使用额外空间，故约使用 4MB 空间；</code></pre><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">// 法二 快速排序</span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;bits/stdc++.h></span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">1000001</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">define</span> swap(a, b) {a ^= b; b ^= a; a ^= b;}</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">~</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">,</span> <span class="token operator">&amp;</span>m<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> a <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">sort</span><span class="token punctuation">(</span>a <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> a <span class="token operator">+</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> n<span class="token punctuation">;</span> i <span class="token operator">>=</span> n <span class="token operator">-</span> m <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>i <span class="token operator">^</span> <span class="token punctuation">(</span>n <span class="token operator">-</span> m <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">(</span>a <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">else</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> <span class="token operator">*</span><span class="token punctuation">(</span>a <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token function">memset</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span> 基于STL的 <span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 函数<span class="token punctuation">,</span>是改良版的快速排序；时间复杂度为<span class="token function">O</span><span class="token punctuation">(</span>nlgn<span class="token punctuation">)</span><span class="token punctuation">;</span> 正好通过，提交运行时间为600ms<span class="token punctuation">;</span></code></pre><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">//法三哈希排序</span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;bits/stdc++.h></span></span>using namespace std<span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">define</span> MAXN 1000001</span><span class="token keyword">int</span> a<span class="token punctuation">[</span>MAXN<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">~</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">,</span> <span class="token operator">&amp;</span>m<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">int</span> t<span class="token punctuation">;</span>            <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>            a<span class="token punctuation">[</span><span class="token number">500000</span> <span class="token operator">+</span> t<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 数字t登记在 t + 500000的位置</span>        <span class="token punctuation">}</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> MAXN <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> m <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">(</span>a <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>m <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d "</span><span class="token punctuation">,</span> i <span class="token operator">-</span> <span class="token number">500000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">else</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> i <span class="token operator">-</span> <span class="token number">500000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token operator">--</span>m<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token function">memset</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span>思路：在输入数字t的时候，在a<span class="token punctuation">[</span><span class="token number">500000</span> <span class="token operator">+</span> t<span class="token punctuation">]</span> 这个位置记录a<span class="token punctuation">[</span><span class="token number">500000</span> <span class="token operator">+</span> t<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span> 记录 t <span class="token punctuation">,</span>在输出的时候逐个检查 a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token punctuation">,</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> 表示这个数存在<span class="token punctuation">,</span> 打印出前 m 个数；哈希排序以空间换时间，时间复杂度为<span class="token function">O</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">,</span> 比快排快<span class="token punctuation">;</span>在 hdu 提交运行时间 500ms <span class="token punctuation">;</span></code></pre><p><strong>算法的选择</strong></p><hr><p>对于一个问题必有多种解法， 低效算法编码时间往往低于高效算法编码时间。</p><hr><h2 id="算法的定义与评估"><a href="#算法的定义与评估" class="headerlink" title="算法的定义与评估"></a><strong>算法的定义与评估</strong></h2><p>1、定义：在进行算法分析时，语句总的执行次数T（n）是关于问题规模n的函数，进而分析T（n）随n的变化情况并确定T（n）的数量级。</p><hr><p>算法的时间复杂度，也就是算法的时间度量，记作：T（n） = O（f（n））。它表示随问题规模n的增大，算法执行时间的增长率和f（n）的增长率相同，称作算法的渐进时间复杂度，称为时间复杂度。其中f（n）是问题规模n的某个函数。</p><hr><p>2、推导大O阶方法<br>&nbsp;&nbsp;&nbsp;&nbsp;推导大O阶：<br>&nbsp;&nbsp;&nbsp;&nbsp;1、用常数1取代运行时间中的所有加法常数<br>&nbsp;&nbsp;&nbsp;&nbsp;2、在修改后的运行次数函数中，只保留最高阶项<br>&nbsp;&nbsp;&nbsp;&nbsp;3、如果最高阶项存在且不是i，则去除与这个项相乘的常数得到的结果就是大O阶</p><hr><p>&nbsp;&nbsp;3、常见的时间复杂度</p><table><thead><tr><th align="center">执行次数函数</th><th align="center">阶</th><th align="center">非正式术语</th></tr></thead><tbody><tr><td align="center">12</td><td align="center">O(1)</td><td align="center">常数阶</td></tr><tr><td align="center">2n+3</td><td align="center">O(n)</td><td align="center">线性阶</td></tr><tr><td align="center">3n^2+2n+1</td><td align="center">O(n^2)</td><td align="center">平方阶</td></tr><tr><td align="center">5log2n+19</td><td align="center">O(logn)</td><td align="center">对数阶</td></tr><tr><td align="center">2n+3nlog2n+19</td><td align="center">O(nlogn)</td><td align="center">nlogn阶</td></tr><tr><td align="center">6n3+2n2+3n+4</td><td align="center">O(n^3)</td><td align="center">立方阶</td></tr><tr><td align="center">2^n</td><td align="center">O（2^n）</td><td align="center"></td></tr></tbody></table><p>常用时间复杂度所耗费的时间从小到大依次是：<br>O(1) &lt; O(logn) &lt; O(n) &lt; O(nlogn) &lt; O(n^2) &lt; O(n^3) &lt; O(2^n) &lt; (n!) &lt; O(n^n)；<br>N^3以后都不应该出现在算法中。</p><hr><p>4、最坏情况和平均情况：<br>最坏情况运行时间是一种保证，那就是运行时间不会再坏了，在应用中，这是一种最重要的需求，通常，除非特别指定，我们提到的运行时间都是最坏情况运行时间</p><hr>]]></content>
      
      
      
        <tags>
            
            <tag> 算法入门与进阶 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>计算几何</title>
      <link href="posts/66f1.html"/>
      <url>posts/66f1.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>字符串处理技巧</title>
      <link href="posts/634.html"/>
      <url>posts/634.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>数论</title>
      <link href="posts/2230.html"/>
      <url>posts/2230.html</url>
      
        <content type="html"><![CDATA[<h2 id="一、高精度计算"><a href="#一、高精度计算" class="headerlink" title="一、高精度计算"></a><strong>一、高精度计算</strong></h2><h2 id="二、数论入门"><a href="#二、数论入门" class="headerlink" title="二、数论入门"></a><strong>二、数论入门</strong></h2><h3 id="三、模运算"><a href="#三、模运算" class="headerlink" title="三、模运算"></a><strong>三、模运算</strong></h3><hr><h3 id="四、快速幂"><a href="#四、快速幂" class="headerlink" title="四、快速幂"></a><strong>四、快速幂</strong></h3><h4 id="位运算快速幂"><a href="#位运算快速幂" class="headerlink" title="位运算快速幂"></a><strong>位运算快速幂</strong></h4><p><strong>思想</strong></p><pre><code>将指数表示成二进制的形式;一个十进制的数它的数值必然  大于等于 它的二进制表达式的位数；故可利用二分思想，将二进制数 依次右移并且判断最后一位数是否为1 (为1表示为奇数) ；相比于线性时间O(n),该方法时间复杂度为O(log n)， 远远快于 O(n);</code></pre><p>代码如下</p><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">define</span> N 2</span><span class="token keyword">typedef</span> <span class="token keyword">long</span> <span class="token keyword">long</span> ll<span class="token punctuation">;</span><span class="token keyword">const</span> ll mod <span class="token operator">=</span> <span class="token number">1e9</span> <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">;</span></code></pre><pre class=" language-c"><code class="language-c">ll <span class="token function">Counting</span><span class="token punctuation">(</span>ll base<span class="token punctuation">,</span> ll n<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//快速幂 </span>    ll power <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//幂也就是结果</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span> power <span class="token operator">*</span><span class="token operator">=</span> base<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//判断最后一位二进制数是否为1</span>        base <span class="token operator">*</span><span class="token operator">=</span> base；        n <span class="token operator">>>=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//去除最后一位二进制数</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> power<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="矩阵快速幂"><a href="#矩阵快速幂" class="headerlink" title="矩阵快速幂"></a><strong>矩阵快速幂</strong></h4><p>矩阵快速幂利用快速幂的思想，也就是二分思想把矩阵对半进行乘法；</p><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">//矩阵快速幂</span><span class="token keyword">struct</span> Matrix <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//定义结构体矩阵</span>    ll matrix<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>c    <span class="token function">Matrix</span><span class="token punctuation">(</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//构造函数初始化矩阵</span>        <span class="token function">memset</span><span class="token punctuation">(</span>matrix<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>matrix<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">//矩阵乘法 Matrix multiplication</span>Matrix <span class="token function">Matrix_multiplication</span><span class="token punctuation">(</span>Matrix <span class="token keyword">const</span> <span class="token operator">&amp;</span>A<span class="token punctuation">,</span> Matrix <span class="token keyword">const</span> <span class="token operator">&amp;</span>B<span class="token punctuation">)</span> <span class="token punctuation">{</span>    Matrix C<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                C<span class="token punctuation">.</span>matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>C<span class="token punctuation">.</span>matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> A<span class="token punctuation">.</span>matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">*</span> B<span class="token punctuation">.</span>matrix<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">%</span> mod<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> C<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">//矩阵快速幂</span>Matrix <span class="token function">Counting</span><span class="token punctuation">(</span>Matrix <span class="token keyword">const</span> <span class="token operator">&amp;</span>base<span class="token punctuation">,</span> ll n<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//快速幂</span>    Matrix power<span class="token punctuation">,</span> temp <span class="token operator">=</span> base<span class="token punctuation">;</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//幂</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        power<span class="token punctuation">.</span>matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//初始化为单位矩阵；</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//与快速幂同理</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span> power <span class="token operator">=</span> <span class="token function">Matrix_multiplication</span><span class="token punctuation">(</span>temp<span class="token punctuation">,</span> power<span class="token punctuation">)</span><span class="token punctuation">;</span>        temp <span class="token operator">=</span> <span class="token function">Matrix_multiplication</span><span class="token punctuation">(</span>temp<span class="token punctuation">,</span> temp<span class="token punctuation">)</span><span class="token punctuation">;</span>        n <span class="token operator">>>=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> power<span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>应用</p><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;bits/stdc++.h></span></span>using namespace std<span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">define</span> N 2 </span><span class="token comment" spellcheck="true">//矩阵的阶数</span><span class="token keyword">typedef</span> <span class="token keyword">long</span> <span class="token keyword">long</span> ll<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> mod <span class="token operator">=</span> <span class="token number">1e9</span> <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//数太大进行模</span><span class="token keyword">struct</span> Matrix <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//定义结构体矩阵</span>    ll matrix<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token function">Matrix</span><span class="token punctuation">(</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//构造函数初始化矩阵</span>        <span class="token function">memset</span><span class="token punctuation">(</span>matrix<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>matrix<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//矩阵乘法 Matrix multiplication</span>Matrix <span class="token function">Matrix_multiplication</span><span class="token punctuation">(</span>Matrix <span class="token keyword">const</span> <span class="token operator">&amp;</span>A<span class="token punctuation">,</span> Matrix <span class="token keyword">const</span> <span class="token operator">&amp;</span>B<span class="token punctuation">)</span> <span class="token punctuation">{</span>    Matrix C<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                C<span class="token punctuation">.</span>matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>C<span class="token punctuation">.</span>matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> A<span class="token punctuation">.</span>matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">*</span> B<span class="token punctuation">.</span>matrix<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">%</span> mod<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> C<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//矩阵快速幂</span>Matrix <span class="token function">Counting</span><span class="token punctuation">(</span>Matrix <span class="token keyword">const</span> <span class="token operator">&amp;</span>base<span class="token punctuation">,</span> ll n<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//快速幂</span>    Matrix power<span class="token punctuation">,</span> temp <span class="token operator">=</span> base<span class="token punctuation">;</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//幂</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        power<span class="token punctuation">.</span>matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//初始化为单位矩阵；</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//与快速幂同理</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span> power <span class="token operator">=</span> <span class="token function">Matrix_multiplication</span><span class="token punctuation">(</span>temp<span class="token punctuation">,</span> power<span class="token punctuation">)</span><span class="token punctuation">;</span>        temp <span class="token operator">=</span> <span class="token function">Matrix_multiplication</span><span class="token punctuation">(</span>temp<span class="token punctuation">,</span> temp<span class="token punctuation">)</span><span class="token punctuation">;</span>        n <span class="token operator">>>=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> power<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//矩阵的输入 </span><span class="token keyword">void</span> <span class="token function">Matrix_input</span><span class="token punctuation">(</span>Matrix <span class="token operator">&amp;</span>A<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%lld"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>A<span class="token punctuation">.</span>matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//矩阵的输出 </span><span class="token keyword">void</span> <span class="token function">Matrix_inout</span><span class="token punctuation">(</span>Matrix <span class="token keyword">const</span> <span class="token operator">&amp;</span>A<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%lld "</span><span class="token punctuation">,</span> A<span class="token punctuation">.</span>matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    ll n<span class="token punctuation">;</span>    cin <span class="token operator">>></span> n<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 矩阵的指数</span>    Matrix A<span class="token punctuation">,</span> matrix_power<span class="token punctuation">,</span> C<span class="token punctuation">;</span>    <span class="token function">Matrix_input</span><span class="token punctuation">(</span>A<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//输入矩阵A</span>    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//C = A;</span>    clock_t start1<span class="token punctuation">,</span> end1<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//clock_t start2, end2;</span>    start1 <span class="token operator">=</span> <span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    matrix_power <span class="token operator">=</span> <span class="token function">Counting</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>    end1 <span class="token operator">=</span> <span class="token function">clock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//    start2 = clock();</span><span class="token comment" spellcheck="true">//    for (int i = 1; i &lt; n; i++) {</span><span class="token comment" spellcheck="true">//        C = Matrix_multiplication(C, A);</span><span class="token comment" spellcheck="true">//    }</span><span class="token comment" spellcheck="true">//    en2 = clock();</span>        <span class="token function">Matrix_inout</span><span class="token punctuation">(</span>matrix_power<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//输出矩阵</span>    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//Matrix_inout(C);</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"t1 = "</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span><span class="token punctuation">(</span>end1 <span class="token operator">-</span> start1<span class="token punctuation">)</span> <span class="token operator">/</span> CLOCKS_PER_SEC <span class="token operator">&lt;&lt;</span> <span class="token string">"s"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//计算运行时间</span>    <span class="token comment" spellcheck="true">//cout &lt;&lt; "t2 = " &lt;&lt; (double)(end2 - start2) / CLOCKS_PER_SEC &lt;&lt; "s" &lt;&lt; endl;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><h4 id="Fibonacci数列矩阵快速幂"><a href="#Fibonacci数列矩阵快速幂" class="headerlink" title="Fibonacci数列矩阵快速幂"></a><strong>Fibonacci数列矩阵快速幂</strong></h4><pre class=" language-c"><code class="language-c">Fibonacci数列<span class="token function">f</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">f</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></code></pre><p><strong>我发现 矩阵</strong></p><pre class=" language-c"><code class="language-c">Matrix<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span>    <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p><strong>有以下规律</strong></p><h5 id="矩阵与斐波那契数列有密切关系"><a href="#矩阵与斐波那契数列有密切关系" class="headerlink" title="矩阵与斐波那契数列有密切关系:"></a><strong>矩阵与斐波那契数列有密切关系:</strong></h5><p><strong>矩阵Matrix 0次方为；</strong></p><pre class=" language-c"><code class="language-c">cMatrix<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span>    <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> Matrix<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></code></pre><p><strong>矩阵Matrix 一次方为；</strong></p><pre class=" language-c"><code class="language-c">Matrix<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span>    <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> Matrix<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span></code></pre><p><strong>矩阵Matrix 二次方为：</strong></p><pre class=" language-c"><code class="language-c">Matrix<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span>    <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> Matrix<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span></code></pre><p><strong>矩阵Matrix 三次方为：</strong></p><pre class=" language-c"><code class="language-c">Matrix<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span>    <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> Matrix<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span></code></pre><p>​    </p><p><strong>矩阵Matrix 四次方为：</strong></p><pre class=" language-c"><code class="language-c">Matrix<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span>    <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> Matrix<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span></code></pre><p><strong>矩阵Matrix 五次方为：</strong></p><pre class=" language-c"><code class="language-c">Matrix<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span>    <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> Matrix<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span></code></pre><p><strong>矩阵Matrix 六次方为：</strong></p><pre class=" language-c"><code class="language-c">Matrix<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span>    <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> Matrix<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">21</span>；</code></pre><h5 id="综上所述"><a href="#综上所述" class="headerlink" title="综上所述"></a><strong>综上所述</strong></h5><p><strong>矩阵Matrix n次方为： 若 n &gt;= 2;</strong></p><pre class=" language-c"><code class="language-c">Matrix<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token function">f</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">f</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">f</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">f</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token function">f</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token function">f</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token function">f</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span><span class="token function">f</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> Matrix<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p><strong>矩阵Matrix n次方为： 若 n &gt;= 1， 且f(0) = 0; 则有</strong></p><pre class=" language-c"><code class="language-c">Matrix<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token function">f</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">f</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">f</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">f</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token function">f</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token function">f</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token function">f</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span><span class="token function">f</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> Matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> Matrix<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><p>故代码如下：</p><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;bits/stdc++.h></span></span>using namespace std<span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">define</span> N 2 </span><span class="token comment" spellcheck="true">//矩阵的阶数</span><span class="token keyword">typedef</span> <span class="token keyword">long</span> <span class="token keyword">long</span> ll<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> mod <span class="token operator">=</span> <span class="token number">1e9</span> <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//数太大进行模</span><span class="token keyword">struct</span> Matrix <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//定义结构体矩阵</span>    ll matrix<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token function">Matrix</span><span class="token punctuation">(</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//构造函数初始化矩阵</span>        <span class="token function">memset</span><span class="token punctuation">(</span>matrix<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>matrix<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//矩阵乘法 Matrix multiplication</span>Matrix <span class="token function">Matrix_multiplication</span><span class="token punctuation">(</span>Matrix <span class="token keyword">const</span> <span class="token operator">&amp;</span>A<span class="token punctuation">,</span> Matrix <span class="token keyword">const</span> <span class="token operator">&amp;</span>B<span class="token punctuation">)</span> <span class="token punctuation">{</span>    Matrix C<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                C<span class="token punctuation">.</span>matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>C<span class="token punctuation">.</span>matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> A<span class="token punctuation">.</span>matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">*</span> B<span class="token punctuation">.</span>matrix<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">%</span> mod<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> C<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//矩阵快速幂</span>Matrix <span class="token function">Counting</span><span class="token punctuation">(</span>Matrix <span class="token keyword">const</span> <span class="token operator">&amp;</span>base<span class="token punctuation">,</span> ll n<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//快速幂</span>    Matrix power<span class="token punctuation">,</span> temp <span class="token operator">=</span> base<span class="token punctuation">;</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//幂</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        power<span class="token punctuation">.</span>matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//初始化为单位矩阵</span>    <span class="token punctuation">}</span>    <span class="token comment" spellcheck="true">//与快速幂同理</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span> power <span class="token operator">=</span> <span class="token function">Matrix_multiplication</span><span class="token punctuation">(</span>temp<span class="token punctuation">,</span> power<span class="token punctuation">)</span><span class="token punctuation">;</span>        temp <span class="token operator">=</span> <span class="token function">Matrix_multiplication</span><span class="token punctuation">(</span>temp<span class="token punctuation">,</span> temp<span class="token punctuation">)</span><span class="token punctuation">;</span>        n <span class="token operator">>>=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> power<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment" spellcheck="true">/*    ll matrix_temp[2][2] = {        0, 1,        1, 1    };    */</span>    Matrix matrix_temp<span class="token punctuation">;</span>    matrix_temp<span class="token punctuation">.</span>matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    matrix_temp<span class="token punctuation">.</span>matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    matrix_temp<span class="token punctuation">.</span>matrix<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    matrix_temp<span class="token punctuation">.</span>matrix<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//    ll matrix_fibonacci[1][2] = {</span><span class="token comment" spellcheck="true">//        1,//f(1) = 1; == f(n - 1);</span><span class="token comment" spellcheck="true">//        1 //f(2) = 1; == f(n);</span><span class="token comment" spellcheck="true">//    };</span>    ll n<span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 矩阵的指数</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>cin <span class="token operator">>></span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>        cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        Matrix matrix_power<span class="token punctuation">;</span>        matrix_power <span class="token operator">=</span> <span class="token function">Counting</span><span class="token punctuation">(</span>matrix_temp<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"f(%lld) = %lld\n"</span><span class="token punctuation">,</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>ll<span class="token punctuation">)</span><span class="token punctuation">(</span>matrix_power<span class="token punctuation">.</span>matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">%</span> mod<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"f(%lld) = %lld\n"</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> <span class="token punctuation">(</span>ll<span class="token punctuation">)</span><span class="token punctuation">(</span>matrix_power<span class="token punctuation">.</span>matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">%</span> mod<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//    printf("f(%lld) = %lld\n", n, (ll)(matrix_power.matrix[1][0] % mod));</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"f(%lld) = %lld\n"</span><span class="token punctuation">,</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>ll<span class="token punctuation">)</span><span class="token punctuation">(</span>matrix_power<span class="token punctuation">.</span>matrix<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">%</span> mod<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"f(%lld) = %lld\n"</span><span class="token punctuation">,</span> n <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>ll<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">(</span>matrix_power<span class="token punctuation">.</span>matrix<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> matrix_power<span class="token punctuation">.</span>matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">%</span> mod<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> N<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                cout <span class="token operator">&lt;&lt;</span> matrix_power<span class="token punctuation">.</span>matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></code></pre><p><strong>练习</strong><br><a href="http://">http://acm.hdu.edu.cn/showproblem.php?pid=2817</a> hdu 2817</p><pre class=" language-c++"><code class="language-c++">// AC代码#include <iostream>#include <cstdio>using namespace std;typedef long long ll;ll Counting(ll base, ll n) { //快速幂     ll power = 1; //幂也就是结果    while (n) {        if (n & 1) power = (power * base) % 200907; //判断最后一位二进制数是否为1        base = (base * base) % 200907;        n >>= 1; //去除最后一位二进制数    }    return power % 200907;}int main() {    int n;    ll a, b, c, k;    cin >> n;    while (n--) {            scanf("%lld %lld %lld %lld", &a, &b, &c, &k);        if(c + a == 2 * b) {            ll d = (b - a) % 200907;            ll t = ((a % 200907) + ((k - 1) % 200907) * d) % 200907;            cout << t << endl;        } else {            ll q = b / a;            cout << a * Counting(q, k - 1) % 200907 << endl;        }    }    return 0;}</code></pre><p><a href="http://">http://acm.hdu.edu.cn/showproblem.php?pid=1061</a> hdu 1061</p><pre class=" language-c++"><code class="language-c++">//AC代码#include <iostream>using namespace std;typedef long long ll;const ll mod = 10;ll Counting(ll base, ll n) {    ll power = 1;    while (n) {        if (n & 1) power = power * base % mod;        base = base * base % mod;        n >>= 1;    }    return power;}int main() {    int t;    cin >> t;    ll n;    while (t--) {        scanf("%lld", &n);        int temp = Counting(n, n) % 10;        printf("%d\n", temp);    }    return 0;}</code></pre><p><a href="http://">http://acm.hdu.edu.cn/showproblem.php?pid=5392</a> hdu5392 目前不会，置换群幂运算，表示不懂。<br><a href="http://"></a><br><a href="http://"></a><br><a href="http://"></a><br><a href="http://"></a></p><hr><h3 id="五、GCD、LCM"><a href="#五、GCD、LCM" class="headerlink" title="五、GCD、LCM"></a><strong>五、GCD、LCM</strong></h3><h4 id="1、GCD"><a href="#1、GCD" class="headerlink" title="1、GCD"></a><strong>1、GCD</strong></h4><p><strong>原理</strong></p><pre><code>利用辗转相除法</code></pre><p><strong>代码实现如下</strong></p><pre class=" language-c"><code class="language-c"><span class="token keyword">typedef</span> <span class="token keyword">long</span> <span class="token keyword">long</span> ll<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//法一  迭代法 </span>ll <span class="token function">gcd</span><span class="token punctuation">(</span>ll a<span class="token punctuation">,</span> ll b<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//默认a > b; </span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token punctuation">{</span>        ll temp <span class="token operator">=</span> a<span class="token punctuation">;</span>        a <span class="token operator">=</span> b<span class="token punctuation">;</span>        b <span class="token operator">=</span> temp <span class="token operator">%</span> b<span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token keyword">return</span> a<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token comment" spellcheck="true">// 法二 递归法</span>ll <span class="token function">gcd_1</span><span class="token punctuation">(</span>ll a<span class="token punctuation">,</span> ll b<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//默认a > b;</span>    <span class="token keyword">return</span> b <span class="token operator">?</span> <span class="token function">gcd_1</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> a <span class="token operator">%</span> b<span class="token punctuation">)</span> <span class="token punctuation">:</span> a<span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre><p><strong>验证</strong></p><pre class=" language-c++"><code class="language-c++">#include <iostream>#include <algorithm>using namespace std;typedef long long ll;//法一  迭代法 ll gcd(ll a, ll b) { //默认a > b;         while (b) {        ll temp = a;        a = b;        b = temp % b;    }    return a;}// 法二 递归法ll gcd_1(ll a, ll b) { //默认a > b;    return b ? gcd_1(b, a % b) : a;} int main() {    ll a, b;    while (cin >> a >> b) {                cout << __gcd(a, b) << endl; // C++内置函数 头文件 <algorithm>        cout << gcd(a, b) << endl;  // d迭代         cout << gcd_1(a, b) << endl;  //递归              }    return 0;} </code></pre><p>**实现了GCD, LCM不就简单了么. **</p><p>原理：</p><pre><code>最小公倍数为 a * b / gcd(a, b)</code></pre><pre class=" language-c"><code class="language-c">ll <span class="token function">lcm</span><span class="token punctuation">(</span>ll a<span class="token punctuation">,</span> ll b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> a <span class="token operator">/</span> <span class="token function">gcd</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">*</span> b<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 防止 a * b 溢出；</span><span class="token punctuation">}</span></code></pre><hr><h3 id="六、扩展欧几里得算法与一元二次方程的整数解"><a href="#六、扩展欧几里得算法与一元二次方程的整数解" class="headerlink" title="六、扩展欧几里得算法与一元二次方程的整数解"></a><strong>六、扩展欧几里得算法与一元二次方程的整数解</strong></h3><h3 id="七、同余与逆元"><a href="#七、同余与逆元" class="headerlink" title="七、同余与逆元"></a><strong>七、同余与逆元</strong></h3><h3 id="八、素数"><a href="#八、素数" class="headerlink" title="八、素数"></a><strong>八、素数</strong></h3><h4 id="1、快速线性筛"><a href="#1、快速线性筛" class="headerlink" title="1、快速线性筛"></a><strong>1、快速线性筛</strong></h4><p>快速线性筛法没有冗余，不会重复筛除一个数，所以几乎是线性的。<br>虽然从代码上分析，时间复杂度并不是O(n)，而是接近线性而已。</p><pre class=" language-c"><code class="language-c"><span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>prime<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> prime<span class="token punctuation">[</span><span class="token operator">++</span>prime<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//prime[0]存储素数个数，顺便把素数按顺序存储；</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> prime<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span> i <span class="token operator">*</span> prime<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">></span> n<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>            prime<span class="token punctuation">[</span>i <span class="token operator">*</span> prime<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//标记合数</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>i <span class="token operator">%</span> prime<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 减少重复标记</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></code></pre><h2 id="九、组合数学"><a href="#九、组合数学" class="headerlink" title="九、组合数学"></a><strong>九、组合数学</strong></h2><h3 id="十、鸽巢原理"><a href="#十、鸽巢原理" class="headerlink" title="十、鸽巢原理"></a><strong>十、鸽巢原理</strong></h3><h3 id="十一、杨辉三角与二项式系数"><a href="#十一、杨辉三角与二项式系数" class="headerlink" title="十一、杨辉三角与二项式系数"></a><strong>十一、杨辉三角与二项式系数</strong></h3><h3 id="十二、容斥原理"><a href="#十二、容斥原理" class="headerlink" title="十二、容斥原理"></a><strong>十二、容斥原理</strong></h3><h3 id="十三、Fibonacci数列"><a href="#十三、Fibonacci数列" class="headerlink" title="十三、Fibonacci数列"></a><strong>十三、Fibonacci数列</strong></h3><h3 id="十四、母函数"><a href="#十四、母函数" class="headerlink" title="十四、母函数"></a><strong>十四、母函数</strong></h3><h3 id="十五、特殊计数"><a href="#十五、特殊计数" class="headerlink" title="十五、特殊计数"></a><strong>十五、特殊计数</strong></h3><h2 id="十六、概率与数学期望"><a href="#十六、概率与数学期望" class="headerlink" title="十六、概率与数学期望"></a><strong>十六、概率与数学期望</strong></h2><h2 id="十七、公平组合游戏"><a href="#十七、公平组合游戏" class="headerlink" title="十七、公平组合游戏"></a><strong>十七、公平组合游戏</strong></h2><h3 id="十八、巴什游戏与P-position、-N-position"><a href="#十八、巴什游戏与P-position、-N-position" class="headerlink" title="十八、巴什游戏与P-position、 N-position"></a><strong>十八、巴什游戏与P-position、 N-position</strong></h3><h3 id="十九、尼姆游戏"><a href="#十九、尼姆游戏" class="headerlink" title="十九、尼姆游戏"></a><strong>十九、尼姆游戏</strong></h3><h3 id="二十、图游戏与Sprague-Grundy"><a href="#二十、图游戏与Sprague-Grundy" class="headerlink" title="二十、图游戏与Sprague-Grundy"></a><strong>二十、图游戏与Sprague-Grundy</strong></h3><h3 id="二十一、威佐夫游戏"><a href="#二十一、威佐夫游戏" class="headerlink" title="二十一、威佐夫游戏"></a><strong>二十一、威佐夫游戏</strong></h3>]]></content>
      
      
      
        <tags>
            
            <tag> 算法入门与进阶 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>动态规划</title>
      <link href="posts/d706.html"/>
      <url>posts/d706.html</url>
      
        <content type="html"><![CDATA[<h1 id="动态规划"><a href="#动态规划" class="headerlink" title="动态规划"></a>动态规划</h1><h2 id="动态规划满足的全局条件"><a href="#动态规划满足的全局条件" class="headerlink" title="动态规划满足的全局条件"></a>动态规划满足的全局条件</h2><h3 id="答案无后效性"><a href="#答案无后效性" class="headerlink" title="答案无后效性"></a>答案无后效性</h3><ul><li>答案不会随着后面的答案发生改变而改变</li></ul><h3 id="最优子结构"><a href="#最优子结构" class="headerlink" title="最优子结构"></a>最优子结构</h3><ul><li>确定小规模问题的答案后，大问题答案也确定</li><li>由小问题推出大问题</li></ul><h2 id="推出最优子结构的算法流程"><a href="#推出最优子结构的算法流程" class="headerlink" title="推出最优子结构的算法流程"></a>推出最优子结构的算法流程</h2><h3 id="观察题目"><a href="#观察题目" class="headerlink" title="观察题目"></a>观察题目</h3><ul><li>大问题与小问题的联系</li></ul><h3 id="状态定义"><a href="#状态定义" class="headerlink" title="状态定义"></a>状态定义</h3><ul><li>数组的定义</li></ul><h3 id="状态转移"><a href="#状态转移" class="headerlink" title="状态转移"></a>状态转移</h3><ul><li>求出转移方程</li></ul><h3 id="边界条件"><a href="#边界条件" class="headerlink" title="边界条件"></a>边界条件</h3><ul><li>边界处理与初始化</li></ul><p><em>其中最难的是与观察与联系和状态定义，想哭</em></p><h2 id="基础DP"><a href="#基础DP" class="headerlink" title="基础DP"></a><strong>基础DP</strong></h2><h3 id="硬币问题"><a href="#硬币问题" class="headerlink" title="硬币问题"></a><strong>硬币问题</strong></h3><h4 id="最少硬币问题"><a href="#最少硬币问题" class="headerlink" title="最少硬币问题"></a><strong>最少硬币问题</strong></h4><p><strong>思路</strong></p><pre><code>int type[] //定义面值数组 int dpmin[] // dpmin[i]表示金额i硬币最少数量；dpmin[i] = min{dpmin[i], dpmin[i - type[j]] + 1};</code></pre><p><strong>练习</strong><br><a href="https://">http://acm.hdu.edu.cn/showproblem.php?pid=2069</a>  hdu2069<br>代码如下</p><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cstdio></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> COIN <span class="token operator">=</span> <span class="token number">101</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> MONEY <span class="token operator">=</span> <span class="token number">251</span><span class="token punctuation">;</span><span class="token keyword">int</span> type<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//定义面值数组 </span><span class="token keyword">int</span> dpmin<span class="token punctuation">[</span><span class="token number">251</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">101</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// dpmin[i]表示金额i硬币最少数量；</span><span class="token comment" spellcheck="true">// dpmin[i] = min{dpmin[i], dpmin[i - type[j]] + 1}; </span><span class="token keyword">int</span> ans<span class="token punctuation">[</span><span class="token number">251</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        dpmin<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> COIN<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> type<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> MONEY<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                dpmin<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> dpmin<span class="token punctuation">[</span>k <span class="token operator">-</span> type<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>             <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> s<span class="token punctuation">;</span>    <span class="token function">solve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> MONEY<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> COIN<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            ans<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span><span class="token operator">=</span> dpmin<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>cin <span class="token operator">>></span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>        cout <span class="token operator">&lt;&lt;</span> ans<span class="token punctuation">[</span>s<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><hr><h2 id="经典DP"><a href="#经典DP" class="headerlink" title="经典DP"></a><strong>经典DP</strong></h2><h3 id="编辑距离"><a href="#编辑距离" class="headerlink" title="编辑距离"></a><strong>编辑距离</strong></h3><h5 id="概念"><a href="#概念" class="headerlink" title="概念"></a><strong>概念</strong></h5><pre><code>.编辑距离Edit Distance，又称 Levenshtein..两个字串之间，由一个转成另一个所需的最少编辑操作次数..编辑操作：---修改一个字符---插入一个字符---删除一个字符.编辑距离越小，两个串的相似度越大.</code></pre><pre><code>例如： S = "ANCF", T = "YNFK";操作：---1、把Y改为A;---2、删掉K;---3、加入C;答案为3；</code></pre><h5 id="状态定义-1"><a href="#状态定义-1" class="headerlink" title="状态定义"></a><strong>状态定义</strong></h5><pre><code>dp[i][j] : 表示字符串 S 与 T 的编辑距离；-dp[0][0] : S 与 T 都为空，编辑距离为0；-dp[0][j] = j : S 为空，T 长度为 j 的情况，编辑距离为 j , 也就是从 空的 S 添加 j 个字符变成 T 的最小编辑 距离为 j;-dp[i][j] = i : T 为空，S 长度为 i 的情况，编辑距离为 i , 也就是从 空的 T 添加 i 个字符变成 S 的最小编辑 距离为 i;</code></pre><h3 id="扔鸡蛋问题"><a href="#扔鸡蛋问题" class="headerlink" title="扔鸡蛋问题"></a><strong>扔鸡蛋问题</strong></h3><h3 id="整数背包"><a href="#整数背包" class="headerlink" title="整数背包"></a><strong>整数背包</strong></h3><h3 id="最大独立集"><a href="#最大独立集" class="headerlink" title="最大独立集"></a><strong>最大独立集</strong></h3><h3 id="最长公共子序列"><a href="#最长公共子序列" class="headerlink" title="最长公共子序列"></a><strong>最长公共子序列</strong></h3><h3 id="最长公共递增子序列"><a href="#最长公共递增子序列" class="headerlink" title="最长公共递增子序列"></a><strong>最长公共递增子序列</strong></h3><h3 id="最长公共子串"><a href="#最长公共子串" class="headerlink" title="最长公共子串"></a><strong>最长公共子串</strong></h3><h3 id="最长上升子序列"><a href="#最长上升子序列" class="headerlink" title="最长上升子序列"></a><strong>最长上升子序列</strong></h3><h3 id="最长回文子序列"><a href="#最长回文子序列" class="headerlink" title="最长回文子序列"></a><strong>最长回文子序列</strong></h3><h3 id="最长回文子串"><a href="#最长回文子串" class="headerlink" title="最长回文子串"></a><strong>最长回文子串</strong></h3><h3 id="最长不重复子串"><a href="#最长不重复子串" class="headerlink" title="最长不重复子串"></a><strong>最长不重复子串</strong></h3><h3 id="矩阵链乘"><a href="#矩阵链乘" class="headerlink" title="矩阵链乘"></a><strong>矩阵链乘</strong></h3><h3 id="最大正方形子矩阵"><a href="#最大正方形子矩阵" class="headerlink" title="最大正方形子矩阵"></a><strong>最大正方形子矩阵</strong></h3><h3 id="最长链对"><a href="#最长链对" class="headerlink" title="最长链对"></a><strong>最长链对</strong></h3><h3 id="最大递增子序列和"><a href="#最大递增子序列和" class="headerlink" title="最大递增子序列和"></a><strong>最大递增子序列和</strong></h3><h3 id="最优二叉搜索树"><a href="#最优二叉搜索树" class="headerlink" title="最优二叉搜索树"></a><strong>最优二叉搜索树</strong></h3><h3 id="回文分割"><a href="#回文分割" class="headerlink" title="回文分割"></a><strong>回文分割</strong></h3><h3 id="最大两段子段和"><a href="#最大两段子段和" class="headerlink" title="最大两段子段和"></a><strong>最大两段子段和</strong></h3><h3 id="最大M子段和"><a href="#最大M子段和" class="headerlink" title="最大M子段和"></a><strong>最大M子段和</strong></h3><h3 id="最长有序子序列"><a href="#最长有序子序列" class="headerlink" title="最长有序子序列"></a><strong>最长有序子序列</strong></h3><hr><h2 id="高级DP"><a href="#高级DP" class="headerlink" title="高级DP"></a><strong>高级DP</strong></h2>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>STL的使用</title>
      <link href="posts/9331.html"/>
      <url>posts/9331.html</url>
      
        <content type="html"><![CDATA[<h1 id="STL的使用"><a href="#STL的使用" class="headerlink" title="STL的使用"></a><strong>STL的使用</strong></h1><hr><h2 id="顺序式容器-：vector-list-deque-priority-queue-stack"><a href="#顺序式容器-：vector-list-deque-priority-queue-stack" class="headerlink" title="顺序式容器 ：vector, list, deque, priority_queue, stack;"></a>顺序式容器 ：vector, list, deque, priority_queue, stack;</h2><h3 id="一、vector"><a href="#一、vector" class="headerlink" title="一、vector"></a><strong>一、vector</strong></h3><h5 id="头文件：-include-lt-vector-gt"><a href="#头文件：-include-lt-vector-gt" class="headerlink" title="头文件：#include < vector >"></a><strong>头文件：#include &lt; vector &gt;</strong></h5><h5 id="优点-："><a href="#优点-：" class="headerlink" title="优点 ："></a><strong>优点 ：</strong></h5><p>1、是动态数组, 是模板类也称向量类, 可以存放任何类型的对象；</p><p>2、从末尾快速插入与删除元素，可直接访问任何元素，支持[]重载；</p><h5 id="缺点-："><a href="#缺点-：" class="headerlink" title="缺点 ："></a><strong>缺点 ：</strong></h5><p>1、vector 插入与删除中间某一元素需要线性时间，时间复杂度为O(n), 若频繁移动元素，效率很低；</p><hr><h5 id="定义-："><a href="#定义-：" class="headerlink" title="定义 ："></a><strong>定义 ：</strong></h5><table><thead><tr><th align="center">功能</th><th align="center">例子</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">定义int型数组</td><td align="center">vector &lt; int &gt; a;</td><td align="center">默认初始化，a为空</td></tr><tr><td align="center">定义int型数组</td><td align="center">vector &lt; int &gt; b(a);</td><td align="center">用a定义b</td></tr><tr><td align="center">定义int型数组</td><td align="center">vector &lt; int &gt; a(100);</td><td align="center">初始化a有100个值为0的元素</td></tr><tr><td align="center">定义int型数组</td><td align="center">vector &lt; int &gt; a(100, 6);</td><td align="center">初始化a有100个值为6的元素</td></tr><tr><td align="center">定义int型数组</td><td align="center">vector &lt; int &gt; a[n];</td><td align="center">定义二维容器a, 含有n个一维容器</td></tr><tr><td align="center">定义int型数组</td><td align="center">vector &lt; vector <int> &gt; a;</int></td><td align="center">定义二维容器a, 含有n个一维容器</td></tr><tr><td align="center">定义string型数组</td><td align="center">vector &lt; string &gt; ch(10, “hello”);</td><td align="center">初始化10个值为hello的元素</td></tr><tr><td align="center">定义string型数组</td><td align="center">vector &lt; string &gt; ch(10, “null”);</td><td align="center">初始化10个值为null的元素</td></tr><tr><td align="center">定义string型数组</td><td align="center">vector &lt; string &gt; ch(a.begin(), a.end());</td><td align="center">ch是a的复制</td></tr><tr><td align="center">定义结构体型数组</td><td align="center">struct point {int x, y;}; vector &lt; point &gt; node;</td><td align="center">node存放坐标</td></tr></tbody></table><hr><h5 id="常用操作："><a href="#常用操作：" class="headerlink" title="常用操作："></a><strong>常用操作：</strong></h5><p>以下操作均以vector &lt; int &gt; a 来使用</p><table><thead><tr><th align="center">功能</th><th align="center">例子</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">赋值</td><td align="center">a.push_back(100);</td><td align="center">在a的尾部压入100</td></tr><tr><td align="center">提取a的第一个元素</td><td align="center">int t = a.front();</td><td align="center">返回a的第一个元素值</td></tr><tr><td align="center">元素个数</td><td align="center">int size = a.size();</td><td align="center">求a的元素个数</td></tr><tr><td align="center">判断是否为空</td><td align="center">bool flag = a.empty();</td><td align="center">a为空返回值为true, 反之为false</td></tr><tr><td align="center">打印</td><td align="center">cout &lt;&lt; a[0] &lt;&lt; endl;</td><td align="center">打印a的第一个元素</td></tr><tr><td align="center">中间插入</td><td align="center">a.insert(a.begin() + i, k);</td><td align="center">在第i个元素前插入k</td></tr><tr><td align="center">中间插入</td><td align="center">a.insert(a.begin() + 1, 3, 5);</td><td align="center">在a的第2个元素的位置插入3个5</td></tr><tr><td align="center">尾部插入</td><td align="center">a.insert(a.end(), 10, 5)；</td><td align="center">尾部插入10个值为5的元素</td></tr><tr><td align="center">删除尾部</td><td align="center">a.pop_back();</td><td align="center">删除尾部元素</td></tr><tr><td align="center">删除区间</td><td align="center">a.erase(a.brgin() + i, a.begin() + j);</td><td align="center">删除区间[i, j - 1] 的元素</td></tr><tr><td align="center">删除元素</td><td align="center">a.erase(a.begin() + 2);</td><td align="center">删除第3个元素</td></tr><tr><td align="center">调整大小</td><td align="center">a.resize(n);</td><td align="center">调整容器大小为n</td></tr><tr><td align="center">清空</td><td align="center">a.clear();</td><td align="center">清空容器a</td></tr><tr><td align="center">翻转</td><td align="center">reverse(a.begin(), a.end());</td><td align="center">用函数reverse()翻转容器a</td></tr><tr><td align="center">提取a的尾部元素</td><td align="center">int t = a.back();</td><td align="center">返回a的最后一个元素值</td></tr></tbody></table><hr><h5 id="迭代器-iterator"><a href="#迭代器-iterator" class="headerlink" title="迭代器 iterator"></a><strong>迭代器 iterator</strong></h5><pre class=" language-c"><code class="language-c">vector <span class="token operator">&lt;</span> <span class="token keyword">int</span> <span class="token operator">></span> iterator it <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">while</span> <span class="token punctuation">(</span>it <span class="token operator">!=</span> a<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token operator">*</span>it <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token operator">++</span>it<span class="token punctuation">;</span>    <span class="token punctuation">}</span></code></pre><p><strong>习题</strong> hdu4841 <a href="http://">http://acm.hdu.edu.cn/showproblem.php?pid=4841</a></p><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;vector></span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    vector <span class="token operator">&lt;</span> <span class="token keyword">int</span> <span class="token operator">></span> table<span class="token punctuation">;</span>    <span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>cin <span class="token operator">>></span> n <span class="token operator">>></span> m<span class="token punctuation">)</span> <span class="token punctuation">{</span>        table<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//清空向量table;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">2</span> <span class="token operator">*</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> table<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//初始化table;</span>        <span class="token keyword">int</span> pos <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            pos <span class="token operator">=</span> <span class="token punctuation">(</span>pos <span class="token operator">+</span> m <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> table<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            table<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>table<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> pos<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">2</span> <span class="token operator">*</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> i<span class="token punctuation">)</span> cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>table<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token punctuation">(</span>i <span class="token operator">^</span> table<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                j<span class="token operator">++</span><span class="token punctuation">;</span>                cout <span class="token operator">&lt;&lt;</span> <span class="token string">"G"</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"B"</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        cout <span class="token operator">&lt;&lt;</span> endl <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><hr><h3 id="二、栈stack"><a href="#二、栈stack" class="headerlink" title="二、栈stack"></a><strong>二、栈stack</strong></h3><h5 id="头文件-include-lt-stack-gt"><a href="#头文件-include-lt-stack-gt" class="headerlink" title="头文件 #include < stack >"></a><strong>头文件 #include &lt; stack &gt;</strong></h5><h5 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a><strong>基本操作</strong></h5><hr><p>stack &lt; Type &gt; s; //定义栈，Type为数据类型，形如 int, float, cahr等</p><table><thead><tr><th align="center">函数</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">s.push(item);</td><td align="center">把 item 放到栈顶</td></tr><tr><td align="center">s.top();</td><td align="center">返回栈顶的元素，但不删除</td></tr><tr><td align="center">s.pop()</td><td align="center">删除栈顶元素</td></tr><tr><td align="center">s.size()</td><td align="center">返回栈中元素的个数</td></tr><tr><td align="center">s.empty()</td><td align="center">检查栈是否为空，空则返回true,非空返回fales</td></tr></tbody></table><hr><p>习题1062 <a href="http://">http://acm.hdu.edu.cn/showproblem.php?pid=1062</a></p><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;bits/stdc++.h></span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">;</span>    <span class="token keyword">char</span> ch<span class="token punctuation">;</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//刷新缓冲区</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        stack <span class="token operator">&lt;</span> <span class="token keyword">char</span> <span class="token operator">></span> s<span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>true<span class="token punctuation">)</span> <span class="token punctuation">{</span>            ch <span class="token operator">=</span> <span class="token function">getchar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>ch <span class="token operator">==</span> <span class="token string">' '</span> <span class="token operator">||</span> ch <span class="token operator">==</span> <span class="token string">'\n'</span> <span class="token operator">||</span> ch <span class="token operator">==</span> <span class="token constant">EOF</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>s<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%c"</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    s<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>ch <span class="token operator">==</span> <span class="token constant">EOF</span> <span class="token operator">||</span> ch <span class="token operator">==</span> <span class="token string">'\n'</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span> s<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><hr><h3 id="三、队列queue"><a href="#三、队列queue" class="headerlink" title="三、队列queue"></a><strong>三、队列queue</strong></h3><h5 id="头文件-include-lt-queue-gt"><a href="#头文件-include-lt-queue-gt" class="headerlink" title="头文件 #include < queue >"></a><strong>头文件 #include &lt; queue &gt;</strong></h5><h5 id="基本操作-1"><a href="#基本操作-1" class="headerlink" title="基本操作"></a><strong>基本操作</strong></h5><hr><p>queue &lt; Type &gt; q;</p><table><thead><tr><th align="center">函数</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">q.push(item);</td><td align="center">把item 压入队列</td></tr><tr><td align="center">q.front();</td><td align="center">返回队列首元素，但不删除</td></tr><tr><td align="center">q.empty();</td><td align="center">检查队列是否为空，空则返回true,非空返回fales</td></tr><tr><td align="center">q.pop();</td><td align="center">删除队首元素</td></tr><tr><td align="center">q.back();</td><td align="center">返回队尾元素</td></tr><tr><td align="center">q.size();</td><td align="center">返回队列元素个数</td></tr></tbody></table><hr><p>习题1702 <a href="http://">http://acm.hdu.edu.cn/showproblem.php?pid=1702</a></p><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;queue></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;stack></span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> t<span class="token punctuation">,</span> n<span class="token punctuation">,</span> temp<span class="token punctuation">;</span>    cin <span class="token operator">>></span> t<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>t<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        string str<span class="token punctuation">,</span> str1<span class="token punctuation">;</span>        queue <span class="token operator">&lt;</span> <span class="token keyword">int</span> <span class="token operator">></span> q<span class="token punctuation">;</span>        stack <span class="token operator">&lt;</span> <span class="token keyword">int</span> <span class="token operator">></span> s<span class="token punctuation">;</span>        cin <span class="token operator">>></span> n <span class="token operator">>></span> str<span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>str <span class="token operator">==</span> <span class="token string">"FIFO"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                cin <span class="token operator">>></span> str1<span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>str1 <span class="token operator">==</span> <span class="token string">"IN"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    cin <span class="token operator">>></span> temp<span class="token punctuation">;</span>                    q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>str1 <span class="token operator">==</span> <span class="token string">"OUT"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> cout <span class="token operator">&lt;&lt;</span> <span class="token string">"None"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>                    <span class="token keyword">else</span> <span class="token punctuation">{</span>                        cout <span class="token operator">&lt;&lt;</span> q<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>                        q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                cin <span class="token operator">>></span> str1<span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>str1 <span class="token operator">==</span> <span class="token string">"IN"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    cin <span class="token operator">>></span> temp<span class="token punctuation">;</span>                    s<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>str1 <span class="token operator">==</span> <span class="token string">"OUT"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"None"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>                    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                        cout <span class="token operator">&lt;&lt;</span> s<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>                        s<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><hr><h3 id="四、优先队列priority-queue"><a href="#四、优先队列priority-queue" class="headerlink" title="四、优先队列priority_queue"></a><strong>四、优先队列priority_queue</strong></h3><h5 id="头文件-include-lt-queue-gt-1"><a href="#头文件-include-lt-queue-gt-1" class="headerlink" title="头文件 #include < queue >"></a><strong>头文件 #include &lt; queue &gt;</strong></h5><h5 id="my理解："><a href="#my理解：" class="headerlink" title="my理解："></a>my理解：</h5><p>在 STL 中 优先队列用二叉堆实现，在队列中push一个数或pop一个数时间复杂度都是O(logn);<br>priority_queue默认优先级最高在前面</p><h5 id="定义"><a href="#定义" class="headerlink" title="定义:"></a>定义:</h5><p><strong>原型</strong></p><p>priority_queue &lt; Type, Container, Functional &gt;<br>Type : 数据类型<br>Container : 容器类型，不能用list<br>Functional : 比较方式</p><h5 id="基本操作-2"><a href="#基本操作-2" class="headerlink" title="基本操作"></a><strong>基本操作</strong></h5><hr><p>greater和less是std实现的两个仿函数（就是使一个类的使用看上去像一个函数。其实现就是类中实现一个operator()，这个类就有了类似函数的行为，就是一个仿函数类了）, 头文件为 #include &lt; functional &gt; ;</p><p>priority_queue &lt; int, vector &lt; int &gt;, less &lt; int &gt; &gt; q; // 大顶堆<br>priority_queue &lt; int, vector &lt; int &gt;, greater &lt; int &gt; &gt; q; // 小顶堆</p><p>以下默认大顶堆</p><table><thead><tr><th align="center">函数</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">q.pop();</td><td align="center">删除最高优先级元素</td></tr><tr><td align="center">q.top();</td><td align="center">返回最高优先级元素，但不删除该元素</td></tr><tr><td align="center">q.push(item);</td><td align="center">插入新元素</td></tr><tr><td align="center">q.size();</td><td align="center">返回队列元素个数</td></tr><tr><td align="center">q.empty()</td><td align="center">检查队列是否为空，空则返回true,非空返回fales</td></tr></tbody></table><hr><p>习题hdu1873 <a href="http://">http://acm.hdu.edu.cn/showproblem.php?pid=1873</a></p><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">//网上抄的 // hdu提交50ms</span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cstdio></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;queue></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cstring></span></span>using namespace std<span class="token punctuation">;</span><span class="token comment" spellcheck="true">/*   优先队列： q.top() --> 在队列中查找优先权最大的元素 有限队列插入和删除都是 O（lgn)   优先级最高的在最前面   */</span><span class="token keyword">struct</span> Node    <span class="token comment" spellcheck="true">//此题的坑在于————————> 排序的稳定性，如果两个数一样，不能交换</span><span class="token punctuation">{</span>        <span class="token keyword">int</span> priority<span class="token punctuation">;</span>        <span class="token keyword">int</span> index<span class="token punctuation">;</span>        bool operator <span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token keyword">const</span> Node <span class="token operator">&amp;</span>b<span class="token punctuation">)</span> <span class="token keyword">const</span>        <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span> priority <span class="token operator">!=</span> b<span class="token punctuation">.</span>priority<span class="token punctuation">)</span><span class="token comment" spellcheck="true">//不等于就倒退 </span>                        <span class="token keyword">return</span> priority <span class="token operator">&lt;</span> b<span class="token punctuation">.</span>priority<span class="token punctuation">;</span>                <span class="token keyword">return</span> index <span class="token operator">></span> b<span class="token punctuation">.</span>index<span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">int</span> n<span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span> <span class="token operator">~</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span> <span class="token punctuation">)</span>           <span class="token punctuation">{</span>                priority_queue <span class="token operator">&lt;</span> Node <span class="token operator">></span> que<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//系统默认元素值大的优先级高</span>                <span class="token keyword">int</span> ccccc <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>                <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>                <span class="token punctuation">{</span>                        <span class="token keyword">char</span> str<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%s"</span><span class="token punctuation">,</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>                         <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token operator">!</span><span class="token function">strcmp</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> <span class="token string">"IN"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                        <span class="token punctuation">{</span>                                Node temp<span class="token punctuation">;</span>                                  temp<span class="token punctuation">.</span>index <span class="token operator">=</span> ccccc<span class="token operator">++</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//记录这个病人的索引  </span>                                 <span class="token keyword">int</span> doctor_index<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//病人要看的医生的索引  </span>                                <span class="token keyword">int</span> priority<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//这个病人的优先级  </span>                                <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>doctor_index<span class="token punctuation">,</span><span class="token operator">&amp;</span>priority<span class="token punctuation">)</span><span class="token punctuation">;</span>                                  temp<span class="token punctuation">.</span>priority <span class="token operator">=</span> priority<span class="token punctuation">;</span>                                   que<span class="token punctuation">[</span>doctor_index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>                         <span class="token punctuation">}</span>                         <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token operator">!</span><span class="token function">strcmp</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> <span class="token string">"OUT"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                        <span class="token punctuation">{</span>                                <span class="token keyword">int</span> doctor_index<span class="token punctuation">;</span>                                <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>doctor_index<span class="token punctuation">)</span><span class="token punctuation">;</span>                                <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token operator">!</span>que<span class="token punctuation">[</span>doctor_index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                                <span class="token punctuation">{</span>                                        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> que<span class="token punctuation">[</span>doctor_index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>                                        que<span class="token punctuation">[</span>doctor_index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                <span class="token punctuation">}</span>                                <span class="token keyword">else</span>                                        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"EMPTY\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token punctuation">}</span>                <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span>  <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">//自己写的暂时不过，未能处理好级别相同先输出先到的病人</span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;queue></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cstdio></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cstring></span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">;</span>    string str<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token constant">EOF</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        priority_queue <span class="token operator">&lt;</span> pair <span class="token operator">&lt;</span> <span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">></span> <span class="token operator">></span> a1<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//一号医生</span>        priority_queue <span class="token operator">&lt;</span> pair <span class="token operator">&lt;</span> <span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">></span> <span class="token operator">></span> a2<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//二号医生</span>        priority_queue <span class="token operator">&lt;</span> pair <span class="token operator">&lt;</span> <span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">></span> <span class="token operator">></span> a3<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//三号医生</span>        <span class="token keyword">int</span> t <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 记录第几个病人</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            cin <span class="token operator">>></span> str<span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>str <span class="token operator">==</span> <span class="token string">"IN"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>                pair <span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> <span class="token function">ab</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">switch</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">case</span> <span class="token number">1</span> <span class="token punctuation">:</span>                        a1<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>ab<span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">break</span><span class="token punctuation">;</span>                    <span class="token keyword">case</span> <span class="token number">2</span> <span class="token punctuation">:</span>                        a2<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>ab<span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">break</span><span class="token punctuation">;</span>                    <span class="token keyword">case</span> <span class="token number">3</span> <span class="token punctuation">:</span>                        a3<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>ab<span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>                <span class="token operator">++</span>t<span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>str <span class="token operator">==</span> <span class="token string">"OUT"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">switch</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">case</span> <span class="token number">1</span> <span class="token punctuation">:</span>                        <span class="token keyword">if</span> <span class="token punctuation">(</span>a1<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"EMPTY\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">else</span> <span class="token punctuation">{</span>                            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> a1<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>second<span class="token punctuation">)</span><span class="token punctuation">;</span>                            a1<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token punctuation">}</span>                        <span class="token keyword">break</span><span class="token punctuation">;</span>                    <span class="token keyword">case</span> <span class="token number">2</span> <span class="token punctuation">:</span>                        <span class="token keyword">if</span> <span class="token punctuation">(</span>a2<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"EMPTY\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">else</span> <span class="token punctuation">{</span>                            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> a2<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>second<span class="token punctuation">)</span><span class="token punctuation">;</span>                            a2<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token punctuation">}</span>                        <span class="token keyword">break</span><span class="token punctuation">;</span>                    <span class="token keyword">case</span> <span class="token number">3</span> <span class="token punctuation">:</span>                        <span class="token keyword">if</span> <span class="token punctuation">(</span>a3<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"EMPTY\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">else</span> <span class="token punctuation">{</span>                            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> a3<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>second<span class="token punctuation">)</span><span class="token punctuation">;</span>                            a3<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token punctuation">}</span>                        <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>历时一晚上终于搞清楚了，咨询了大佬，需要重新写个仿函数my_greater,下面来看代码；</p><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">// hdu 提交 110ms,但还是过了</span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;queue></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cstdio></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cstring></span></span>using namespace std<span class="token punctuation">;</span>class my_less <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//重载的大顶堆仿函数；</span>public<span class="token punctuation">:</span>    bool <span class="token function">operator</span> <span class="token punctuation">(</span> <span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">const</span> pair <span class="token operator">&lt;</span> <span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">></span> <span class="token operator">&amp;</span> a<span class="token punctuation">,</span> <span class="token keyword">const</span> pair <span class="token operator">&lt;</span> <span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">></span> <span class="token operator">&amp;</span> b<span class="token punctuation">)</span> <span class="token keyword">const</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>first <span class="token operator">==</span> b<span class="token punctuation">.</span>first<span class="token punctuation">)</span> <span class="token keyword">return</span> a<span class="token punctuation">.</span>second <span class="token operator">></span> b<span class="token punctuation">.</span>second<span class="token punctuation">;</span>        <span class="token keyword">else</span> <span class="token keyword">return</span> a<span class="token punctuation">.</span>first <span class="token operator">&lt;</span> b<span class="token punctuation">.</span>first<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">;</span>    string str<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token constant">EOF</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        priority_queue <span class="token operator">&lt;</span> pair <span class="token operator">&lt;</span> <span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">></span><span class="token punctuation">,</span> vector <span class="token operator">&lt;</span> pair <span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">></span> <span class="token operator">></span><span class="token punctuation">,</span> my_less<span class="token operator">></span> a1<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 一号医生</span>        priority_queue <span class="token operator">&lt;</span> pair <span class="token operator">&lt;</span> <span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">></span><span class="token punctuation">,</span> vector <span class="token operator">&lt;</span> pair <span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">></span> <span class="token operator">></span><span class="token punctuation">,</span> my_less<span class="token operator">></span> a2<span class="token punctuation">;</span>        priority_queue <span class="token operator">&lt;</span> pair <span class="token operator">&lt;</span> <span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">></span><span class="token punctuation">,</span> vector <span class="token operator">&lt;</span> pair <span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">></span> <span class="token operator">></span><span class="token punctuation">,</span> my_less<span class="token operator">></span> a3<span class="token punctuation">;</span>        <span class="token keyword">int</span> t <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 病人的1病号</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            cin <span class="token operator">>></span> str<span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>str <span class="token operator">==</span> <span class="token string">"IN"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>                pair <span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> <span class="token function">ab</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">switch</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">case</span> <span class="token number">1</span> <span class="token punctuation">:</span>                        a1<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>ab<span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">break</span><span class="token punctuation">;</span>                    <span class="token keyword">case</span> <span class="token number">2</span> <span class="token punctuation">:</span>                        a2<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>ab<span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">break</span><span class="token punctuation">;</span>                    <span class="token keyword">case</span> <span class="token number">3</span> <span class="token punctuation">:</span>                        a3<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>ab<span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>                <span class="token operator">++</span>t<span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>str <span class="token operator">==</span> <span class="token string">"OUT"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">switch</span> <span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">case</span> <span class="token number">1</span> <span class="token punctuation">:</span>                        <span class="token keyword">if</span> <span class="token punctuation">(</span>a1<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"EMPTY\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">else</span> <span class="token punctuation">{</span>                            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> a1<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>second<span class="token punctuation">)</span><span class="token punctuation">;</span>                            a1<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token punctuation">}</span>                        <span class="token keyword">break</span><span class="token punctuation">;</span>                    <span class="token keyword">case</span> <span class="token number">2</span> <span class="token punctuation">:</span>                        <span class="token keyword">if</span> <span class="token punctuation">(</span>a2<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"EMPTY\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">else</span> <span class="token punctuation">{</span>                            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> a2<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>second<span class="token punctuation">)</span><span class="token punctuation">;</span>                            a2<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token punctuation">}</span>                        <span class="token keyword">break</span><span class="token punctuation">;</span>                    <span class="token keyword">case</span> <span class="token number">3</span> <span class="token punctuation">:</span>                        <span class="token keyword">if</span> <span class="token punctuation">(</span>a3<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"EMPTY\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token keyword">else</span> <span class="token punctuation">{</span>                            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> a3<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>second<span class="token punctuation">)</span><span class="token punctuation">;</span>                            a3<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token punctuation">}</span>                        <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p>偷偷的把代码缩短，但是运行时间还是没多大变化；<br>以后还是少用pair吧，改用结构体还好点；</p><pre class=" language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;iostream></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;queue></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cstdio></span></span><span class="token macro property">#<span class="token directive keyword">include</span> <span class="token string">&lt;cstring></span></span>using namespace std<span class="token punctuation">;</span>class my_less <span class="token punctuation">{</span>public<span class="token punctuation">:</span>    bool <span class="token function">operator</span> <span class="token punctuation">(</span> <span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">const</span> pair <span class="token operator">&lt;</span> <span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">></span> <span class="token operator">&amp;</span> a<span class="token punctuation">,</span> <span class="token keyword">const</span> pair <span class="token operator">&lt;</span> <span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">></span> <span class="token operator">&amp;</span> b<span class="token punctuation">)</span> <span class="token keyword">const</span>    <span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>first <span class="token operator">==</span> b<span class="token punctuation">.</span>first<span class="token punctuation">)</span> <span class="token keyword">return</span> a<span class="token punctuation">.</span>second <span class="token operator">></span> b<span class="token punctuation">.</span>second<span class="token punctuation">;</span>        <span class="token keyword">else</span> <span class="token keyword">return</span> a<span class="token punctuation">.</span>first <span class="token operator">&lt;</span> b<span class="token punctuation">.</span>first<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">;</span>    string str<span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>n<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token constant">EOF</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        priority_queue <span class="token operator">&lt;</span> pair <span class="token operator">&lt;</span> <span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">></span><span class="token punctuation">,</span> vector <span class="token operator">&lt;</span> pair <span class="token operator">&lt;</span> <span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">></span> <span class="token operator">></span><span class="token punctuation">,</span> my_less <span class="token operator">></span> dector<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 医生序号 </span>        <span class="token keyword">int</span> t <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//病人的病号 </span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            cin <span class="token operator">>></span> str<span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>str <span class="token operator">==</span> <span class="token string">"IN"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>                pair <span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">></span> <span class="token function">ab</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>                dector<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>ab<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token operator">++</span>t<span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>str <span class="token operator">==</span> <span class="token string">"OUT"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>dector<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"EMPTY\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">else</span> <span class="token punctuation">{</span>                    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> dector<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>second<span class="token punctuation">)</span><span class="token punctuation">;</span>                    dector<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>c        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span></code></pre><p><strong>总结</strong><br>题目不难，但有个难点，需要重载&lt;运算符；或者直接重新写过greator仿函数；</p><pre class=" language-c"><code class="language-c"><span class="token comment" spellcheck="true">// 重载pair，其实pair是结构体实现的；而不是class;</span>typedeof pair <span class="token operator">&lt;</span> <span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">></span> pll<span class="token punctuation">;</span><span class="token comment" spellcheck="true">// 实现 first相等时，second小的优先级高</span>class my_greater <span class="token punctuation">{</span>public<span class="token punctuation">:</span>    bool <span class="token function">operator</span> <span class="token punctuation">(</span> <span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">const</span> pll <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token keyword">const</span> pll <span class="token operator">&amp;</span>b<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> a<span class="token punctuation">.</span>first <span class="token operator">==</span> b<span class="token punctuation">.</span>first <span class="token operator">?</span> a<span class="token punctuation">.</span>second <span class="token operator">&lt;</span> b<span class="token punctuation">.</span>second <span class="token punctuation">:</span> a<span class="token punctuation">.</span>first <span class="token operator">></span> b<span class="token punctuation">.</span>first<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//其实greater 本来是这样的原理</span>class my_greater <span class="token punctuation">{</span>public<span class="token punctuation">:</span><span class="token comment" spellcheck="true">// 实现 first相等时，second大的优先级高</span>    bool <span class="token function">operator</span> <span class="token punctuation">(</span> <span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">const</span> pll <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token keyword">const</span> pll <span class="token operator">&amp;</span>b<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> a<span class="token punctuation">.</span>first <span class="token operator">==</span> b<span class="token punctuation">.</span>first <span class="token operator">?</span> a<span class="token punctuation">.</span>second <span class="token operator">></span> b<span class="token punctuation">.</span>second <span class="token punctuation">:</span> a<span class="token punctuation">.</span>first <span class="token operator">></span> b<span class="token punctuation">.</span>first<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//同理  less也可以实现 first相等时，second小的优先级高</span>class my_less <span class="token punctuation">{</span>public<span class="token punctuation">:</span><span class="token comment" spellcheck="true">// 实现 first相等时，second 小的优先级高</span>    bool <span class="token function">operator</span> <span class="token punctuation">(</span> <span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">const</span> pll <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token keyword">const</span> pll <span class="token operator">&amp;</span>b<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> a<span class="token punctuation">.</span>first <span class="token operator">==</span> b<span class="token punctuation">.</span>first <span class="token operator">?</span> a<span class="token punctuation">.</span>second <span class="token operator">></span> b<span class="token punctuation">.</span>second <span class="token punctuation">:</span> a<span class="token punctuation">.</span>first <span class="token operator">&lt;</span> b<span class="token punctuation">.</span>first<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>当然   除了用上述方法外，还可以用下列方法<span class="token punctuation">(</span>我懂的<span class="token punctuation">)</span><span class="token comment" spellcheck="true">// 自定义类型如下</span><span class="token comment" spellcheck="true">// 结构体小于号重载</span><span class="token keyword">struct</span> node <span class="token punctuation">{</span>    <span class="token keyword">int</span> x<span class="token punctuation">,</span> y<span class="token punctuation">;</span>     bool operator <span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token keyword">const</span> node <span class="token operator">&amp;</span>b<span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//应用于本题</span>    <span class="token keyword">return</span> x <span class="token operator">==</span> b<span class="token punctuation">.</span>x <span class="token operator">?</span> y <span class="token operator">&lt;</span> b<span class="token punctuation">.</span>y <span class="token punctuation">:</span> x <span class="token operator">></span> b<span class="token punctuation">.</span>x<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><hr><h3 id="五、链表list"><a href="#五、链表list" class="headerlink" title="五、链表list"></a><strong>五、链表list</strong></h3><h5 id="头文件-include-lt-list-gt"><a href="#头文件-include-lt-list-gt" class="headerlink" title="头文件 #include < list >"></a><strong>头文件 #include &lt; list &gt;</strong></h5><h3 id="六、集合set"><a href="#六、集合set" class="headerlink" title="六、集合set"></a><strong>六、集合set</strong></h3><h5 id="头文件-include-lt-set-gt"><a href="#头文件-include-lt-set-gt" class="headerlink" title="头文件 #include < set >"></a><strong>头文件 #include &lt; set &gt;</strong></h5><h4 id="主要操作"><a href="#主要操作" class="headerlink" title="主要操作"></a>主要操作</h4><h3 id="七、映射map"><a href="#七、映射map" class="headerlink" title="七、映射map"></a><strong>七、映射map</strong></h3><h5 id="头文件-include-lt-map-gt"><a href="#头文件-include-lt-map-gt" class="headerlink" title="头文件 #include  < map >"></a><strong>头文件 #include  &lt; map &gt;</strong></h5><p><strong>unordered_map内部原理是散列表，查找操作O(1)，而map内部原理为一颗红黑树</strong></p><h4 id="主要操作-1"><a href="#主要操作-1" class="headerlink" title="主要操作"></a>主要操作</h4><p>* </p>]]></content>
      
      
      
        <tags>
            
            <tag> 算法入门与进阶 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
